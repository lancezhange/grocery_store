(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{334:function(s,t,a){s.exports=a.p+"assets/img/2019-05-17-22-08-13.9cadeeb5.png"},335:function(s,t,a){s.exports=a.p+"assets/img/2019-07-03-09-38-08.f4018f46.png"},336:function(s,t,a){s.exports=a.p+"assets/img/2019-05-17-22-08-54.1281cba2.png"},527:function(s,t,a){"use strict";a.r(t);var e=a(17),i=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"tree-boosting-ignore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tree-boosting-ignore"}},[s._v("#")]),s._v(" Tree Boosting {ignore}")]),s._v(" "),e("p",[s._v("[TOC]")]),s._v(" "),e("p",[s._v("树模型的优缺点")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("优点")]),s._v(" "),e("th",[s._v("缺点")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("不用归一化特征")]),s._v(" "),e("td",[s._v("缺乏平滑性（回归预测时输出值只能输出有限的若干种数值")])]),s._v(" "),e("tr",[e("td",[s._v("有特征组合的作用")]),s._v(" "),e("td",[s._v("不适合处理高维稀疏数据")])])])]),s._v(" "),e("h3",{attrs:{id:"决策树"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#决策树"}},[s._v("#")]),s._v(" 决策树")]),s._v(" "),e("p",[s._v("决策树算法的缺点： 容易过拟合")]),s._v(" "),e("p",[s._v("对序列")]),s._v("\nX = \\left\\\\{ x _ { 0 } , x _ { 1 } , x _ { 2 } , \\ldots , x _ { n } \\right\\\\}\n\n"),e("p",[s._v("如何找到一个分割点，使得左侧和右侧的均方误差最小化？")]),s._v(" "),e("p",[s._v("简单粗暴的办法就是从 0 到 n 遍历所有的切分点。但这样的话，每次遍历一次切分点，都要重新计算一次均值，然后再算 n 次减法的平方和。")]),s._v(" "),e("h4",{attrs:{id:"id3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#id3"}},[s._v("#")]),s._v(" ID3")]),s._v(" "),e("p",[s._v("采用 entropy 计算增益。缺点： 偏好用取值数目较多的属性进行划分。")]),s._v(" "),e("h4",{attrs:{id:"c4-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#c4-5"}},[s._v("#")]),s._v(" C4.5")]),s._v(" "),e("p",[s._v("增益率: 增益除以该特征本身固有的熵。")]),s._v(" "),e("h4",{attrs:{id:"cart"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cart"}},[s._v("#")]),s._v(" CART")]),s._v(" "),e("p",[s._v("分类和回归树")]),s._v(" "),e("p",[s._v("采用 gini 指数计算增益。")]),s._v("\n\\operatorname { Gini } ( p ) = \\sum _ { k = 1 } ^ { K } p _ { k } \\left( 1 - p _ { k } \\right) = 1 - \\sum _ { k = 1 } ^ { K } p _ { k } ^ { 2 }\n\n"),e("p",[s._v("从公式可以看到，基尼指数的意义是：从数据集 D 中随机抽取两个样本，其类别标记不一致的概率")]),s._v(" "),e("h2",{attrs:{id:"gbdt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gbdt"}},[s._v("#")]),s._v(" GBDT")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("F")]),e("mo",[s._v("(")]),e("mi",[s._v("x")]),e("mo",{attrs:{separator:"true"}},[s._v(";")]),e("mi",[s._v("w")]),e("mo",[s._v(")")]),e("mo",[s._v("=")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("=")]),e("mn",[s._v("0")])],1),e("mrow",[e("mi",[s._v("T")])],1)],1),e("msub",[e("mi",[s._v("α")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("mi",[s._v("x")]),e("mo",{attrs:{separator:"true"}},[s._v(";")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("=")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("=")]),e("mn",[s._v("0")])],1),e("mrow",[e("mi",[s._v("T")])],1)],1),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("mi",[s._v("x")]),e("mo",{attrs:{separator:"true"}},[s._v(";")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("F ( x ; w ) = \\sum _ { i = 0 } ^ { T } \\alpha _ { t } h _ { t } \\left( x ; w _ { t } \\right) = \\sum _ { i = 0 } ^ { T } f _ { t } \\left( x ; w _ { t } \\right)\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.8283360000000002em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"3.106005em","vertical-align":"-1.277669em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("F")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mpunct"},[s._v(";")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("0")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.0037em"}},[s._v("α")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.0037em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mpunct"},[s._v(";")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("0")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mpunct"},[s._v(";")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])])])]),s._v(" "),e("p",[s._v("NP 难问题 -> 通过贪心法，迭代求局部最优解")]),s._v(" "),e("h2",{attrs:{id:"xgboost"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xgboost"}},[s._v("#")]),s._v(" XGBoost")]),s._v(" "),e("h3",{attrs:{id:"算法原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#算法原理"}},[s._v("#")]),s._v(" 算法原理")]),s._v(" "),e("h4",{attrs:{id:"预测函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#预测函数"}},[s._v("#")]),s._v(" 预测函数")]),s._v("\nh ( \\hat { y } | \\vec { x } ) = \\sum _ { i = 1 } ^ { K } f _ { i } ( \\vec { x } ) ; \\\\\\\n其中\nf _ { i } \\in F , F = \\\\{ f (\\vec { x } ) = w _ { q ( \\vec { x } ) } \\\\}\n\\left( q : \\vec { x } \\rightarrow T , w \\in R ^ { T } \\right)\n\n"),e("p",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("T")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("T")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),s._v(" 是叶子节点的个数。\n每个"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("f")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("f")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")])])])]),s._v(" 都对应一个独立的树结构 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("q")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("q")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("q")])])])]),s._v(" 和 叶节点的权重 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("w")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")])])])])]),s._v(" "),e("p",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("q")]),e("mo",[s._v("(")]),e("mi",[s._v("x")]),e("mo",[s._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("q(x)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("q")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v(" 表示将样本 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("x")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("x")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("x")])])])]),s._v(" 分到了某个叶子节点上，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("w")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")])])])]),s._v(" 是叶子节点的分数（leaf score），所以 $ w _ { q ( x ) }$表示回归树对样本的预测值")]),s._v(" "),e("p",[s._v("这里就体现出了 "),e("strong",[s._v("加性模型")]),s._v("（additive training）")]),s._v(" "),e("p",[s._v("另外注意到： 树结构和叶子节点的权重分开来看！")]),s._v(" "),e("h4",{attrs:{id:"目标函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目标函数"}},[s._v("#")]),s._v(" 目标函数")]),s._v(" "),e("p",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("n")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("n")])])])]),s._v(" 个样本 和 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("K")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("K")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("K")])])])]),s._v(" 个树，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("T")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("T")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),s._v(" 个叶子节点")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("O")]),e("mi",[s._v("b")]),e("mi",[s._v("j")]),e("mo",[s._v("=")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("n")])],1)],1),e("mi",[s._v("l")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("y")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("msub",[e("mover",{attrs:{accent:"true"}},[e("mrow",[e("mi",[s._v("y")])],1),e("mo",[s._v("^")])],1),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("+")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("k")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("K")])],1)],1),e("mi",{attrs:{mathvariant:"normal"}},[s._v("Ω")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("k")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("O b j = \\sum _ { i = 1 } ^ { n } l \\left( y _ { i } , \\hat { y } _ { i } \\right) + \\sum _ { k = 1 } ^ { K } \\Omega \\left( f _ { k } \\right)\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.8283360000000002em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"3.1304490000000005em","vertical-align":"-1.302113em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),e("span",{staticClass:"mord mathit"},[s._v("b")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("n")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord accent"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])]),e("span",{staticStyle:{top:"0em","margin-left":"0.11112em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"accent-body"},[e("span",[s._v("^")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.202113em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000032756em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.250005em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("K")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord mathrm"},[s._v("Ω")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])])])]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("Ω")]),e("mo",[s._v("(")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("k")])],1)],1),e("mo",[s._v(")")]),e("mo",[s._v("=")]),e("mi",[s._v("γ")]),e("mi",[s._v("T")]),e("mo",[s._v("+")]),e("mfrac",[e("mn",[s._v("1")]),e("mn",[s._v("2")])],1),e("mi",[s._v("λ")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("j")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mi",[s._v("T")])],1),e("mrow",[e("msubsup",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("j")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\Omega ( f _ { k } ) = \\gamma T + \\frac 1 2  \\lambda \\sum_{j=1}^T {w _ { j } ^ { 2 }}\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.8283360000000006em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"3.2421130000000007em","vertical-align":"-1.4137769999999998em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("Ω")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05556em"}},[s._v("γ")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mord mathit"},[s._v("λ")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000254801em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000005em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.24700000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticStyle:{top:"-0.41300000000000003em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])])]),s._v(" "),e("p",[s._v("其中，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("l")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("l")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")])])])]),s._v(" 是一个可微凸损失函数。")]),s._v(" "),e("p",[s._v("对叶子节点个数进行惩罚，相当于在训练过程中做了剪枝。")]),s._v(" "),e("h4",{attrs:{id:"优化求解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优化求解"}},[s._v("#")]),s._v(" 优化求解")]),s._v(" "),e("p",[s._v("第 t 次迭代后，模型的预测等于前 t-1 次的模型预测加上第 t 棵树的预测")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msubsup",[e("mover",{attrs:{accent:"true"}},[e("mrow",[e("mi",[s._v("y")])],1),e("mo",[s._v("^")])],1),e("mrow",[e("mi",[s._v("i")])],1),e("mrow",[e("mo",[s._v("(")]),e("mi",[s._v("t")]),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mover",{attrs:{accent:"true"}},[e("mrow",[e("mi",[s._v("y")])],1),e("mo",[s._v("^")])],1),e("mrow",[e("mi",[s._v("i")])],1),e("mrow",[e("mo",[s._v("(")]),e("mi",[s._v("t")]),e("mo",[s._v("−")]),e("mn",[s._v("1")]),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("+")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("x")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\hat { y } _ { i } ^ { ( t ) } = \\hat { y } _ { i } ^ { ( t - 1 ) } + f _ { t } \\left( x _ { i } \\right)\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.0448em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.321664em","vertical-align":"-0.276864em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord accent"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])]),e("span",{staticStyle:{top:"0em","margin-left":"0.11112em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"accent-body"},[e("span",[s._v("^")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.276864em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticStyle:{top:"-0.5198em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord accent"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])]),e("span",{staticStyle:{top:"0em","margin-left":"0.11112em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"accent-body"},[e("span",[s._v("^")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.276864em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticStyle:{top:"-0.5198em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathrm"},[s._v("1")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])])])]),s._v(" "),e("p",[s._v("此时目标函数可写作：")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"script"}},[s._v("L")])],1),e("mrow",[e("mo",[s._v("(")]),e("mi",[s._v("t")]),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("n")])],1)],1),e("mi",[s._v("l")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("y")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("msubsup",[e("mover",{attrs:{accent:"true"}},[e("mrow",[e("mi",[s._v("y")])],1),e("mo",[s._v("^")])],1),e("mrow",[e("mi",[s._v("i")])],1),e("mrow",[e("mo",[s._v("(")]),e("mi",[s._v("t")]),e("mo",[s._v("−")]),e("mn",[s._v("1")]),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("+")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("+")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("Ω")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathcal { L } ^ { ( t ) } = \\sum _ { i = 1 } ^ { n } l \\left( y _ { i } , \\hat { y } _ { i } ^ { ( t - 1 ) } + f _ { t } \\left( \\mathbf { x } _ { i } \\right) \\right) + \\Omega \\left( f _ { t } \\right)\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.6513970000000002em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.929066em","vertical-align":"-1.277669em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathcal"},[s._v("L")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("n")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[s._v("(")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord accent"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])]),e("span",{staticStyle:{top:"0em","margin-left":"0.11112em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"accent-body"},[e("span",[s._v("^")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.276864em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticStyle:{top:"-0.5198em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathrm"},[s._v("1")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[s._v(")")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathrm"},[s._v("Ω")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])])])]),s._v(" "),e("p",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("y")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("msubsup",[e("mover",{attrs:{accent:"true"}},[e("mrow",[e("mi",[s._v("y")])],1),e("mo",[s._v("~")])],1),e("mrow",[e("mi",[s._v("i")])],1),e("mrow",[e("mo",[s._v("(")]),e("mi",[s._v("t")]),e("mo",[s._v("−")]),e("mn",[s._v("1")]),e("mo",[s._v(")")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("y _ { i } , \\tilde { y } _ { i } ^ { ( t - 1 ) }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.0448em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.321664em","vertical-align":"-0.27686399999999994em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord accent"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])]),e("span",{staticStyle:{top:"-0.35em","margin-left":"0.11112em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"accent-body"},[e("span",[s._v("~")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.27686399999999994em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticStyle:{top:"-0.5198em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathrm"},[s._v("1")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 均为已知，模型要学习的的只有第"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("t")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("t")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),s._v("课树 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("f")]),e("mi",[s._v("t")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("f_t")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])]),s._v(" "),e("p",[s._v("将误差函数在 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msubsup",[e("mover",{attrs:{accent:"true"}},[e("mrow",[e("mi",[s._v("y")])],1),e("mo",[s._v("~")])],1),e("mrow",[e("mi",[s._v("i")])],1),e("mrow",[e("mo",[s._v("(")]),e("mi",[s._v("t")]),e("mo",[s._v("−")]),e("mn",[s._v("1")]),e("mo",[s._v(")")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\tilde { y } _ { i } ^ { ( t - 1 ) }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.0448em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.321664em","vertical-align":"-0.27686399999999994em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord accent"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])]),e("span",{staticStyle:{top:"-0.35em","margin-left":"0.11112em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"accent-body"},[e("span",[s._v("~")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.27686399999999994em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticStyle:{top:"-0.5198em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathrm"},[s._v("1")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 处进行二阶泰勒展开：")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"script"}},[s._v("L")])],1),e("mrow",[e("mo",[s._v("(")]),e("mi",[s._v("t")]),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("≃")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("n")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("[")]),e("mi",[s._v("l")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("y")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("msup",[e("mover",{attrs:{accent:"true"}},[e("mrow",[e("mi",[s._v("y")])],1),e("mo",[s._v("^")])],1),e("mrow",[e("mo",[s._v("(")]),e("mi",[s._v("t")]),e("mo",[s._v("−")]),e("mn",[s._v("1")]),e("mo",[s._v(")")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("+")]),e("msub",[e("mi",[s._v("g")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("+")]),e("mfrac",[e("mrow",[e("mn",[s._v("1")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("msubsup",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",{attrs:{fence:"true"}},[s._v("]")])],1),e("mo",[s._v("+")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("Ω")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathcal { L } ^ { ( t ) } \\simeq \\sum _ { i = 1 } ^ { n } \\left[ l \\left( y _ { i } , \\hat { y } ^ { ( t - 1 ) } \\right) + g _ { i } f _ { t } \\left( \\mathbf { x } _ { i } \\right) + \\frac { 1 } { 2 } h _ { i } f _ { t } ^ { 2 } \\left( \\mathbf { x } _ { i } \\right) \\right] + \\Omega \\left( f _ { t } \\right)\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.6513970000000002em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.929066em","vertical-align":"-1.277669em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathcal"},[s._v("L")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("≃")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("n")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[s._v("[")])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[s._v("(")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord accent"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])]),e("span",{staticStyle:{top:"0em","margin-left":"0.11112em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"accent-body"},[e("span",[s._v("^")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathrm"},[s._v("1")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[s._v(")")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-left":"-0.10764em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticStyle:{top:"-0.4129999999999999em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[s._v("]")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathrm"},[s._v("Ω")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])])])]),s._v(" "),e("p",[s._v("其中")]),s._v("\ng _ { i } = \\partial _ { \\hat { y } ^ { ( t - 1 ) } } l \\left( y _ { i } , \\hat { y } ^ { ( t - 1 ) } \\right) \\\\\\\nh _ { i } = \\partial _ { \\hat { y } ^ { ( t - 1 ) } } ^ { 2 } l \\left( y _ { i } , \\hat { y } ^ { ( t - 1 ) } \\right)\n\n"),e("p",[s._v("将公式中的常数项去掉，得")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msup",[e("mover",{attrs:{accent:"true"}},[e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"script"}},[s._v("L")])],1)],1),e("mo",[s._v("~")])],1),e("mrow",[e("mo",[s._v("(")]),e("mi",[s._v("t")]),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("n")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("[")]),e("msub",[e("mi",[s._v("g")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("+")]),e("mfrac",[e("mrow",[e("mn",[s._v("1")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("msubsup",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",{attrs:{fence:"true"}},[s._v("]")])],1),e("mo",[s._v("+")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("Ω")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\tilde { \\mathcal { L } } ^ { ( t ) } = \\sum _ { i = 1 } ^ { n } \\left[ g _ { i } f _ { t } \\left( \\mathbf { x } _ { i } \\right) + \\frac { 1 } { 2 } h _ { i } f _ { t } ^ { 2 } \\left( \\mathbf { x } _ { i } \\right) \\right] + \\Omega \\left( f _ { t } \\right)\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.6513970000000002em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.929066em","vertical-align":"-1.277669em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord accent"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle cramped"},[e("span",{staticClass:"mord displaystyle textstyle cramped"},[e("span",{staticClass:"mord mathcal"},[s._v("L")])])])]),e("span",{staticStyle:{top:"-0.60233em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"accent-body"},[e("span",[s._v("~")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.53419em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("n")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[s._v("[")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-left":"-0.10764em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticStyle:{top:"-0.4129999999999999em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[s._v("]")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathrm"},[s._v("Ω")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])])])]),s._v(" "),e("p",[s._v("把 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("Ω")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("f _ { t } , \\Omega \\left( f _ { t } \\right)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathrm"},[s._v("Ω")]),e("span",{staticClass:"minner textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])]),s._v(" 写成树结构的形式，即把下式带入：")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("f")]),e("mo",[s._v("(")]),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1),e("mo",[s._v(")")]),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("q")]),e("mo",[s._v("(")]),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1),e("mo",[s._v(")")])],1)],1),e("mspace",{attrs:{width:"1em"}}),e("mi",{attrs:{mathvariant:"normal"}},[s._v("Ω")]),e("mo",[s._v("(")]),e("mi",[s._v("f")]),e("mo",[s._v(")")]),e("mo",[s._v("=")]),e("mi",[s._v("γ")]),e("mi",[s._v("T")]),e("mo",[s._v("+")]),e("mfrac",[e("mrow",[e("mn",[s._v("1")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1),e("mi",[s._v("λ")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∥")]),e("mi",[s._v("w")]),e("msup",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∥")]),e("mrow",[e("mn",[s._v("2")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("f ( \\mathbf { x } ) = w _ { q ( \\mathbf { x } ) } \\quad \\Omega ( f ) = \\gamma T + \\frac { 1 } { 2 } \\lambda \\| w \\| ^ { 2 }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.32144em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.00744em","vertical-align":"-0.686em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.18019999999999992em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("q")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord mspace quad"}),e("span",{staticClass:"mord mathrm"},[s._v("Ω")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05556em"}},[s._v("γ")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mord mathit"},[s._v("λ")]),e("span",{staticClass:"mord mathrm"},[s._v("∥")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("∥")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[s._v("得到")]),s._v("\n\\begin{align}\n\\widetilde { L } ^ { ( t ) } & = \\sum _ { i = 1 } ^ { n } \\left[ g _ { i } f _ { t } \\left( x _ { i } \\right) + \\frac { 1 } { 2 } h _ { i } f _ { t } ^ { 2 } \\left( x _ { i } \\right) \\right] + \\Omega \\left( f _ { t } \\right) \\\\\\\n& = \\color{red} {\\sum _ { i = 1 } ^ { n } \\left[ g _ { i } w _ { q \\left( x _ { i } \\right) } + \\frac { 1 } { 2 } h _ { i } w _ { q \\left( x _ { i } \\right) } ^ { 2 } \\right] }+ \\gamma T + \\lambda \\frac { 1 } { 2 } \\color{blue}{\\sum _ { j = 1 } ^ { T } w _ { j } ^ { 2 }}\n\\end{align}\n\n"),e("p",[s._v("红色的部分对样本累加，蓝色的部分要对叶节点累加，如何统一？")]),s._v(" "),e("p",[s._v("定义每个叶节点 j 上的样本集合为 I_j = \\\\{i|q(x_i) = j\\\\}\n则目标函数可以写成按叶节点累加的形式：")]),s._v("\n\\begin{aligned} \\widetilde { L } ^ { ( t ) } & = \\sum _ { j = 1 } ^ { T } \\left[ \\left( \\sum _ { i \\in I _ { j } } g _ { i } \\right) w _ { j } + \\frac { 1 } { 2 } \\left( \\sum _ { i \\in I _ { j } } h _ { i } + \\lambda \\right) w _ { j } ^ { 2 } \\right] + \\gamma T \\\\\\ & = \\sum _ { j = 1 } ^ { T } \\left[ G _ { j } w _ { j } + \\frac { 1 } { 2 } \\left( H _ { j } + \\lambda \\right) w _ { j } ^ { 2 } \\right] + \\gamma T \\end{aligned}\n\n"),e("p",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("G")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("G _ { j }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.969438em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("G")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v("刻画了隶属于叶结点 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("j")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("j")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.85396em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),s._v(" 的那些样本的一阶偏导数之和。\n"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("H")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("H _ { j }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.969438em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.08125em"}},[s._v("H")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.08125em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v("刻画了隶属于叶结点 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("j")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("j")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.85396em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),s._v(" 的那些样本的二阶偏导数之和。")]),s._v(" "),e("p",[s._v("如果确定了树的结构（即"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("q")]),e("mo",[s._v("(")]),e("mi",[s._v("x")]),e("mo",[s._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("q(x)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("q")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v(" 确定），为了使目标函数最小，注意到叶节点权重之间无交叉，因此可以令每个"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mi",[s._v("j")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w_j")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.716668em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v("导数为 0，解得每个叶节点的最优预测分数为：")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msubsup",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("j")])],1),e("mrow",[e("mo",[s._v("∗")])],1)],1),e("mo",[s._v("=")]),e("mo",[s._v("−")]),e("mfrac",[e("mrow",[e("msub",[e("mi",[s._v("G")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1),e("mrow",[e("msub",[e("mi",[s._v("H")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("+")]),e("mi",[s._v("λ")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w _ { j } ^ { * } = - \\frac { G _ { j } } { H _ { j } + \\lambda }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.36033em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.332438em","vertical-align":"-0.972108em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.24700000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticStyle:{top:"-0.41300000000000003em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord"},[s._v("∗")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[s._v("−")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6859999999999999em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.08125em"}},[s._v("H")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.08125em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathit"},[s._v("λ")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("G")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])])])]),s._v(" "),e("p",[s._v("带入目标函数，得到最小损失为")]),s._v("\n\\widetilde { L } ^ { * } = - \\frac { 1 } { 2 } \\sum _ { j = 1 } ^ { T } \\frac { G _ { j } ^ { 2 } } { H _ { j } + \\lambda } + \\gamma T\n\n"),e("p",[s._v("这个式子厉害了，它可以被视为一个衡量树结构质量的打分函数。也就是，对一个结构，有一个结构分。")]),s._v(" "),e("p",[s._v("但问题是，怎么确定树的结构？\n暴力枚举所有可能的树结构，选择损失值最小的 - NP 难问题\n因此用贪心法，每次尝试分裂一个叶节点，计算分裂前后的增益，选择增益最大的。")]),s._v(" "),e("p",[s._v("对于一个叶结点，假如给定其分裂点，定义划分到左子结点和右子节点的样本的集合分别为")]),s._v("\n\\mathbb { I } _ { L } = \\left\\\\{ i | q \\left( \\overrightarrow { \\mathbf { x } } _ { i } \\right) = L \\right\\\\} \\\\\\\n\\mathbb { I } _ { R } = \\left\\\\{ i | q \\left( \\overrightarrow { \\mathbf { x } } _ { i } \\right) = R \\right\\\\}\n\n"),e("p",[s._v("则有")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mtable",[e("mtr",[e("mtd",[e("mrow",[e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("G")])],1),e("mrow",[e("mi",[s._v("L")])],1)],1)],1)],1),e("mtd",[e("mrow",[e("mrow"),e("mo",[s._v("=")]),e("msub",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("∈")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[s._v("I")])],1),e("mrow",[e("mi",[s._v("L")])],1)],1)],1)],1),e("msub",[e("mi",[s._v("g")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("G")])],1),e("mrow",[e("mi",[s._v("R")])],1)],1),e("mo",[s._v("=")]),e("msub",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("∈")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[s._v("I")])],1),e("mrow",[e("mi",[s._v("R")])],1)],1)],1)],1),e("msub",[e("mi",[s._v("g")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1)],1)],1),e("mtr",[e("mtd",[e("mrow",[e("mtext"),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("L")])],1)],1)],1)],1),e("mtd",[e("mrow",[e("mrow"),e("mo",[s._v("=")]),e("msub",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("∈")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[s._v("I")])],1),e("mrow",[e("mi",[s._v("L")])],1)],1)],1)],1),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("R")])],1)],1),e("mo",[s._v("=")]),e("msub",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("∈")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[s._v("I")])],1),e("mrow",[e("mi",[s._v("R")])],1)],1)],1)],1),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1)],1)],1),e("mtr",[e("mtd",[e("mrow",[e("mtext"),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("G")])],1),e("mo",[s._v("=")])],1)],1),e("mtd",[e("mrow",[e("mrow"),e("msub",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("∈")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[s._v("I")])],1),e("mrow",[e("mi",[s._v("L")])],1)],1)],1)],1),e("msub",[e("mi",[s._v("g")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",[s._v("+")]),e("msub",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("∈")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[s._v("I")])],1),e("mrow",[e("mi",[s._v("R")])],1)],1)],1)],1),e("msub",[e("mi",[s._v("g")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",[s._v("=")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("G")])],1),e("mrow",[e("mi",[s._v("L")])],1)],1),e("mo",[s._v("+")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("G")])],1),e("mrow",[e("mi",[s._v("R")])],1)],1)],1)],1)],1),e("mtr",[e("mtd",[e("mrow",[e("mtext"),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("H")])],1),e("mo",[s._v("=")])],1)],1),e("mtd",[e("mrow",[e("mrow"),e("msub",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("∈")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[s._v("I")])],1),e("mrow",[e("mi",[s._v("L")])],1)],1)],1)],1),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",[s._v("+")]),e("msub",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("∈")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[s._v("I")])],1),e("mrow",[e("mi",[s._v("R")])],1)],1)],1)],1),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",[s._v("=")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("L")])],1)],1),e("mo",[s._v("+")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("R")])],1)],1)],1)],1)],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\begin{aligned} \\mathbf { G } _ { L } & = \\sum _ { i \\in \\mathbb { I } _ { L } } g _ { i } , \\mathbf { G } _ { R } = \\sum _ { i \\in \\mathbb { I } _ { R } } g _ { i } \\\\\\ \\mathbf { H } _ { L } & = \\sum _ { i \\in \\mathbb { I } _ { L } } h _ { i } \\mathbf { H } _ { R } = \\sum _ { i \\in \\mathbb { I } _ { R } } h _ { i } \\\\\\ \\mathbf { G } =& \\sum _ { i \\in \\mathbb { I } _ { L } } g _ { i } + \\sum _ { i \\in \\mathbb { I } _ { R } } g _ { i } = \\mathbf { G } _ { L } + \\mathbf { G } _ { R } \\\\\\ \\mathbf { H } = & \\sum _ { i \\in \\mathbb { I } _ { L } } h _ { i } + \\sum _ { i \\in \\mathbb { I } _ { R } } h _ { i } = \\mathbf { H } _ { L } + \\mathbf { H } _ { R } \\end{aligned}\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"5.156466000000001em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"9.812932000000002em","vertical-align":"-4.656466000000001em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mtable"},[e("span",{staticClass:"col-align-r"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-4.106461em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("G")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])]),e("span",{staticStyle:{top:"-1.653228em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])]),e("span",{staticStyle:{top:"0.8000050000000001em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("G")])]),e("span",{staticClass:"mrel"},[s._v("=")])])]),e("span",{staticStyle:{top:"3.253238000000001em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("H")])]),e("span",{staticClass:"mrel"},[s._v("=")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"col-align-l"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-4.106461em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"}),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1982279999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[s._v("I")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("G")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1982279999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[s._v("I")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])]),e("span",{staticStyle:{top:"-1.653228em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"}),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1982279999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[s._v("I")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1982279999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[s._v("I")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])]),e("span",{staticStyle:{top:"0.8000050000000001em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"}),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1982279999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[s._v("I")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1982279999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[s._v("I")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("G")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("G")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])]),e("span",{staticStyle:{top:"3.253238000000001em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"}),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1982279999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[s._v("I")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1982279999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[s._v("I")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])])])]),s._v(" "),e("p",[s._v("定义叶结点的分裂增益为")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("G")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("a")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("i")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("n")]),e("mtext")],1),e("mo",[s._v("=")]),e("mfrac",[e("mrow",[e("mn",[s._v("1")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("[")]),e("mfrac",[e("mrow",[e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("G")])],1),e("mrow",[e("mi",[s._v("L")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1)],1),e("mrow",[e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("L")])],1)],1),e("mo",[s._v("+")]),e("mi",[s._v("λ")])],1)],1),e("mo",[s._v("+")]),e("mfrac",[e("mrow",[e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("G")])],1),e("mrow",[e("mi",[s._v("R")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1)],1),e("mrow",[e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("R")])],1)],1),e("mo",[s._v("+")]),e("mi",[s._v("λ")])],1)],1),e("mo",[s._v("−")]),e("mfrac",[e("mrow",[e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("G")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1)],1),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("H")])],1),e("mo",[s._v("+")]),e("mi",[s._v("λ")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v("]")])],1),e("mo",[s._v("−")]),e("mi",[s._v("γ")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\text { Gain } = \\frac { 1 } { 2 } \\left[ \\frac { \\mathbf { G } _ { L } ^ { 2 } } { \\mathbf { H } _ { L } + \\lambda } + \\frac { \\mathbf { G } _ { R } ^ { 2 } } { \\mathbf { H } _ { R } + \\lambda } - \\frac { \\mathbf { G } ^ { 2 } } { \\mathbf { H } + \\lambda } \\right] - \\gamma\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.491108em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.441138em","vertical-align":"-0.95003em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"text mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("G")]),e("span",{staticClass:"mord mathrm"},[s._v("a")]),e("span",{staticClass:"mord mathrm"},[s._v("i")]),e("span",{staticClass:"mord mathrm"},[s._v("n")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[s._v("[")])]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathbf"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathit"},[s._v("λ")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("G")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.275331em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("L")])])])]),e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathbf"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathit"},[s._v("λ")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("G")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.275331em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")])])])]),e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathbf"},[s._v("H")])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathit"},[s._v("λ")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("G")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[s._v("]")])])]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05556em"}},[s._v("γ")])])])])])]),s._v(" "),e("p",[s._v("括号里的三项分别对应左结构分和右结构分以及不分裂的结构分。\n"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mo",[s._v("−")]),e("mi",[s._v("γ")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("-\\gamma")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.58333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.7777700000000001em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[s._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05556em"}},[s._v("γ")])])])]),s._v(" 是因为分裂导致叶结点数量增大 1，从而导致增益的下降。")]),s._v(" "),e("p",[s._v("每次只分裂一个叶结点，因此其它叶结点不会发生变化。因此：\n若 gain > 0 则选择分裂，否则不分裂。")]),s._v(" "),e("p",[s._v("那么问题又来了： 不知道分裂点。对于每个叶结点，存在很多个分裂点，且可能很多分裂点都能带来增益。")]),s._v(" "),e("p",[s._v("解决的办法是：对于叶结点中的所有可能的分裂点进行一次扫描。然后计算每个分裂点的增益，选取增益最大的分裂点作为本叶结点的最优分裂点。")]),s._v(" "),e("h4",{attrs:{id:"增益的计算"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#增益的计算"}},[s._v("#")]),s._v(" 增益的计算")]),s._v(" "),e("ul",[e("li",[s._v("ID3 算法采用信息增益")]),s._v(" "),e("li",[s._v("C4.5 算法采用信息增益比")]),s._v(" "),e("li",[s._v("CART 采用 Gini 系数")]),s._v(" "),e("li",[s._v("XGBoost 的打分函数\nGain 的值越大，分裂后 L 减小越多。所以当对一个叶节点分割时，计算所有候选(feature,value)对应的 gain，选取 gain 最大的进行分割")])]),s._v(" "),e("h4",{attrs:{id:"分裂点求解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分裂点求解"}},[s._v("#")]),s._v(" 分裂点求解")]),s._v(" "),e("h5",{attrs:{id:"贪心算法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#贪心算法"}},[s._v("#")]),s._v(" 贪心算法")]),s._v(" "),e("p",[e("img",{attrs:{src:a(334),alt:""}})]),s._v(" "),e("p",[e("img",{attrs:{src:a(335),alt:""}})]),s._v(" "),e("p",[s._v("贪心算法尝试所有特征和每个特征所有分裂位置，从而求得最优分裂点。\n当样本太大且特征为连续值时，这种暴力做法的计算量太大。")]),s._v(" "),e("h5",{attrs:{id:"近似算法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#近似算法"}},[s._v("#")]),s._v(" 近似算法")]),s._v(" "),e("p",[e("img",{attrs:{src:a(336),alt:""}})]),s._v(" "),e("p",[s._v("近似算法寻找最优分裂点时不会枚举所有的特征值，而是对特征值进行聚合统计，然后形成若干个桶。\n然后仅仅将桶边界上的特征的值作为分裂点的候选，从而获取计算性能的提升。")]),s._v(" "),e("p",[s._v("如果第 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("k")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("k")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),s._v(" 个特征为连续特征，则执行"),e("strong",[s._v("百分位分桶")]),s._v(".")]),s._v(" "),e("p",[s._v("分桶有两种模式：")]),s._v(" "),e("ol",[e("li",[s._v("全局模式.\n在算法开始时，对每个维度分桶一次，后续的分裂都依赖于该分桶并不再更新。\n"),e("ul",[e("li",[s._v("优点是：只需要计算一次，不需要重复计算。")]),s._v(" "),e("li",[s._v("缺点是：在经过多次分裂之后，叶结点的样本有可能在很多全局桶中是空的。")])])]),s._v(" "),e("li",[s._v("局部模式\n除了在算法开始时进行分桶，每次拆分之后再重新分桶。\n"),e("ul",[e("li",[s._v("优点是：每次分桶都能保证各桶中的样本数量都是均匀的。")]),s._v(" "),e("li",[s._v("缺点是：计算量较大。")])])])]),s._v(" "),e("p",[s._v("全局模式会构造更多的候选拆分点。而局部模式会更适合构建更深的树。")]),s._v(" "),e("h5",{attrs:{id:"加权分桶"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#加权分桶"}},[s._v("#")]),s._v(" 加权分桶")]),s._v(" "),e("p",[s._v("假设候选样本的第 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("k")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("k")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),s._v(" 维特征，及候选样本的损失函数的二阶偏导数为：")]),s._v("\n\\mathcal { D } _ { k } = \\left\\\\{ \\left( x _ { 1 , k } , h _ { 1 } \\right) , \\left( x _ { 2 , k } , h _ { 2 } \\right) , \\cdots , \\left( x _ { N , k } , h _ { N } \\right) \\right\\\\}\n\n"),e("p",[s._v("定义排序函数：")]),s._v("\nr _ { k } ( z ) = \\frac { \\sum _ { \\left\\\\{ i | \\left( x _ { i k } , h _ { i } \\right) \\in \\mathcal { D } _ { k } , x _ { i , k } < z \\right\\\\} } h _ { i } } { \\sum _ { \\left\\\\{ i | \\left( x _ { i , k } , h _ { i } \\right) \\in \\mathcal { D } _ { k } \\right\\\\} } h _ { i } }\n\n"),e("p",[s._v("它刻画的是：第 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("k")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("k")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),s._v(" 维小于 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("z")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("z")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[s._v("z")])])])]),s._v(" 的样本的 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("h")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("h")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("h")])])])]),s._v(" 之和，占总的 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("h")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("h")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("h")])])])]),s._v(" 之和的比例。\n即，每个数据点以 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("h")]),e("mi",[s._v("i")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("h_i")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 作为权重。")]),s._v(" "),e("p",[s._v("给定分桶的宽度 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("ϵ")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\epsilon")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("ϵ")])])])]),s._v("（由此知大致的分桶个数为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mfrac",[e("mn",[s._v("1")]),e("mrow",[e("mi",[s._v("ϵ")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\frac 1 {\\epsilon}")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.845108em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord reset-textstyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.345em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("ϵ")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.394em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])]),s._v("）, 选取拆分点，使得相邻拆分点的排序函数值小于"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("ϵ")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\epsilon")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("ϵ")])])])]),s._v(", 第 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("k")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("k")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),s._v(" 维每个桶内样本的 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("h")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("h")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("h")])])])]),s._v(" 之和，占总的 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("h")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("h")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("h")])])])]),s._v(" 之和的比例小于 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("ϵ")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\epsilon")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("ϵ")])])])]),s._v(" 。")]),s._v(" "),e("p",[s._v("这种拆分点使得每个桶内的以 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("h")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("h")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("h")])])])]),s._v(" 为权重的样本数量比较均匀，而不是样本个数比较均匀.")]),s._v(" "),e("p",[s._v("那么，这种分桶方式是处于何种考虑呢？\n因为，损失函数可以写为")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("N")])],1)],1),e("mfrac",[e("mrow",[e("mn",[s._v("1")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("msup",[e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1)],1),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("−")]),e("mfrac",[e("mrow",[e("msub",[e("mi",[s._v("g")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1),e("mrow",[e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mrow",[e("mn",[s._v("2")])],1)],1),e("mo",[s._v("+")]),e("msup",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("Ω")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mo",[s._v("(")]),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1)],1),e("mo",[s._v(")")]),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("+")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("c")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("s")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("t")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("a")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("t")]),e("mtext")],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\sum _ { i = 1 } ^ { N } \\frac { 1 } { 2 } h _ { i } \\left( f _ { t } \\left(  { \\mathbf { x } } _ { i } \\right) - \\frac { g _ { i } } { h _ { i } } \\right) ^ { 2 } + \\Omega ^ { \\prime } \\left( f _ { t } (  { \\mathbf { x } } ) \\right) + \\text { constant }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.8283360000000002em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"3.106005em","vertical-align":"-1.277669em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[s._v("N")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner"},[e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[s._v("(")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[s._v(")")])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-1.064em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("Ω")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])])]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"text mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("c")]),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("n")]),e("span",{staticClass:"mord mathrm"},[s._v("s")]),e("span",{staticClass:"mord mathrm"},[s._v("t")]),e("span",{staticClass:"mord mathrm"},[s._v("a")]),e("span",{staticClass:"mord mathrm"},[s._v("n")]),e("span",{staticClass:"mord mathrm"},[s._v("t")]),e("span",{staticClass:"mord mspace"})])])])])])]),s._v(" "),e("p",[s._v("上式正好是 label 为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mfrac",[e("mrow",[e("msub",[e("mi",[s._v("g")]),e("mi",[s._v("i")])],1)],1),e("mrow",[e("msub",[e("mi",[s._v("h")]),e("mi",[s._v("i")])],1)],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\frac {g_i} {h_i}")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.7475em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.1975em","vertical-align":"-0.44999999999999996em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord reset-textstyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.345em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.44610799999999995em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])]),s._v(" 、权重为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("h")]),e("mi",[s._v("i")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("h_i")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 的加权平方损失。")]),s._v(" "),e("h4",{attrs:{id:"xgboost-和-gbdt-的不同"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xgboost-和-gbdt-的不同"}},[s._v("#")]),s._v(" xgboost 和 GBDT 的不同")]),s._v(" "),e("ul",[e("li",[s._v("xgboost 其实也是一种 GBDT，只不过和传统的 GBDT 的实现上有诸多不同，因此，这里的 GBDT 特指 Friedman 的论文 "),e("strong",[s._v("Greedy Function Approximation：A Gradient Boosting Machin")]),s._v(" 中提到的算法")]),s._v(" "),e("li",[s._v("传统 GBDT 以 CART 作为基分类器，xgboost 还支持 LR 和 Linear 线性分类器")]),s._v(" "),e("li",[s._v("xgboost 对代价函数进行了二阶泰勒展开，同时用到了一阶和二阶导数")]),s._v(" "),e("li",[s._v("代价函数 可以自定义")]),s._v(" "),e("li",[s._v("xgboost 在代价函数里加入了正则项，用于控制模型的复杂度")]),s._v(" "),e("li",[s._v("列抽样（column subsampling）")]),s._v(" "),e("li",[s._v("缺失值自动处理，无需填充")])]),s._v(" "),e("h4",{attrs:{id:"xgboost-的可扩展性-计算速度提升大法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xgboost-的可扩展性-计算速度提升大法"}},[s._v("#")]),s._v(" xgboost 的可扩展性-计算速度提升大法")]),s._v(" "),e("p",[s._v("XGBoost 的一大特色（也是陈天奇在论文中反复强调的）是 可扩展性。那么，XGBoost 是如何实现良好的可扩展性的呢？")]),s._v(" "),e("ul",[e("li",[e("p",[e("strong",[s._v("分块")]),s._v("\n提出 column block 数据结构来降低排序时间。\n每个特征进行分块（block）并排序，使得各个特征的增益计算能够并行。\n复杂度：\n设训练集中非缺失样本数为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",[s._v("x")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mn",[s._v("0")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("||x||_0")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("0")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(", "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("k")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("k")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),s._v(" 棵树，树的深度最大为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("d")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("d")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("d")])])])]),s._v("，\n则精确贪心算法的复杂度为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("O")]),e("mo",[s._v("(")]),e("mi",[s._v("k")]),e("mi",[s._v("d")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",[s._v("x")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mn",[s._v("0")])],1),e("mi",[s._v("log")]),e("mi",[s._v("n")]),e("mo",[s._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("O(kd||x||_0 \\log n)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mord mathit"},[s._v("d")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("0")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mop"},[s._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),e("span",{staticClass:"mord mathit"},[s._v("n")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("，采用 block 结构后，复杂度只有 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("O")]),e("mo",[s._v("(")]),e("mi",[s._v("k")]),e("mi",[s._v("d")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",[s._v("x")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mn",[s._v("0")])],1),e("mo",[s._v("+")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",[s._v("x")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mn",[s._v("0")])],1),e("mi",[s._v("log")]),e("mi",[s._v("n")]),e("mo",[s._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("O(kd||x||_0 + ||x||_0 \\log n)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mord mathit"},[s._v("d")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("0")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("0")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mop"},[s._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),e("span",{staticClass:"mord mathit"},[s._v("n")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("\n对近似算法，复杂度为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("O")]),e("mo",[s._v("(")]),e("mi",[s._v("k")]),e("mi",[s._v("d")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",[s._v("x")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mn",[s._v("0")])],1),e("mo",[s._v("+")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",[s._v("x")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mn",[s._v("0")])],1),e("mi",[s._v("log")]),e("mi",[s._v("q")]),e("mo",[s._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("O(kd||x||_0 + ||x||_0 \\log q)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mord mathit"},[s._v("d")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("0")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("0")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mop"},[s._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("q")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v(", 其中 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("q")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("q")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("q")])])])]),s._v(" 是分桶数，采用 block 结构后，复杂度只有 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("O")]),e("mo",[s._v("(")]),e("mi",[s._v("k")]),e("mi",[s._v("d")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",[s._v("x")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mn",[s._v("0")])],1),e("mo",[s._v("+")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mi",[s._v("x")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("mn",[s._v("0")])],1),e("mi",[s._v("log")]),e("mi",[s._v("B")]),e("mo",[s._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("O(kd||x||_0 + ||x||_0 \\log B)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mord mathit"},[s._v("d")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("0")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("0")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mop"},[s._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05017em"}},[s._v("B")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("，其中 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("B")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("B")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05017em"}},[s._v("B")])])])]),s._v(" 是每个 block 中的最大行。")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("预取")]),s._v("\n通过设置合理的 block 的大小，充分利用了 CPU 缓存进行读取加速（cache-aware access）\n在精确贪心分裂时，针对一些大数据量的情形，运行速度可以达到原先的两倍！\n经验值： 每个 block "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msup",[e("mn",[s._v("2")]),e("mrow",[e("mn",[s._v("1")]),e("mn",[s._v("6")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("2^{16}")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8141079999999999em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("2")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")]),e("span",{staticClass:"mord mathrm"},[s._v("6")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 个样本。")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("压缩和分片")]),s._v("： "),e("strong",[s._v("out-of-core")]),s._v("(基于外存) 通过将 block 压缩（block compressoin）并存储到硬盘上，并且通过将 block 分区到多个硬盘上（block Sharding）实现了更大的 IO 读写速度，使得 xgboost 处理大数据量的能力有所提升")])])]),s._v(" "),e("h4",{attrs:{id:"xgboost-对稀疏数据的处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xgboost-对稀疏数据的处理"}},[s._v("#")]),s._v(" XGBoost 对稀疏数据的处理")]),s._v(" "),e("h4",{attrs:{id:"防止过拟合"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#防止过拟合"}},[s._v("#")]),s._v(" 防止过拟合")]),s._v(" "),e("p",[s._v("除了加入正则项以外，XGBoost 防止过拟合的措施还包括：")]),s._v(" "),e("ol",[e("li",[s._v("使用 Shrinkage 来削弱每棵树的影响\n"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mo",[s._v("(")]),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1)],1),e("mo",[s._v(")")]),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("t")]),e("mo",[s._v("−")]),e("mn",[s._v("1")])],1)],1),e("mo",[s._v("(")]),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1)],1),e("mo",[s._v(")")]),e("mo",[s._v("+")]),e("mi",[s._v("ν")]),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1)],1),e("mo",{attrs:{separator:"true"}},[s._v(";")]),e("msub",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("Θ")]),e("mrow",[e("mi",[s._v("t")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mn",[s._v("0")]),e("mo",[s._v("<")]),e("mi",[s._v("ν")]),e("mo",[s._v("≤")]),e("mn",[s._v("1")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("f _ { t } ( { \\mathbf { x } } ) = f _ { t - 1 } (  { \\mathbf { x } } ) + \\nu h _ { t } \\left( { \\mathbf { x } } ; \\Theta _ { t } \\right) , 0 < \\nu \\leq 1")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])])]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])])]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.06366em"}},[s._v("ν")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"minner textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])])]),e("span",{staticClass:"mpunct"},[s._v(";")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("Θ")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathrm"},[s._v("0")]),e("span",{staticClass:"mrel"},[s._v("<")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.06366em"}},[s._v("ν")]),e("span",{staticClass:"mrel"},[s._v("≤")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])])]),s._v(" "),e("li",[s._v("列抽样")])]),s._v(" "),e("h4",{attrs:{id:"处理缺失值"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#处理缺失值"}},[s._v("#")]),s._v(" 处理缺失值")]),s._v(" "),e("p",[s._v("在 xgboost 算法的实现中，允许对数值 0 进行不同的处理。可以将数值 0 视作缺失值，也可以将其视作有效值。")]),s._v(" "),e("p",[s._v("对带有缺失值的节点，通过两轮遍历来确定稀疏值位于左子树和右子树。")]),s._v(" "),e("h4",{attrs:{id:"特征重要度"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特征重要度"}},[s._v("#")]),s._v(" 特征重要度")]),s._v(" "),e("p",[s._v("判断特征重要程度的三种指标：")]),s._v(" "),e("ol",[e("li",[s._v("weight - 默认值，该特征在所有树中被用作分割样本的特征的次数。")]),s._v(" "),e("li",[s._v("gain - 使用特征在作为划分属性时 loss 平均的降低量")]),s._v(" "),e("li",[s._v("cover - 使用特征在作为划分属性时对样本的覆盖度")])]),s._v(" "),e("h4",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),e("p",[s._v("XGBoost 的优点：")]),s._v(" "),e("ol",[e("li",[s._v("支持用户自定义目标函数")]),s._v(" "),e("li",[s._v("缺失值处理。")]),s._v(" "),e("li",[s._v("理论上得到验证的加权分位数略图法")]),s._v(" "),e("li",[s._v("优秀的系统设计")])]),s._v(" "),e("h4",{attrs:{id:"其他问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他问题"}},[s._v("#")]),s._v(" 其他问题")]),s._v(" "),e("p",[s._v("Xgboost 加入正则项和 CART 的剪枝，哪个更好？")]),s._v(" "),e("h2",{attrs:{id:"lightgbm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lightgbm"}},[s._v("#")]),s._v(" LightGBM")]),s._v(" "),e("h3",{attrs:{id:"lightgbm-的改进"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lightgbm-的改进"}},[s._v("#")]),s._v(" LightGBM 的改进")]),s._v(" "),e("p",[s._v("Gradient-based One Side Sampling(GOSS)")]),s._v(" "),e("p",[s._v("梯度大的数据保留，梯度下的抽样，但是为了不改变分布")]),s._v(" "),e("h3",{attrs:{id:"并行优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#并行优化"}},[s._v("#")]),s._v(" 并行优化")]),s._v(" "),e("p",[s._v("传统的特征并行：")]),s._v(" "),e("ol",[e("li",[s._v("垂直切分数据，每个 worker 只有部分特征，每个 worker 找到局部最佳切分点")]),s._v(" "),e("li",[s._v("worker 之间通信，找到全局最佳切分点")]),s._v(" "),e("li",[s._v("具有最佳切分特征的 worker 进行节点分裂，并广播切分后左右子树的样本索引。")]),s._v(" "),e("li",[s._v("其他 worker 根据广播的样本索引进行节点分裂。")])]),s._v(" "),e("p",[s._v("LightGBM 的特征并行：")]),s._v(" "),e("ol",[e("li",[s._v("每个 worker 保存所有数据集。")]),s._v(" "),e("li",[s._v("每个 worker 在其负责的特征子集上寻找最佳切分")]),s._v(" "),e("li",[s._v("通信，找到全局最佳切分点，广播，循环。")])]),s._v(" "),e("p",[s._v("虽然避免了广播样本索引，减小了网络通讯量，但是数据量较大时，单 worker 存储全部数据代价大。")]),s._v(" "),e("h3",{attrs:{id:"直方图加速"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#直方图加速"}},[s._v("#")]),s._v(" 直方图加速")]),s._v(" "),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://www.huaxiaozhuan.com/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0/chapters/7_GBT.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("统计学习-梯度提升树"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=i.exports}}]);