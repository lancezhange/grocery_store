(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{275:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-17-05-14.a1d8bdc0.png"},276:function(t,s,a){t.exports=a.p+"assets/img/2019-05-09-18-14-45.604af90e.png"},277:function(t,s,a){t.exports=a.p+"assets/img/2019-05-06-14-26-50.b1f86fd7.png"},278:function(t,s,a){t.exports=a.p+"assets/img/2019-05-24-22-44-00.de2ccdc3.png"},279:function(t,s,a){t.exports=a.p+"assets/img/2019-05-06-14-44-25.a6528d41.png"},280:function(t,s,a){t.exports=a.p+"assets/img/2019-08-21-16-32-35.8029a7e2.png"},281:function(t,s,a){t.exports=a.p+"assets/img/2019-08-21-16-48-53.16c78f58.png"},282:function(t,s,a){t.exports=a.p+"assets/img/2019-05-06-14-51-01.14837e2e.png"},283:function(t,s,a){t.exports=a.p+"assets/img/2019-08-21-17-03-03.53cda1c4.png"},284:function(t,s,a){t.exports=a.p+"assets/img/2019-05-06-10-05-18.5000845a.png"},285:function(t,s,a){t.exports=a.p+"assets/img/2019-08-21-15-05-06.5fc182ab.png"},286:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-12-19-45.f5805e89.png"},287:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-09-13-33.650b4e7c.png"},288:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-09-33-54.32779250.png"},289:function(t,s,a){t.exports=a.p+"assets/img/2019-05-07-16-58-47.9305d22a.png"},290:function(t,s,a){t.exports=a.p+"assets/img/2019-05-08-10-45-25.65f93245.png"},291:function(t,s,a){t.exports=a.p+"assets/img/2019-05-08-10-44-10.3ef79153.png"},292:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-15-09-25.cd6a1cee.png"},293:function(t,s,a){t.exports=a.p+"assets/img/2019-05-13-09-32-10.f39bb1d3.png"},294:function(t,s,a){t.exports=a.p+"assets/img/2019-05-08-17-40-23.7eaaf0c2.png"},295:function(t,s,a){t.exports=a.p+"assets/img/2019-05-08-17-39-50.4e979928.png"},296:function(t,s,a){t.exports=a.p+"assets/img/2019-05-04-09-07-05.37803cb4.png"},297:function(t,s,a){t.exports=a.p+"assets/img/2019-05-07-11-38-22.e933a530.png"},298:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-15-16-09.a6ae4b16.png"},299:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-15-16-34.16587943.png"},300:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-15-16-43.3ddb445e.png"},301:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-15-17-23.7accc8ed.png"},302:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-15-18-13.f6016ffc.png"},303:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-15-27-49.aca4462f.png"},304:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-15-28-12.9a49b984.png"},305:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-15-28-46.63bd85d3.png"},306:function(t,s,a){t.exports=a.p+"assets/img/2019-05-15-09-54-25.bc457b87.png"},307:function(t,s,a){t.exports=a.p+"assets/img/2019-05-13-10-07-23.652e7b61.png"},308:function(t,s,a){t.exports=a.p+"assets/img/cartoon-gan-cat.57d99367.gif"},309:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-09-54-19.c79df28e.png"},310:function(t,s,a){t.exports=a.p+"assets/img/2019-05-07-16-46-23.bed746d1.png"},311:function(t,s,a){t.exports=a.p+"assets/img/2019-05-07-19-04-41.29cbca73.png"},312:function(t,s,a){t.exports=a.p+"assets/img/2019-05-23-10-00-06.5776242f.png"},313:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-10-04-47.fa756ffa.png"},314:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-16-25-33.491f592c.png"},315:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-23-44-13.9aa275d0.png"},316:function(t,s,a){t.exports=a.p+"assets/img/2019-05-06-13-30-31.85331443.png"},317:function(t,s,a){t.exports=a.p+"assets/img/2019-05-06-20-07-52.53da2e91.png"},318:function(t,s,a){t.exports=a.p+"assets/img/completion.c0f6918b.gif"},319:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-16-11-42.4513fa56.png"},320:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-16-13-45.2c176d02.png"},321:function(t,s,a){t.exports=a.p+"assets/img/2019-05-20-15-15-34.2c8d473e.png"},322:function(t,s,a){t.exports=a.p+"assets/img/2019-05-21-08-53-55.ca771b56.png"},323:function(t,s,a){t.exports=a.p+"assets/img/2019-05-07-11-21-07.2fb02623.png"},324:function(t,s,a){t.exports=a.p+"assets/img/2019-05-07-11-26-03.ed7a7f63.png"},325:function(t,s,a){t.exports=a.p+"assets/img/2019-05-06-19-34-58.571c2428.png"},326:function(t,s,a){t.exports=a.p+"assets/img/2019-05-08-10-28-30.a252a166.png"},327:function(t,s,a){t.exports=a.p+"assets/img/2019-05-06-18-29-52.132742b0.png"},328:function(t,s,a){t.exports=a.p+"assets/img/2019-05-06-16-15-29.dc4360e0.png"},329:function(t,s,a){t.exports=a.p+"assets/img/conv.7fce2933.gif"},330:function(t,s,a){t.exports=a.p+"assets/img/conv1.e0912566.gif"},331:function(t,s,a){t.exports=a.p+"assets/img/2019-05-06-15-16-52.bc6e51d8.png"},332:function(t,s,a){t.exports=a.p+"assets/img/2019-05-14-16-42-20.5b66673f.png"},333:function(t,s,a){t.exports=a.p+"assets/img/2019-05-06-15-00-32.9f567710.png"},525:function(t,s,a){"use strict";a.r(s);var e=a(17),i=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"生成对抗网络（generative-adversarial-nets-，gan）-ignore-true"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生成对抗网络（generative-adversarial-nets-，gan）-ignore-true"}},[t._v("#")]),t._v(" 生成对抗网络（Generative Adversarial Nets ，GAN） {ignore=true}")]),t._v(" "),e("p",[t._v("[TOC]")]),t._v(" "),e("h1",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),e("p",[t._v("生成对抗网络（Generative Adversarial Nets ，GAN）目前已广泛应用于图像生成、超分辨率图片生成、图像压缩、图像风格转换、数据增强、文本生成等场景。越来越多的研发人员从事 GAN 网络的研究，提出了各种 GAN 模型的变种，包括 CGAN、InfoGAN、WGAN、CycleGAN 等。")]),t._v(" "),e("p",[t._v("有多火？\nBengio 2018 年图灵奖的三大贡献之一（另外两个贡献分别是 90 年代的序列概率模型和 00 年代的语言模型）")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:a(275)}})])]),t._v(" "),e("h1",{attrs:{id:"第一部分-gan-的理论基础"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一部分-gan-的理论基础"}},[t._v("#")]),t._v(" 第一部分 GAN 的理论基础")]),t._v(" "),e("p",[t._v("GAN 最早由 "),e("em",[t._v("Goodfellow")]),t._v(" [^10] 在论文 "),e("a",{attrs:{href:"https://arxiv.org/abs/1406.2661",target:"_blank",rel:"noopener noreferrer"}},[t._v("Generative Adversarial Networks by Ian J. Goodfellow, etl 2014"),e("OutboundLink")],1),t._v(" 中提出，主要由两部分构成：Generator（生成器），简称 G；Discriminator（判别器）, 简称 D。生成器主要用噪声 z 生成一个类似真实数据的样本，样本越逼真越好；判别器用于估计一个样本来自于真实数据还是生成数据，判定越准确越好。如下图所示：")]),t._v(" "),e("p",[t._v("[^10]: Goodfellow 本人就]是少年得志的典范。他本科在斯坦福，硕士在 Andrew Ng 手下，博士就跑到蒙特利尔 Yoshua Bengio 手下了。他另外还有一个导师 Aaron Courville。大家现在经常讲的花书 Deep Learning，作者就是 Ian Goodfellow 和他两个博士导师。他是 85 年人，发表 GAN 在 2014 年，29，还差一年才 30。GAN 这个工作也给 Goodfellow 带来了很多荣誉，比如 17 年就被 MIT under 35 选中了。Goodfellow 博士毕业后去了 Google Brain，后来又跳到 open AI,又跳回 google，现在在苹果做特别项目机器学习项目负责人。实际上现在他也就 34 岁。(from @唐杰 THU)")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"600px"},attrs:{src:a(276)}}),t._v(" "),e("figcaption",[t._v("$GAN$")])])]),t._v(" "),e("p",[t._v("可以将生成器和判别器看作博弈的双方，比如在犯罪分子造假币和警察识别假币的过程中：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("生成模型相当于制造假币的一方，其目的是根据看到的钱币情况和警察的识别技术，去尽量生成更加真实的、警察识别不出的假币。")])]),t._v(" "),e("li",[e("p",[t._v("判别模型 D 相当于识别假币的一方，其目的是尽可能的识别出犯罪分子制造的假币。")])])]),t._v(" "),e("p",[t._v("这样通过造假者和识假者双方的较量和朝目的的改进，使得最后能达到生成器能尽可能生成真的钱币、识假者判断不出真假的效果(真假币概率都为 0.5)。")]),t._v(" "),e("h2",{attrs:{id:"_2-1-原生-gan"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-原生-gan"}},[t._v("#")]),t._v(" 2.1 原生 GAN")]),t._v(" "),e("blockquote",[e("p",[t._v("adversarial training is the coolest thing since sliced bread\n对抗训练是继切片面包之后最酷的事情。\n                   - Yann LeCun")])]),t._v(" "),e("h3",{attrs:{id:"_2-1-1-数学原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-数学原理"}},[t._v("#")]),t._v(" 2.1.1 数学原理")]),t._v(" "),e("p",[t._v("假设 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("P")]),e("mi",[t._v("r")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("P_r")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 和 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("P")]),e("mi",[t._v("g")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("P_g")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.969438em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 分别代表真实数据的分布与生成数据的分布，这样判别模型的目标函数可以表示为：")]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("min")]),e("mrow",[e("mi",[t._v("G")])],1)],1),e("msub",[e("mi",[t._v("max")]),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[t._v("D")])],1)],1)],1),e("msub",[e("mi",[t._v("E")]),e("mrow",[e("mi",[t._v("x")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("r")])],1)],1)],1)],1),e("mo",[t._v("[")]),e("mi",[t._v("log")]),e("mi",[t._v("D")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",[t._v("]")]),e("mo",[t._v("+")]),e("msub",[e("mi",[t._v("E")]),e("mrow",[e("mi",[t._v("x")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("g")])],1)],1)],1)],1),e("mo",[t._v("[")]),e("mi",[t._v("log")]),e("mo",[t._v("(")]),e("mn",[t._v("1")]),e("mo",[t._v("−")]),e("mi",[t._v("D")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",[t._v(")")]),e("mo",[t._v("]")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\min _ { G} \\max _ { \\mathbf { D } } E _ { x \\sim P _ { r } } [ \\log D ( x ) ] + E _ { x \\sim P _ { g } } [ \\log ( 1 - D ( x ) ) ]\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.496277em","vertical-align":"-0.7462770000000001em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.644331em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("G")])])])]),e("span",{staticStyle:{top:"2.7755575615628914e-17em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("min")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6462770000000001em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbf"},[t._v("D")])])])])]),e("span",{staticStyle:{top:"1.3877787807814457e-16em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("max")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.05em","margin-left":"-0.05764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("[")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v("]")]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.14999999999999997em","margin-right":"0.05em","margin-left":"-0.05764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("[")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathrm"},[t._v("1")]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v("]")])])])])])]),t._v(" "),e("p",[t._v("最大最小的优化，分步骤进行。这里先优化 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("D")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")])])])]),t._v("，然后再优化 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("G")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("G")])])])]),t._v("，本质上是两个优化问题，可以拆解如下：")]),t._v(" "),e("ul",[e("li",[t._v("优化 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("D")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")])])])]),t._v(" :\n对 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("D")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")])])])]),t._v(" 来说，当然是希望真实数据的预测概率接近 1，而生成数据的结果接近 0")])]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("max")]),e("mrow",[e("mi",[t._v("D")])],1)],1),e("msub",[e("mi",[t._v("E")]),e("mrow",[e("mi",[t._v("x")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("r")])],1)],1)],1)],1),e("mo",[t._v("[")]),e("mi",[t._v("log")]),e("mi",[t._v("D")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",[t._v("]")]),e("mo",[t._v("+")]),e("msub",[e("mi",[t._v("E")]),e("mrow",[e("mi",[t._v("x")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("g")])],1)],1)],1)],1),e("mo",[t._v("[")]),e("mi",[t._v("log")]),e("mo",[t._v("(")]),e("mn",[t._v("1")]),e("mo",[t._v("−")]),e("mi",[t._v("D")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",[t._v("]")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\max _ { D } E _ { x \\sim P _ { r } } [ \\log D ( x ) ] + E _ { x \\sim P _ { g } } [ \\log ( 1 - D ( x ) ]\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.494331em","vertical-align":"-0.7443310000000001em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6443310000000001em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")])])])]),e("span",{staticStyle:{top:"1.3877787807814457e-16em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("max")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.05em","margin-left":"-0.05764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("[")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v("]")]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.14999999999999997em","margin-right":"0.05em","margin-left":"-0.05764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("[")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathrm"},[t._v("1")]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v("]")])])])])])]),t._v(" "),e("ul",[e("li",[t._v("优化 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("G")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("G")])])])]),t._v(" :\n对 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("G")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("G")])])])]),t._v(" 来说，真实数据没啥用，只希望假样本的预测结果接近 1")])]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("min")]),e("mrow",[e("mi",[t._v("G")])],1)],1),e("msub",[e("mi",[t._v("E")]),e("mrow",[e("mi",[t._v("x")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("g")])],1)],1)],1)],1),e("mo",[t._v("[")]),e("mi",[t._v("log")]),e("mo",[t._v("(")]),e("mn",[t._v("1")]),e("mo",[t._v("−")]),e("mi",[t._v("D")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",[t._v(")")]),e("mo",[t._v("]")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\min _ { G}   E _ { x \\sim P _ { g } } [ \\log ( 1 - D ( x ) ) ]\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.4943309999999999em","vertical-align":"-0.744331em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.644331em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("G")])])])]),e("span",{staticStyle:{top:"2.7755575615628914e-17em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("min")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.14999999999999997em","margin-right":"0.05em","margin-left":"-0.05764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("[")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathrm"},[t._v("1")]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v("]")])])])])])]),t._v(" "),e("p",[t._v("生成式模型，估计的是联合概率分布（区别于判别模型 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("p")]),e("mo",[t._v("(")]),e("mi",[t._v("y")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),e("mi",[t._v("x")]),e("mo",[t._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p(y|x)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),e("span",{staticClass:"mord mathrm"},[t._v("∣")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v("）")]),t._v(" "),e("p",[e("strong",[t._v("GAN 是更好的生成模型，在某种意义上避免了马尔科夫链式的学习机制")]),t._v("，这使得它能够区别于传统的概率生成模型。\n传统概率生成模型一般都需要进行马可夫链式的采样和推断，而 GAN 避免了这个计算复杂度特别高的过程，直接进行采样和推断，从而提高了 GAN 的应用效率，所以其实际应用场景也就更为广泛。")]),t._v(" "),e("p",[t._v("其次"),e("strong",[t._v("GAN 是一个非常灵活的设计框架")]),t._v("，各种类型的损失函数都可以整合到 GAN 模型当中，这样使得针对不同的任务，我们可以设计不同类型的损失函数，都会在 GAN 的框架下进行学习和优化。")]),t._v(" "),e("p",[t._v("再次，最重要的一点是，"),e("strong",[t._v("当概率密度不可计算的时候，GAN 依然可以使用")]),t._v("，因为它引入了一个非常聪明的内部对抗的训练机制，可以逼近一些不是很容易计算的目标函数；而传统依赖于数据自然性解释的一些生成模型就不可以在上面进行学习和应用。")]),t._v(" "),e("blockquote",[e("p",[t._v("如果人工智能是一块蛋糕，那么强化学习是蛋糕上的一粒樱桃，监督学习是外面的一层糖霜，无监督/预测学习则是蛋糕胚。目前我们只知道如何制作糖霜和樱桃，却不知如何制作蛋糕胚。 by Yann LeCun")])]),t._v(" "),e("h3",{attrs:{id:"_2-1-2-简例：生成正态分布"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-简例：生成正态分布"}},[t._v("#")]),t._v(" 2.1.2 简例：生成正态分布")]),t._v(" "),e("p",[t._v("例如，我们想学习一个已知的正态分布，在过去，这通过参数的极大似然估计就能得到")]),t._v("\n\\boldsymbol { \\theta } ^ { * } = \\underset { \\boldsymbol { \\theta } } { \\arg \\max } \\mathbb { E } _ { x \\sim p _ { \\text { data } } } \\log p _ { \\text { model } } ( \\boldsymbol { x } | \\boldsymbol { \\theta } )\n\n"),e("p",[t._v("但是，如果我们实际上并不知道真实数据的分布，参数估计方法就无从施展。\n但是 GAN 方法可以！ 因为它不依赖关于分布的"),e("strong",[t._v("任何")]),t._v("假设")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-gan/gaussian.gif"}}),t._v(" "),e("figcaption",[t._v("http://blog.aylien.com/introduction-generative-adversarial-networks-code-tensorflow/")])])]),t._v(" "),e("p",[t._v("损失函数的变化")]),t._v(" "),e("p",[t._v("训练困难、效果不稳定")]),t._v(" "),e("p",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("D")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")])])])]),t._v(" 网络训练多次，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("G")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("G")])])])]),t._v(" 训练 1 次，结果就不一样")]),t._v(" "),e("p",[t._v("生成器和判别器的 loss 无法指示训练进程、生成样本缺乏多样性")]),t._v(" "),e("h3",{attrs:{id:"_2-1-3-简例：-mnist"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-简例：-mnist"}},[t._v("#")]),t._v(" 2.1.3 简例： Mnist")]),t._v(" "),e("div",{staticClass:"language-python {.line-numbers} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -*- coding: utf-8 -*-")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# @author: https://github.com/eriklindernoren/Keras-GAN/blob/master/gan/gan.py")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" __future__ "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" print_function"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" division\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" keras\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" keras"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("datasets "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mnist\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" keras"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layers "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Dense"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Reshape"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Flatten"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Dropout\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" keras"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layers "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" BatchNormalization"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Activation"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ZeroPadding2D\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" keras"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layers"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("advanced_activations "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" LeakyReLU\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" keras"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layers"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("convolutional "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" UpSampling2D"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Conv2D\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" keras"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Sequential"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Model\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" keras"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("optimizers "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Adam\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" matplotlib"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pyplot "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" plt\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" sys\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" numpy "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" np\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GAN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("img_rows "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v("\n        self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("img_cols "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v("\n        self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("channels "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("img_shape "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("img_rows"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("img_cols"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("channels"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latent_dim "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n\n        optimizer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Adam"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0002")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Build and compile the discriminator")]),t._v("\n        self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("discriminator "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build_discriminator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("discriminator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("compile")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loss"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'binary_crossentropy'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            optimizer"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("optimizer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            metrics"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'accuracy'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Build the generator")]),t._v("\n        self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("generator "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build_generator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The generator takes noise as input and generates imgs")]),t._v("\n        z "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shape"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latent_dim"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        img "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("generator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("z"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# For the combined model we will only train the generator")]),t._v("\n        self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("discriminator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("trainable "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The discriminator takes generated images as input and determines validity")]),t._v("\n        validity "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("discriminator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The combined model  (stacked generator and discriminator)")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Trains the generator to fool the discriminator")]),t._v("\n        self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("combined "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("z"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" validity"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("combined"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("compile")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loss"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'binary_crossentropy'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" optimizer"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("optimizer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("build_generator")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n        model "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Sequential"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dense"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input_dim"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latent_dim"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LeakyReLU"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("alpha"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BatchNormalization"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("momentum"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dense"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LeakyReLU"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("alpha"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BatchNormalization"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("momentum"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dense"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LeakyReLU"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("alpha"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BatchNormalization"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("momentum"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dense"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prod"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("img_shape"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" activation"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tanh'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Reshape"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("img_shape"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("summary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        noise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shape"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latent_dim"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        img "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("noise"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("noise"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" img"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("build_discriminator")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n        model "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Sequential"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Flatten"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input_shape"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("img_shape"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dense"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LeakyReLU"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("alpha"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dense"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LeakyReLU"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("alpha"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dense"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" activation"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sigmoid'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("summary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        img "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shape"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("img_shape"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        validity "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" validity"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("train")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" epochs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" batch_size"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("128")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sample_interval"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Load the dataset")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("X_train"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mnist"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Rescale -1 to 1")]),t._v("\n        X_train "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" X_train "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.5")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        X_train "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("expand_dims"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("X_train"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" axis"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Adversarial ground truths")]),t._v("\n        valid "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ones"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batch_size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        fake "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zeros"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batch_size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" epoch "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("epochs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ---------------------")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  Train Discriminator")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ---------------------")]),t._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Select a random batch of images")]),t._v("\n            idx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randint"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" X_train"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shape"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" batch_size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            imgs "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" X_train"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("idx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n            noise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("normal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batch_size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latent_dim"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Generate a batch of new images")]),t._v("\n            gen_imgs "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("generator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("predict"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("noise"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Train the discriminator")]),t._v("\n            d_loss_real "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("discriminator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("train_on_batch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" valid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            d_loss_fake "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("discriminator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("train_on_batch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gen_imgs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fake"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            d_loss "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("d_loss_real"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" d_loss_fake"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ---------------------")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  Train Generator")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ---------------------")]),t._v("\n\n            noise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("normal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batch_size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latent_dim"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Train the generator (to have the discriminator label samples as valid)")]),t._v("\n            g_loss "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("combined"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("train_on_batch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("noise"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" valid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Plot the progress")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%d [D loss: %f, acc.: %.2f%%] [G loss: %f]"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("epoch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" d_loss"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("d_loss"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" g_loss"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# If at save interval => save generated image samples")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" epoch "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" sample_interval "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sample_images"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("epoch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sample_images")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" epoch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        r"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n        noise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("normal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latent_dim"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        gen_imgs "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("generator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("predict"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("noise"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Rescale images 0 - 1")]),t._v("\n        gen_imgs "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" gen_imgs "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v("\n\n        fig"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" axs "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" plt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subplots"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        cnt "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" j "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                axs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("j"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imshow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gen_imgs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cnt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cmap"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gray'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                axs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("j"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("axis"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                cnt "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        fig"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("savefig"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"images/%d.png"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" epoch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        plt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("close"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keras"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__version__"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    gan "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" GAN"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    gan"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("train"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("epochs"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("30000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" batch_size"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sample_interval"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-gan/gan2_gif.gif"}}),t._v(" "),e("figcaption",[t._v("数字生成")])])]),t._v(" "),e("h3",{attrs:{id:"_2-1-4-如何评价-gan"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-如何评价-gan"}},[t._v("#")]),t._v(" 2.1.4 如何评价 GAN")]),t._v(" "),e("ol",[e("li",[t._v("example-based\n顾名思义，基于样本层面做评价的方法： 对生成样本与真实样本提取特征，然后在特征空间做距离度量")]),t._v(" "),e("li",[t._v("Inception Score (IS)\n对于一个训练良好的 GAN，其生成的样本丢给 Inception[^7] 网络进行测试的时候，得到的判别概率应该具有如下特性：\n"),e("ul",[e("li",[t._v("对于同一个类别的图片，其输出的概率分布应该趋向于一个脉冲分布。可以保证生成样本的准确性。")]),t._v(" "),e("li",[t._v("对于所有类别，其输出的概率分布应该趋向于一个均匀分布，这样才不会出现 mode collapsing 等，可以保证生成样本的多样性。")])]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("I")]),e("mi",[t._v("S")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("g")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",[t._v("=")]),e("msup",[e("mi",[t._v("e")]),e("mrow",[e("msub",[e("mi",[t._v("E")]),e("mrow",[e("mi",[t._v("x")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("g")])],1)],1)],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("[")]),e("mi",[t._v("K")]),e("mi",[t._v("L")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("M")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("y")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("M")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("y")]),e("mo",[t._v(")")]),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",{attrs:{fence:"true"}},[t._v("]")])],1)],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("I S \\left( P _ { g } \\right) = e ^ { E _ { x \\sim P _ { g } } \\left[ K L \\left( p _ { M } ( y | x ) \\| p _ { M } ( y ) \\right) \\right] }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.938em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.224108em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("e")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0.7em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.05764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.14999999999999997em","margin-right":"0.1em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptscriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"minner scriptstyle uncramped"},[e("span",{staticClass:"style-wrap reset-scriptstyle scriptstyle uncramped",staticStyle:{top:"0em"}},[t._v("[")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")]),e("span",{staticClass:"mord mathit"},[t._v("L")]),e("span",{staticClass:"minner scriptstyle uncramped"},[e("span",{staticClass:"style-wrap reset-scriptstyle scriptstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),e("span",{staticClass:"mord mathrm"},[t._v("∣")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"style-wrap reset-scriptstyle scriptstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"style-wrap reset-scriptstyle scriptstyle uncramped",staticStyle:{top:"0em"}},[t._v("]")])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0.7em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v("\n特点：可以一定程度上衡量生成样本的多样性和准确性，但是无法检测过拟合\n"),e("a",{attrs:{href:"https://www.jiqizhixin.com/articles/2019-01-10-18",target:"_blank",rel:"noopener noreferrer"}},[t._v("全面解析 Inception Score 原理及其局限性"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("Fréchet Inception Distance (FID)")]),t._v(" "),e("li")]),t._v(" "),e("p",[t._v("[^7]: Inception 来源于 Google 的 Inception Net")]),t._v(" "),e("h3",{attrs:{id:"model-collapse（模型塌陷）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#model-collapse（模型塌陷）"}},[t._v("#")]),t._v(" "),e("em",[t._v("Model Collapse")]),t._v("（模型塌陷）")]),t._v(" "),e("p",[t._v("生成器只需锁定到另一个模型。这个循环无限重复，限制了生成样本的多样性")]),t._v(" "),e("p",[t._v("Even though the generator might be able to trick the corresponding discriminator, it fails to learn to represent the complex real-world data distribution and gets stuck in a small space with extremely low variety.")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("Feature Matching\nFeature matching suggests to optimize the discriminator to inspect whether the generator’s output matches expected statistics of the real samples. In such a scenario, the new loss function is defined as "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msubsup",[e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("∥")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("E")])],1),e("mrow",[e("mi",[t._v("x")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1)],1)],1),e("mi",[t._v("f")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",[t._v("−")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("E")])],1),e("mrow",[e("mi",[t._v("z")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("z")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("z")]),e("mo",[t._v(")")])],1)],1),e("mi",[t._v("f")]),e("mo",[t._v("(")]),e("mi",[t._v("G")]),e("mo",[t._v("(")]),e("mi",[t._v("z")]),e("mo",[t._v(")")]),e("mo",[t._v(")")]),e("mo",{attrs:{fence:"true"}},[t._v("∥")])],1),e("mrow",[e("mn",[t._v("2")])],1),e("mrow",[e("mn",[t._v("2")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\left\\| \\mathbb { E } _ { x \\sim p _ { r } } f ( x ) - \\mathbb { E } _ { z \\sim p _ { z } ( z ) } f ( G ( z ) ) \\right\\| _ { 2 } ^ { 2 }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.927098em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.3322979999999998em","vertical-align":"-0.4051999999999999em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"minner"},[e("span",{staticClass:"minner textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped"},[e("span",{staticClass:"delimsizing mult"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.35000999999999993em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"delimsizinginner delim-size1"},[e("span",[t._v("∥")])])]),e("span",{staticStyle:{top:"-0.25599000000000005em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"delimsizinginner delim-size1"},[e("span",[t._v("∥")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])]),e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbb"},[t._v("E")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbb"},[t._v("E")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.18019999999999992em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("G")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped"},[e("span",{staticClass:"delimsizing mult"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.35000999999999993em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"delimsizinginner delim-size1"},[e("span",[t._v("∥")])])]),e("span",{staticStyle:{top:"-0.25599000000000005em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"delimsizinginner delim-size1"},[e("span",[t._v("∥")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.4051999999999999em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),e("span",{staticStyle:{top:"-0.47599em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" where "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("f")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f(x)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(" can be any computation of statistics of features, such as mean or median.")])]),t._v(" "),e("li",[e("p",[t._v("Minibatch Discrimination")])]),t._v(" "),e("li",[e("p",[t._v("WGAN by Martin Arjovsky")])])]),t._v(" "),e("h2",{attrs:{id:"_2-2-cgan：-随心所欲"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-cgan：-随心所欲"}},[t._v("#")]),t._v(" 2.2 CGAN： 随心所欲")]),t._v("\n\\min _ { G } \\max _ { D } V ( D , G ) = \\mathbb { E } _ { \\boldsymbol { x } \\sim p _ { \\text { data } } ( \\boldsymbol { x } ) } [ \\log D ( \\boldsymbol { x } | \\boldsymbol { y } ) ] + \\mathbb { E } _ { \\boldsymbol { z } \\sim p _ { z } ( \\boldsymbol { z } ) } [ \\log ( 1 - D ( G ( \\boldsymbol { z } | \\boldsymbol { y } ) ) ) ]\n\n"),e("p",[t._v("可按照数字标签生成相应标签的数字图像")]),t._v(" "),e("p",[t._v("其中，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("y")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("y")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])]),t._v(" 是加入的监督信息，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("D")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),e("mi",[t._v("y")]),e("mo",[t._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D(x|y)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mord mathrm"},[t._v("∣")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(" 表示在 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("y")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("y")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])]),t._v(" 的条件下判定真实数据 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("x")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")])])])]),t._v("，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("D")]),e("mo",[t._v("(")]),e("mi",[t._v("G")]),e("mo",[t._v("(")]),e("mi",[t._v("z")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),e("mi",[t._v("y")]),e("mo",[t._v(")")]),e("mo",[t._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D(G(z|y))")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("G")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),e("span",{staticClass:"mord mathrm"},[t._v("∣")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(" 表示在 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("y")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("y")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])]),t._v(" 的条件下判定生成数据 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("G")]),e("mo",[t._v("(")]),e("mi",[t._v("z")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),e("mi",[t._v("y")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G(z|y")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("G")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),e("span",{staticClass:"mord mathrm"},[t._v("∣")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])]),t._v(")。例如，MNIST 数据集可根据数字 label 信息，生成相应标签的图片；人脸生成数据集，可根据性别、是否微笑、年龄等信息，生成相应的人脸图片")]),t._v(" "),e("p",[e("img",{attrs:{src:a(277),alt:""}})]),t._v(" "),e("p",[e("a",{attrs:{href:""}},[t._v("zi2zi: Master Chinese Calligraphy with Conditional Adversarial Networks")])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-gan/zi2zi.gif"}}),t._v(" "),e("figcaption",[t._v("字到字")])])]),t._v(" "),e("h2",{attrs:{id:"_2-3-wgan"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-wgan"}},[t._v("#")]),t._v(" 2.3 WGAN")]),t._v(" "),e("blockquote",[e("p",[t._v("要说真正实用的 GAN\nWGAN 必须要有姓名。")])]),t._v(" "),e("p",[t._v("回想一下，我们一开始的目标无非是想估计真实的数据分布 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("P")]),e("mi",[t._v("r")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("P_r")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v("， 如果采用 极大似然法呢？")]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("max")]),e("mrow",[e("mi",[t._v("θ")]),e("mo",[t._v("∈")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("R")])],1),e("mrow",[e("mi",[t._v("d")])],1)],1)],1)],1),e("mfrac",[e("mrow",[e("mn",[t._v("1")])],1),e("mrow",[e("mi",[t._v("m")])],1)],1),e("msubsup",[e("mo",[t._v("∑")]),e("mrow",[e("mi",[t._v("i")]),e("mo",[t._v("=")]),e("mn",[t._v("1")])],1),e("mrow",[e("mi",[t._v("m")])],1)],1),e("mi",[t._v("log")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("θ")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msup",[e("mi",[t._v("x")]),e("mrow",[e("mo",[t._v("(")]),e("mi",[t._v("i")]),e("mo",[t._v(")")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\max _{\\theta \\in \\mathbb{R}^{d}} \\frac{1}{m} \\sum_{i=1}^{m} \\log P_{\\theta}\\left(x^{(i)}\\right)\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.6513970000000002em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.929066em","vertical-align":"-1.277669em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.7252430000000001em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),e("span",{staticClass:"mrel"},[t._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[t._v("R")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.30289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("d")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticStyle:{top:"1.3877787807814457e-16em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("max")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("m")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[t._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("m")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[t._v("(")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[t._v(")")])])])])])])])]),t._v(" "),e("p",[t._v("可以证明，在极限意义下（样本无限多），其实这等价于优化 KL 散度！")]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mtable",[e("mtr",[e("mtd",[e("mrow",[e("msub",[e("mi",[t._v("lim")]),e("mrow",[e("mi",[t._v("m")]),e("mo",[t._v("→")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∞")])],1)],1),e("msub",[e("mi",[t._v("max")]),e("mrow",[e("mi",[t._v("θ")]),e("mo",[t._v("∈")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("R")])],1),e("mrow",[e("mi",[t._v("d")])],1)],1)],1)],1),e("mfrac",[e("mrow",[e("mn",[t._v("1")])],1),e("mrow",[e("mi",[t._v("m")])],1)],1),e("msubsup",[e("mo",[t._v("∑")]),e("mrow",[e("mi",[t._v("i")]),e("mo",[t._v("=")]),e("mn",[t._v("1")])],1),e("mrow",[e("mi",[t._v("m")])],1)],1),e("mi",[t._v("log")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("θ")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msup",[e("mi",[t._v("x")]),e("mrow",[e("mo",[t._v("(")]),e("mi",[t._v("i")]),e("mo",[t._v(")")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1)],1)],1),e("mtd",[e("mrow",[e("mrow"),e("mo",[t._v("=")]),e("msub",[e("mi",[t._v("max")]),e("mrow",[e("mi",[t._v("θ")]),e("mo",[t._v("∈")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("R")])],1),e("mrow",[e("mi",[t._v("d")])],1)],1)],1)],1),e("msub",[e("mo",[t._v("∫")]),e("mrow",[e("mi",[t._v("x")])],1)],1),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mi",[t._v("log")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("θ")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mi",[t._v("d")]),e("mi",[t._v("x")])],1)],1)],1),e("mtr",[e("mtd",[e("mrow",[e("mtext")],1)],1),e("mtd",[e("mrow",[e("mrow"),e("mo",[t._v("=")]),e("msub",[e("mi",[t._v("min")]),e("mrow",[e("mi",[t._v("θ")]),e("mo",[t._v("∈")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("R")])],1),e("mrow",[e("mi",[t._v("d")])],1)],1)],1)],1),e("mo",[t._v("−")]),e("msub",[e("mo",[t._v("∫")]),e("mrow",[e("mi",[t._v("x")])],1)],1),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mi",[t._v("log")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("θ")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mi",[t._v("d")]),e("mi",[t._v("x")])],1)],1)],1),e("mtr",[e("mtd",[e("mrow",[e("mtext")],1)],1),e("mtd",[e("mrow",[e("mrow"),e("mo",[t._v("=")]),e("msub",[e("mi",[t._v("min")]),e("mrow",[e("mi",[t._v("θ")]),e("mo",[t._v("∈")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("R")])],1),e("mrow",[e("mi",[t._v("d")])],1)],1)],1)],1),e("msub",[e("mo",[t._v("∫")]),e("mrow",[e("mi",[t._v("x")])],1)],1),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mi",[t._v("log")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mi",[t._v("d")]),e("mi",[t._v("x")]),e("mo",[t._v("−")]),e("msub",[e("mo",[t._v("∫")]),e("mrow",[e("mi",[t._v("x")])],1)],1),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mi",[t._v("log")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("θ")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mi",[t._v("d")]),e("mi",[t._v("x")])],1)],1)],1),e("mtr",[e("mtd",[e("mrow",[e("mtext")],1)],1),e("mtd",[e("mrow",[e("mrow"),e("mo",[t._v("=")]),e("msub",[e("mi",[t._v("min")]),e("mrow",[e("mi",[t._v("θ")]),e("mo",[t._v("∈")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("R")])],1),e("mrow",[e("mi",[t._v("d")])],1)],1)],1)],1),e("mi",[t._v("K")]),e("mi",[t._v("L")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("θ")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1)],1)],1)],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\begin{aligned} \\lim _{m \\rightarrow \\infty} \\max _{\\theta \\in \\mathbb{R}^{d}} \\frac{1}{m} \\sum_{i=1}^{m} \\log P_{\\theta}\\left(x^{(i)}\\right) &=\\max _{\\theta \\in \\mathbb{R}^{d}} \\int_{x} P_{r}(x) \\log P_{\\theta}(x) d x \\\\\\ &=\\min _{\\theta \\in \\mathbb{R}^{d}}-\\int_{x} P_{r}(x) \\log P_{\\theta}(x) d x \\\\\\ &=\\min _{\\theta \\in \\mathbb{R}^{d}} \\int_{x} P_{r}(x) \\log P_{r}(x) d x-\\int_{x} P_{r}(x) \\log P_{\\theta}(x) d x \\\\\\ &=\\min _{\\theta \\in \\mathbb{R}^{d}} K L\\left(P_{r} \\| P_{\\theta}\\right) \\end{aligned}\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"4.833089500000001em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"9.166179000000003em","vertical-align":"-4.333089500000002em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mtable"},[e("span",{staticClass:"col-align-r"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-3.1816925000000005em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("m")]),e("span",{staticClass:"mrel"},[t._v("→")]),e("span",{staticClass:"mord mathrm"},[t._v("∞")])])])]),e("span",{staticStyle:{top:"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("lim")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.7252430000000001em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),e("span",{staticClass:"mrel"},[t._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[t._v("R")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.30289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("d")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticStyle:{top:"1.3877787807814457e-16em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("max")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("m")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[t._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("m")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[t._v("(")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[t._v(")")])])])])]),e("span",{staticStyle:{top:"-0.5440235000000004em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"})])]),e("span",{staticStyle:{top:"1.7282265000000006em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"})])]),e("span",{staticStyle:{top:"3.4804765000000017em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"})])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"col-align-l"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-3.1816925000000005em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"}),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.7252430000000001em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),e("span",{staticClass:"mrel"},[t._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[t._v("R")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.30289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("d")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticStyle:{top:"1.3877787807814457e-16em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("max")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mop"},[e("span",{staticClass:"op-symbol large-op mop",staticStyle:{"margin-right":"0.44445em",top:"-0.0011249999999999316em"}},[t._v("∫")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.91225em","margin-right":"0.05em","margin-left":"-0.44445em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mord mathit"},[t._v("d")]),e("span",{staticClass:"mord mathit"},[t._v("x")])])]),e("span",{staticStyle:{top:"-0.5440235000000004em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"}),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.725243em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),e("span",{staticClass:"mrel"},[t._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[t._v("R")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.30289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("d")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticStyle:{top:"2.7755575615628914e-17em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("min")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord"},[t._v("−")]),e("span",{staticClass:"mop"},[e("span",{staticClass:"op-symbol large-op mop",staticStyle:{"margin-right":"0.44445em",top:"-0.0011249999999999316em"}},[t._v("∫")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.91225em","margin-right":"0.05em","margin-left":"-0.44445em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mord mathit"},[t._v("d")]),e("span",{staticClass:"mord mathit"},[t._v("x")])])]),e("span",{staticStyle:{top:"1.7282265000000006em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"}),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.725243em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),e("span",{staticClass:"mrel"},[t._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[t._v("R")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.30289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("d")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticStyle:{top:"2.7755575615628914e-17em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("min")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mop"},[e("span",{staticClass:"op-symbol large-op mop",staticStyle:{"margin-right":"0.44445em",top:"-0.0011249999999999316em"}},[t._v("∫")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.91225em","margin-right":"0.05em","margin-left":"-0.44445em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mord mathit"},[t._v("d")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mop"},[e("span",{staticClass:"op-symbol large-op mop",staticStyle:{"margin-right":"0.44445em",top:"-0.0011249999999999316em"}},[t._v("∫")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.91225em","margin-right":"0.05em","margin-left":"-0.44445em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mord mathit"},[t._v("d")]),e("span",{staticClass:"mord mathit"},[t._v("x")])])]),e("span",{staticStyle:{top:"3.4804765000000017em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"}),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.725243em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),e("span",{staticClass:"mrel"},[t._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathbb"},[t._v("R")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.30289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("d")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticStyle:{top:"2.7755575615628914e-17em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("min")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")]),e("span",{staticClass:"mord mathit"},[t._v("L")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])])])])])])])])]),t._v(" "),e("h3",{attrs:{id:"kl-kullback–leibler-divergence"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kl-kullback–leibler-divergence"}},[t._v("#")]),t._v(" KL (Kullback–Leibler) Divergence")]),t._v(" "),e("p",[t._v("KL (Kullback–Leibler) Divergence measures how one probability distribution "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("p")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("p")])])])]),t._v(" diverges from a second expected probability distribution "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("q")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("q")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")])])])])]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("D")]),e("mrow",[e("mi",[t._v("K")]),e("mi",[t._v("L")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("p")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("mi",[t._v("q")]),e("mo",[t._v(")")]),e("mo",[t._v("=")]),e("msub",[e("mo",[t._v("∫")]),e("mrow",[e("mi",[t._v("x")])],1)],1),e("mi",[t._v("p")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mi",[t._v("log")]),e("mfrac",[e("mrow",[e("mi",[t._v("p")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")])],1),e("mrow",[e("mi",[t._v("q")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")])],1)],1),e("mi",[t._v("d")]),e("mi",[t._v("x")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D _ { K L } ( p \\| q ) = \\int _ { x } p ( x ) \\log \\frac { p ( x ) } { q ( x ) } d x\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.427em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.363em","vertical-align":"-0.936em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")]),e("span",{staticClass:"mord mathit"},[t._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop"},[e("span",{staticClass:"op-symbol large-op mop",staticStyle:{"margin-right":"0.44445em",top:"-0.0011249999999999316em"}},[t._v("∫")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.91225em","margin-right":"0.05em","margin-left":"-0.44445em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),e("span",{staticStyle:{top:"-0.2300000000000001em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mord mathit"},[t._v("d")]),e("span",{staticClass:"mord mathit"},[t._v("x")])])])])])]),t._v(" "),e("p",[t._v("显然，当 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("p")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("p")])])])]),t._v(" 和 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("q")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("q")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")])])])]),t._v(" 在定义域上几乎处处相等的时候，其 D L 散度为 0\n（这里的 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("l")]),e("mi",[t._v("o")]),e("mi",[t._v("g")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("log")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),e("span",{staticClass:"mord mathit"},[t._v("o")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),t._v(" 函数其实可以是任意满足如下两个条件的函数\n1. 凸函数  \\\\\\ 2. f(1) = 0\n因此，这种距离也被称为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("f")]),e("mo",[t._v("−")]),e("mi",[t._v("d")]),e("mi",[t._v("i")]),e("mi",[t._v("v")]),e("mi",[t._v("e")]),e("mi",[t._v("r")]),e("mi",[t._v("g")]),e("mi",[t._v("e")]),e("mi",[t._v("n")]),e("mi",[t._v("c")]),e("mi",[t._v("e")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f-divergence")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord mathit"},[t._v("d")]),e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),e("span",{staticClass:"mord mathit"},[t._v("e")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),e("span",{staticClass:"mord mathit"},[t._v("e")]),e("span",{staticClass:"mord mathit"},[t._v("n")]),e("span",{staticClass:"mord mathit"},[t._v("c")]),e("span",{staticClass:"mord mathit"},[t._v("e")])])])])]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("D")]),e("mrow",[e("mi",[t._v("f")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("p")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("mi",[t._v("q")]),e("mo",[t._v(")")]),e("mo",[t._v("=")]),e("msub",[e("mo",[t._v("∫")]),e("mrow",[e("mi",[t._v("x")])],1)],1),e("mi",[t._v("q")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mi",[t._v("f")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("mfrac",[e("mrow",[e("mi",[t._v("p")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")])],1),e("mrow",[e("mi",[t._v("q")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mi",[t._v("d")]),e("mi",[t._v("x")]),e("mo",[t._v("≥")]),e("mi",[t._v("f")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("mo",[t._v("∫")]),e("mi",[t._v("q")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mfrac",[e("mrow",[e("mi",[t._v("p")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")])],1),e("mrow",[e("mi",[t._v("q")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")])],1)],1),e("mi",[t._v("d")]),e("mi",[t._v("x")]),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",[t._v("=")]),e("mi",[t._v("f")]),e("mo",[t._v("(")]),e("mn",[t._v("1")]),e("mo",[t._v(")")]),e("mo",[t._v("=")]),e("mn",[t._v("0")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D_{f}(p \\| q)=\\int_{x} q(x) f\\left(\\frac{p(x)}{q(x)}\\right) d x \\geq f\\left(\\int q(x) \\frac{p(x)}{q(x)} d x\\right)=f(1)=0\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.45em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.40003em","vertical-align":"-0.95003em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop"},[e("span",{staticClass:"op-symbol large-op mop",staticStyle:{"margin-right":"0.44445em",top:"-0.0011249999999999316em"}},[t._v("∫")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.91225em","margin-right":"0.05em","margin-left":"-0.44445em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[t._v("(")])]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),e("span",{staticStyle:{top:"-0.2300000000000001em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[t._v(")")])])]),e("span",{staticClass:"mord mathit"},[t._v("d")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mrel"},[t._v("≥")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[t._v("(")])]),e("span",{staticClass:"op-symbol large-op mop",staticStyle:{"margin-right":"0.44445em",top:"-0.0011249999999999316em"}},[t._v("∫")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),e("span",{staticStyle:{top:"-0.2300000000000001em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mord mathit"},[t._v("d")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[t._v(")")])])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathrm"},[t._v("1")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathrm"},[t._v("0")])])])])])]),t._v(" "),e("p",[t._v("在 p 有定义而 q 无定义的范围中，KL 散度趋向无穷。\n可以通过加入噪声的方式缓解。\n但是，引入噪声也会引入误差。\n退一步讲，即使学习到了一个好的密度函数，从中抽样可能也是非常复杂耗时的。")]),t._v(" "),e("p",[t._v("因此，更倾向于另外一种方案：对已有的一个分布（例如均匀分布或者高斯分布），学习一个将其映射到密度函数的映射函数，也就是生成模型的方案。（缺点： 我们不再知道具体的密度函数是什么）")]),t._v(" "),e("p",[t._v("如何更好地衡量两个分布之间的距离呢？")]),t._v(" "),e("h3",{attrs:{id:"js-jensen–shannon-divergence"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#js-jensen–shannon-divergence"}},[t._v("#")]),t._v(" JS (Jensen–Shannon) Divergence")]),t._v(" "),e("p",[t._v("KL 散度是不对称的，JS 改造使其对称")]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("D")]),e("mrow",[e("mi",[t._v("J")]),e("mi",[t._v("S")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("p")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("mi",[t._v("q")]),e("mo",[t._v(")")]),e("mo",[t._v("=")]),e("mfrac",[e("mrow",[e("mn",[t._v("1")])],1),e("mrow",[e("mn",[t._v("2")])],1)],1),e("msub",[e("mi",[t._v("D")]),e("mrow",[e("mi",[t._v("K")]),e("mi",[t._v("L")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("mi",[t._v("p")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("mfrac",[e("mrow",[e("mi",[t._v("p")]),e("mo",[t._v("+")]),e("mi",[t._v("q")])],1),e("mrow",[e("mn",[t._v("2")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",[t._v("+")]),e("mfrac",[e("mrow",[e("mn",[t._v("1")])],1),e("mrow",[e("mn",[t._v("2")])],1)],1),e("mi",[t._v("D")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("_")]),e("mrow",[e("mi",[t._v("K")]),e("mi",[t._v("L")])],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("mi",[t._v("q")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("mfrac",[e("mrow",[e("mi",[t._v("p")]),e("mo",[t._v("+")]),e("mi",[t._v("q")])],1),e("mrow",[e("mn",[t._v("2")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D _ { J S } ( p \\| q ) = \\frac { 1 } { 2 } D _ { K L } \\left( p \\| \\frac { p + q } { 2 } \\right) + \\frac { 1 } { 2 } D \\_ { K L } \\left( q \\| \\frac { p + q } { 2 } \\right)\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.45em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.40003em","vertical-align":"-0.95003em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")]),e("span",{staticClass:"mord mathit"},[t._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[t._v("(")])]),e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[t._v(")")])])]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.02778em"}},[t._v("_")]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")]),e("span",{staticClass:"mord mathit"},[t._v("L")])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[t._v("(")])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size3"},[t._v(")")])])])])])])])]),t._v(" "),e("h3",{attrs:{id:"emd-推土机距离"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#emd-推土机距离"}},[t._v("#")]),t._v(" EMD-推土机距离")]),t._v(" "),e("div",[e("figure",[e("img",{staticStyle:{width:"500px"},attrs:{src:a(278)}}),t._v(" "),e("figcaption",{attrs:{align:"center"}},[t._v("推土机哪家强？代价最低找 Wasserstein")])])]),t._v(" "),e("p",[t._v("Wasserstein Distance, 又称 "),e("em",[t._v("Earth Mover's Distance")])]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("W")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("g")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",[t._v("=")]),e("msub",[e("mi",[t._v("inf")]),e("mrow",[e("mi",[t._v("γ")]),e("mo",[t._v("∼")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("Π")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("g")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1)],1)],1),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("E")])],1),e("mrow",[e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("y")]),e("mo",[t._v(")")]),e("mo",[t._v("∼")]),e("mi",[t._v("γ")])],1)],1),e("mo",[t._v("[")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("mi",[t._v("x")]),e("mo",[t._v("−")]),e("mi",[t._v("y")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("mo",[t._v("]")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W \\left( p _ { r } , p _ { g } \\right) = \\inf _ { \\gamma \\sim \\Pi \\left( p _ { r } , p _ { g } \\right) } \\mathbb { E } _ { ( x , y ) \\sim \\gamma } [ \\| x - y \\| ]\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.74322em","vertical-align":"-0.99322em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6910000000000001em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0.7em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord mathrm"},[t._v("Π")]),e("span",{staticClass:"minner scriptstyle cramped"},[e("span",{staticClass:"style-wrap reset-scriptstyle scriptstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-scriptstyle scriptstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])])])])]),e("span",{staticStyle:{top:"2.7755575615628914e-17em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0.7em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("in"),e("span",{staticStyle:{"margin-right":"0.07778em"}},[t._v("f")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0.7em"}},[t._v("​")])]),t._v("​")])])]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbb"},[t._v("E")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.18019999999999992em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("[")]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mclose"},[t._v("]")])])])])])]),t._v(" "),e("p",[t._v("其中，$\\Pi( p _ { r } , p _ { g }) $ 是 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("p")]),e("mi",[t._v("r")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_r")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 和 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("q")]),e("mi",[t._v("r")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("q_r")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 的联合分布集合（只需满足其边际分布分别为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p _ { r }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 和 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("g")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p _ { g }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.716668em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v("）。")]),t._v(" "),e("p",[t._v("和前述 "),e("em",[t._v("f-divergency")]),t._v(" 距离不同，这种距离被称为 Integral probality metric (IPM)")]),t._v(" "),e("p",[t._v("直观意义： 如果把分布想象成一堆土的不同形状，则 EMD 可以理解为是将呈某个分布形状的一堆土变换成另外一个分布的最小能量代价。这里代价被量化为：移动的土的数量乘以其移动的距离。")]),t._v(" "),e("p",[t._v("因为是理论上可以有无数种移动方式，因此，EMD 的计算本身是一个优化问题。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(279),alt:""}})]),t._v(" "),e("p",[t._v("First move 2 shovelfuls from P1 to P2 => (P1,Q1) match up.\nThen move 2 shovelfuls from P2 to P3 => (P2,Q2) match up.\nFinally move 1 shovelfuls from Q3 to Q4 => (P3,Q3) and (P4,Q4) match up.")]),t._v(" "),e("p",[t._v("If we label the cost to pay to make Pi and Qi match as "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("δ")]),e("mi",[t._v("i")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\delta_i")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03785em"}},[t._v("δ")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03785em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(", we would have "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("δ")]),e("mrow",[e("mi",[t._v("i")]),e("mo",[t._v("+")]),e("mn",[t._v("1")])],1)],1),e("mo",[t._v("=")]),e("mi",[t._v("δ")]),e("mrow",[e("mi",[t._v("i")])],1),e("mo",[t._v("+")]),e("msub",[e("mi",[t._v("P")]),e("mi",[t._v("i")])],1),e("mo",[t._v("−")]),e("msub",[e("mi",[t._v("Q")]),e("mi",[t._v("i")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\delta_{i+1} = \\delta{i} + P_i - Q_i")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.902771em","vertical-align":"-0.208331em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03785em"}},[t._v("δ")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03785em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03785em"}},[t._v("δ")]),e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")])]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("Q")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" and in the example:")]),t._v("\n\\begin{aligned} \\delta _ { 0 } & = 0 \\\\\\\n\\delta _ { 1 } & = 0 + 3 - 1 = 2 \\\\\\\n\\delta _ { 2 } & = 2 + 2 - 2 = 2 \\\\\\\n\\delta _ { 3 } & = 2 + 1 - 4 = - 1 \\\\\\\n\\delta \\_ { 4 } & = - 1 + 4 - 3 = 0 \\end{aligned}\n\n"),e("p",[t._v("Finally the Earth Mover’s distance is "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("W")]),e("mo",[t._v("=")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("Σ")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("∣")]),e("msub",[e("mi",[t._v("δ")]),e("mrow",[e("mi",[t._v("i")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v("∣")])],1),e("mo",[t._v("=")]),e("mn",[t._v("5")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W = \\Sigma \\left| \\delta _ { i } \\right| = 5")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathrm"},[t._v("Σ")]),e("span",{staticClass:"minner textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03785em"}},[t._v("δ")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03785em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("∣")])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathrm"},[t._v("5")])])])])]),t._v(" "),e("p",[t._v("来看一个实际的例子")]),t._v(" "),e("p",[t._v("假设真实的分布为（0,y），y 服从 [0,1] 均匀分布。\n考虑一组分布 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("P")]),e("mi",[t._v("θ")])],1),e("mo",[t._v("=")]),e("mo",[t._v("(")]),e("mi",[t._v("θ")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("y")]),e("mo",[t._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("P_\\theta = (\\theta, y)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(", 其中，y 也服从 [0,1] 均匀分布\n随着 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("θ")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\theta")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])]),t._v(" 不断趋于 0，两个分布之间的距离应该越来越小。")]),t._v(" "),e("p",[t._v("然鹅：")]),t._v("\nK L \\left( P _ { 0 } \\| P _ {\\theta } \\right) = K L \\left( P _ { \\theta } \\| P _ { 0 } \\right) = \\begin{cases}\n{+ \\infty}, & \\text{if $\\theta$ $\\neq$ 0} \\\\\\\n0, & \\text{if $\\theta$ = 0}\n\\end{cases}\n\nJ S \\left( P _ { 0 } \\| P _ { \\theta } \\right) = \\begin{cases}\n{\\log2}, & \\text{if $\\theta$ $\\neq$ 0} \\\\\\\n0, & \\text{if $\\theta$ = 0}\n\\end{cases}\n\n"),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("W")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mn",[t._v("0")])],1)],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("θ")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",[t._v("=")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),e("mi",[t._v("θ")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W \\left( P _ { 0 } , P _ { \\theta } \\right) = | \\theta |\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathrm"},[t._v("∣")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),e("span",{staticClass:"mord mathrm"},[t._v("∣")])])])])])]),t._v(" "),e("p",[t._v("优点： 在两个分布不重叠的时候也是连续的！")]),t._v(" "),e("blockquote",[e("p",[t._v("如果两个分布无交集呢？")])]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("J")]),e("mi",[t._v("S")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("g")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",[t._v("=")]),e("mi",[t._v("log")]),e("mn",[t._v("2")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J S \\left( P _ { r } \\| P _ { g } \\right) = \\log 2\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord mathrm"},[t._v("2")])])])])])]),t._v(" "),e("p",[t._v("也就是说，只要两个分布没有一点重叠或者重叠部分可忽略，JS 散度就固定是常数 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("log")]),e("mn",[t._v("2")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\log 2")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),t._v("，而这对于梯度下降方法意味着"),e("em",[t._v("梯度为 0")]),t._v("！ 此时对于判别器来说，生成器是得不到任何梯度信息的。")]),t._v(" "),e("p",[e("strong",[t._v("分布无交集的情况会经常发生吗？")])]),t._v(" "),e("blockquote",[e("p",[t._v("当 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("P")]),e("mi",[t._v("r")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("P_r")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 与 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("P")]),e("mi",[t._v("g")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("P_g")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.969438em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 的支撑集（support）[^4]是高维空间中的低维流形（manifold）[^5]时，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("P")]),e("mi",[t._v("r")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("P_r")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 与 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("P")]),e("mi",[t._v("g")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("P_g")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.969438em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 重叠部分测度（measure）[^6]为 0 的概率为 1")])]),t._v(" "),e("p",[t._v("[^4]: 支撑集（support）其实就是函数的非零部分子集，比如 ReLU 函数的支撑集就是 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mo",[t._v("(")]),e("mn",[t._v("0")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mo",[t._v("+")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∞")]),e("mo",[t._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(0, +\\infty)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathrm"},[t._v("0")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[t._v("+")]),e("span",{staticClass:"mord mathrm"},[t._v("∞")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v("，一个概率分布的支撑集就是所有概率密度非零部分的集合。\n[^5]: 流形（manifold）是高维空间中曲线、曲面概念的拓广，我们可以在低维上直观理解这个概念，比如我们说三维空间中的一个曲面是一个二维流形，因为它的本质维度（intrinsic dimension）只有 2，一个点在这个二维流形上移动只有两个方向的自由度。同理，三维空间或者二维空间中的一条曲线都是一个一维流形。\n[^6]: 测度（measure）是高维空间中长度、面积、体积概念的拓广，可以理解为“超体积”。")]),t._v(" "),e("p",[t._v("W 散度 在理论上还有如下优良性质：")]),t._v(" "),e("p",[e("img",{attrs:{src:a(280),alt:""}})]),t._v(" "),e("p",[t._v("并且，可以证明")]),t._v(" "),e("ul",[e("li",[t._v("在 KL 和 JS 散度意义下收敛的，在 W 散度下也必收敛")]),t._v(" "),e("li",[t._v("一个小的 EMD 确实意味着分布之间的微小差异")]),t._v(" "),e("li",[t._v("在给出上述性质保证的测度中，EMD 是最弱的（可以理解为条件最宽泛）。")])]),t._v(" "),e("p",[t._v("除此之外，可以证明，原始 GAN 的损失函数等价于")]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mn",[t._v("2")]),e("mi",[t._v("J")]),e("mi",[t._v("S")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("msub",[e("mi",[t._v("P")]),e("mrow",[e("mi",[t._v("g")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",[t._v("−")]),e("mn",[t._v("2")]),e("mi",[t._v("log")]),e("mn",[t._v("2")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("2 J S \\left( P _ { r } \\| P _ { g } \\right) - 2 \\log 2\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[t._v("2")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord mathrm"},[t._v("2")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"mord mathrm"},[t._v("2")])])])])])]),t._v(" "),e("p",[t._v("As a result, training a GAN faces an dilemma:")]),t._v(" "),e("blockquote",[e("p",[t._v("If the discriminator behaves badly, the generator does not have accurate feedback and the loss function cannot represent the reality.\nIf the discriminator does a great job, the gradient of the loss function drops down to close to zero and the learning becomes super slow or even jammed.")])]),t._v(" "),e("blockquote",[e("p",[t._v("原生 GAN：想说爱你不容易")])]),t._v(" "),e("p",[t._v("因此，WGAN 横空出世")]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("W")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("g")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",[t._v("=")]),e("msub",[e("mi",[t._v("inf")]),e("mrow",[e("mi",[t._v("γ")]),e("mo",[t._v("∼")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("Π")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("g")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1)],1)],1),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("E")])],1),e("mrow",[e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("y")]),e("mo",[t._v(")")]),e("mo",[t._v("∼")]),e("mi",[t._v("γ")])],1)],1),e("mo",[t._v("[")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("mi",[t._v("x")]),e("mo",[t._v("−")]),e("mi",[t._v("y")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("mo",[t._v("]")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W \\left( p _ { r } , p _ { g } \\right) = \\inf _ { \\gamma \\sim \\Pi \\left( p _ { r } , p _ { g } \\right) } \\mathbb { E } _ { ( x , y ) \\sim \\gamma } [ \\| x - y \\| ]\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.74322em","vertical-align":"-0.99322em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6910000000000001em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0.7em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord mathrm"},[t._v("Π")]),e("span",{staticClass:"minner scriptstyle cramped"},[e("span",{staticClass:"style-wrap reset-scriptstyle scriptstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-scriptstyle scriptstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])])])])]),e("span",{staticStyle:{top:"2.7755575615628914e-17em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0.7em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("in"),e("span",{staticStyle:{"margin-right":"0.07778em"}},[t._v("f")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0.7em"}},[t._v("​")])]),t._v("​")])])]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbb"},[t._v("E")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.18019999999999992em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("[")]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mclose"},[t._v("]")])])])])])]),t._v(" "),e("p",[t._v("但是，一个新的问题： 公式中的下确界没法直接求解！")]),t._v(" "),e("p",[t._v("论文中提出了一种近似求解的方法。")]),t._v(" "),e("p",[t._v("根据 Kantorovich-Rubinstein 对偶( 关于 KR 对偶，参考 "),e("a",{attrs:{href:"https://vincentherrmann.github.io/blog/wasserstein/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Wasserstein GAN and the Kantorovich-Rubinstein Duality"),e("OutboundLink")],1),t._v(")")]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("W")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("g")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",[t._v("=")]),e("mfrac",[e("mrow",[e("mn",[t._v("1")])],1),e("mrow",[e("mi",[t._v("K")])],1)],1),e("msub",[e("mi",[t._v("sup")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("mi",[t._v("f")]),e("msub",[e("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),e("mrow",[e("mi",[t._v("L")])],1)],1),e("mo",[t._v("≤")]),e("mi",[t._v("K")])],1)],1),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("E")])],1),e("mrow",[e("mi",[t._v("x")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1)],1)],1),e("mo",[t._v("[")]),e("mi",[t._v("f")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",[t._v("]")]),e("mo",[t._v("−")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("E")])],1),e("mrow",[e("mi",[t._v("x")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("g")])],1)],1)],1)],1),e("mo",[t._v("[")]),e("mi",[t._v("f")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",[t._v("]")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W \\left( p _ { r } , p _ { g } \\right) = \\frac { 1 } { K } \\sup _ { \\| f \\| _ { L } \\leq K } \\mathbb { E } _ { x \\sim p _ { r } } [ f ( x ) ] - \\mathbb { E } _ { x \\sim p _ { g } } [ f ( x ) ]\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.32144em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.48188em","vertical-align":"-1.16044em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.8854399999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[t._v("∥")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("L")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mrel"},[t._v("≤")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")])])])]),e("span",{staticStyle:{top:"-1.3877787807814457e-16em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("sup")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbb"},[t._v("E")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("[")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v("]")]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbb"},[t._v("E")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.14999999999999997em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("[")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v("]")])])])])])]),t._v(" "),e("p",[t._v("也就是说，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("f")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")])])])]),t._v(" 必须满足是K-Lipschitz 连续 [^1] 的")]),t._v(" "),e("p",[t._v("[^1]: 注意，处处可导函数一定是K-Lipschitz 连续)的，但是 K-Lipschitz 连续 的函数未必是处处可导的，例如 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("f")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",[t._v("=")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),e("mi",[t._v("x")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f ( x ) = | x |")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathrm"},[t._v("∣")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mord mathrm"},[t._v("∣")])])])])]),t._v(" "),e("p",[e("img",{attrs:{src:a(281),alt:""}})]),t._v(" "),e("p",[t._v("假如有一组 K-Lipschitz 连续 的函数，则有")]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("L")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("g")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",[t._v("=")]),e("mi",[t._v("W")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("g")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",[t._v("=")]),e("msub",[e("mi",[t._v("max")]),e("mrow",[e("mi",[t._v("w")]),e("mo",[t._v("∈")]),e("mi",[t._v("W")])],1)],1),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("E")])],1),e("mrow",[e("mi",[t._v("x")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1)],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("[")]),e("msub",[e("mi",[t._v("f")]),e("mrow",[e("mi",[t._v("w")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",{attrs:{fence:"true"}},[t._v("]")])],1),e("mo",[t._v("−")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[t._v("E")])],1),e("mrow",[e("mi",[t._v("z")]),e("mo",[t._v("∼")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("r")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("z")]),e("mo",[t._v(")")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("[")]),e("msub",[e("mi",[t._v("f")]),e("mrow",[e("mi",[t._v("w")])],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("g")]),e("mrow",[e("mi",[t._v("θ")])],1)],1),e("mo",[t._v("(")]),e("mi",[t._v("z")]),e("mo",[t._v(")")]),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mo",{attrs:{fence:"true"}},[t._v("]")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L \\left( p _ { r } , p _ { g } \\right) = W \\left( p _ { r } , p _ { g } \\right) = \\max _ { w \\in W } \\mathbb { E } _ { x \\sim p _ { r } } \\left[ f _ { w } ( x ) \\right] - \\mathbb { E } _ { z \\sim p _ { r } ( z ) } \\left[ f _ { w } \\left( g _ { \\theta } ( z ) \\right) \\right]\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.521701em","vertical-align":"-0.771701em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("L")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.644331em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),e("span",{staticClass:"mrel"},[t._v("∈")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])]),e("span",{staticStyle:{top:"2.7755575615628914e-17em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("max")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbb"},[t._v("E")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("[")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("]")])]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbb"},[t._v("E")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.18019999999999992em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),e("span",{staticClass:"mrel"},[t._v("∼")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("[")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("]")])])])])])])]),t._v(" "),e("p",[t._v("为了限制 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("f")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")])])])]),t._v(" 是一个 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("k")]),e("mo",[t._v("−")]),e("mi",[t._v("L")]),e("mi",[t._v("i")]),e("mi",[t._v("p")]),e("mi",[t._v("s")]),e("mi",[t._v("s")]),e("mi",[t._v("c")]),e("mi",[t._v("h")]),e("mi",[t._v("i")]),e("mi",[t._v("t")]),e("mi",[t._v("z")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("k-Lipsschitz")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord mathit"},[t._v("L")]),e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mord mathit"},[t._v("s")]),e("span",{staticClass:"mord mathit"},[t._v("s")]),e("span",{staticClass:"mord mathit"},[t._v("c")]),e("span",{staticClass:"mord mathit"},[t._v("h")]),e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mord mathit"},[t._v("t")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])])]),t._v(" 函数，WGAN 给出的方案是做 weight clipping，即限制构成 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("f")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")])])])]),t._v(" 的 NN 的参数 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("w")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])]),t._v(" 的范围在 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mo",[t._v("[")]),e("mo",[t._v("−")]),e("mi",[t._v("c")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("c")]),e("mo",[t._v("]")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("[-c,c]")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mopen"},[t._v("[")]),e("span",{staticClass:"mord"},[t._v("−")]),e("span",{staticClass:"mord mathit"},[t._v("c")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit"},[t._v("c")]),e("span",{staticClass:"mclose"},[t._v("]")])])])]),t._v(" 之间，经过梯度下降更新后，一旦某个 w 超过了这个范围，则把 w 强制限定为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mo",[t._v("−")]),e("mi",[t._v("c")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("-c")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.58333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[t._v("−")]),e("span",{staticClass:"mord mathit"},[t._v("c")])])])]),t._v(" 或 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("c")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("c")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("c")])])])]),t._v("。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(282),alt:""}})]),t._v(" "),e("h3",{attrs:{id:"实验结果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实验结果"}},[t._v("#")]),t._v(" 实验结果")]),t._v(" "),e("p",[e("img",{attrs:{src:a(283),alt:""}})]),t._v(" "),e("h3",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),e("p",[t._v("WGAN（Wasserstein GAN）的主要优点：")]),t._v(" "),e("p",[t._v("能够平衡生成器和判别器的训练程度，使得 GAN 的模型训练稳定。\n能够保证生产样本的多样性。\n提出使用 Wasserstein 距离来衡量模型训练的程度，数值越小表示训练得越好，成器生成的图像质量越高。")]),t._v(" "),e("p",[t._v("在实现上，WGAN 的算法与原始 GAN 算法的差异主要体现在如下四点改进：")]),t._v(" "),e("p",[t._v("去掉判别模型最后一层的 sigmoid 操作（因为判别器不再是分类，而是拟合 Wasserstein 距离，属于回归任务）。\n生成模型和判别模型的 loss 值不取 log 操作。\n每次更新判别模型的参数之后把模型参数的绝对值截断到不超过固定常数 c。\n使用 RMSProp 算法，不用基于动量的优化算法，例如 momentum 和 Adam。")]),t._v(" "),e("p",[t._v("参考")]),t._v(" "),e("ol",[e("li",[t._v("论文"),e("a",{attrs:{href:"https://arxiv.org/abs/1701.07875",target:"_blank",rel:"noopener noreferrer"}},[t._v("Wasserstein GAN, 2017"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/25071913",target:"_blank",rel:"noopener noreferrer"}},[t._v("令人拍案叫绝的 Wasserstein GAN"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"_2-4-improved-wgans-wgan-gp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-improved-wgans-wgan-gp"}},[t._v("#")]),t._v(" 2.4 Improved WGANs (WGAN-GP)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.zhihu.com/question/52602529/answer/158727900",target:"_blank",rel:"noopener noreferrer"}},[t._v("从 weight clipping 到 gradient penalty，更加先进的 Lipschitz 限制手法"),e("OutboundLink")],1)]),t._v(" "),e("blockquote",[e("p",[t._v("Weight clipping is a clearly terrible way to enforce a Lipschitz constraint")])]),t._v(" "),e("p",[t._v("统计了经过充分训练的判别器中所有网络参数的数值分布，发现真的集中在最大和最小两个极端上， 因此提出 gradient penalty 取代 weight clipping")]),t._v(" "),e("p",[e("img",{attrs:{src:a(284),alt:""}})]),t._v(" "),e("p",[t._v("优化目标变为加上惩罚项的损失函数\n"),e("img",{attrs:{src:a(285),alt:""}})]),t._v(" "),e("p",[t._v("和最优传输理论的联系")]),t._v(" "),e("p",[t._v("谱归一化")]),t._v(" "),e("h2",{attrs:{id:"_2-5-ls-gan"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-ls-gan"}},[t._v("#")]),t._v(" 2.5 LS-GAN")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/guojunq/lsgan",target:"_blank",rel:"noopener noreferrer"}},[t._v("Loss Sensitive GAN"),e("OutboundLink")],1),t._v("，损失敏感 GAN")]),t._v(" "),e("p",[t._v("Generalized LS-GAN ("),e("a",{attrs:{href:"https://github.com/guojunq/glsgan",target:"_blank",rel:"noopener noreferrer"}},[t._v("GLS-GAN"),e("OutboundLink")],1),t._v(")\n整合了 lsgan 和 wgan，并引入了新的变种。")]),t._v(" "),e("p",[t._v("假定了 Lipschitz 连续")]),t._v(" "),e("h2",{attrs:{id:"_2-6-其他变种"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-其他变种"}},[t._v("#")]),t._v(" 2.6 其他变种")]),t._v(" "),e("p",[e("img",{attrs:{src:a(286),alt:""}})]),t._v(" "),e("p",[t._v("快速推进的研究领域， 百家争鸣，层出不穷！")]),t._v(" "),e("p",[e("img",{attrs:{src:a(287),alt:""}})]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/hindupuravinash/the-gan-zoo",target:"_blank",rel:"noopener noreferrer"}},[t._v("The GAN Zoo"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("α-GAN 作者在论文中吐槽说，之所以用希腊字母做前缀，是因为拉丁字母几乎都被占了……")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"200px"},attrs:{src:"img-gan/2019-05-14-22-51-29.png"}})])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.leiphone.com/news/201703/ydqn1Q6mJBkR8uow.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("用充满爱与和平的 GUNs 挑战 GANs？"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("SigBovik\n: 计算机领域的怪异会议,利用计算机领域各种严谨的方法去解决稀奇古怪的问题")]),t._v(" "),e("p",[t._v("SIGBOVIK 2017, Samuel Albanie、Sebastien Ehrhardt 和 Joao F. Henriques 三人联合完成的学术论文："),e("a",{attrs:{href:"https://arxiv.org/abs/1703.02528",target:"_blank",rel:"noopener noreferrer"}},[t._v("Stopping GAN Violence"),e("OutboundLink")],1),t._v("\n作者在论文中表示，当今社会人类暴力严重泛滥，此点在生成对抗网络（GANs）的运行原理中表现的尤为明显。方法太过“暴力”，而且不够道德，完全不利于推动世界和平与发展；倒不如用他们发明的生非对抗网络（GUNs），和谐快乐又高产")]),t._v(" "),e("p",[t._v("如果说 GANs 中两个模型是彼此虎视眈眈，那么 GUNs 的两个模型则相亲相爱的多。")]),t._v(" "),e("blockquote",[e("p",[t._v("a generator G that does its best to capture whichever data distribution it feels it can manage and a motivator M that helps G to achieve its dream.")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(288),alt:""}})]),t._v(" "),e("p",[t._v("就这样，生成 G 提出样本 PROPS，而激励器 M 作为回应给出确认和表扬：ACKS。两个网络之间友爱互助，最后共同实现愿望。\n绝对禁止 G 和 M“打架”，它们要学会尊重彼此之间的差异，并在此基础上进行演化")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"200px"},attrs:{src:"img-gan/2019-05-14-22-57-31.png"}})])]),t._v(" "),e("p",[t._v("我们挑选其中有代表性的几个来重点看下")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("AAE(Adversarial Autoencoders)")])]),t._v(" "),e("li",[e("p",[t._v("VAE-GANs\nVAE 本身和 GAN 一样都是生成模型的代表。")])]),t._v(" "),e("li",[e("p",[t._v("LAPGAN\n"),e("a",{attrs:{href:""}},[t._v("Deep Generative Image Models using Lapalacian Pyramid of Adversarial Networks")])])]),t._v(" "),e("li",[e("p",[t._v("creative-gan")])]),t._v(" "),e("li",[e("p",[t._v("dual-gan")])]),t._v(" "),e("li",[e("p",[t._v("srgan")])])]),t._v(" "),e("ol",{attrs:{start:"7"}},[e("li",[e("p",[t._v("SAGAN("),e("a",{attrs:{href:"https://arxiv.org/abs/1805.08318",target:"_blank",rel:"noopener noreferrer"}},[t._v("Self-Attention GANs"),e("OutboundLink")],1),t._v(", 2018)\n自注意力 GAN")])]),t._v(" "),e("li",[e("p",[t._v("ProGANs\n渐进生成对抗网络（progressive GANs）\n一般生成图像的像素为 256x256，而 ProGANs 则可以生成 1024x1024 的图像")])]),t._v(" "),e("li",[e("p",[t._v("CycleGAN")]),t._v(" "),e("blockquote",[e("p",[t._v("present an approach for learning to translate an image from a source domain X to a target domain Y in the absence of paired examples")])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-gan/ma2ma.gif"}}),t._v(" "),e("figcaption",[t._v("斑马和马的转换")])])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"400px"},attrs:{src:"img-gan/2019-05-07-19-08-47.png"}})])]),t._v(" "),e("p",[t._v("paper: "),e("a",{attrs:{href:"https://junyanz.github.io/Cycleimg-GAN/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unpaired Image-to-Image Translation using Cycle-Consistent Adversarial Networks, Jun-Yan Zhu. etl. 2017"),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://github.com/junyanz/Cycleimg-GAN/",target:"_blank",rel:"noopener noreferrer"}},[t._v("github code"),e("OutboundLink")],1)])])]),t._v(" "),e("p",[e("img",{attrs:{src:a(289),alt:""}})]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("围绕这篇论文也已经有了很多其他的应用，参考上面的链接。\n")])])]),e("ol",{attrs:{start:"10"}},[e("li",[t._v("DCGAN (深度卷积生成对抗网络, Deep Convolutional GAN）\n来自 Facebook AI Research\n"),e("a",{attrs:{href:""}},[t._v("paper")]),t._v(" "),e("a",{attrs:{href:"https://github.com/carpedm20/DCGAN-tensorflow",target:"_blank",rel:"noopener noreferrer"}},[t._v("github code "),e("OutboundLink")],1)])]),t._v(" "),e("ol",{attrs:{start:"11"}},[e("li",[e("p",[t._v("Improved DCGANs")])]),t._v(" "),e("li",[e("p",[t._v("Relativistic GANs")]),t._v(" "),e("blockquote",[e("p",[t._v("standard GAN (SGAN) is missing a fundamental property, i.e., training the generator should not only increase the probability that fake data is real but also decrease the probability that real data is real. This property is fundamental and should have been in the very first GAN")])])]),t._v(" "),e("li",[e("p",[t._v("BigGANs")])]),t._v(" "),e("li",[e("p",[t._v("BEGANs\n边界平衡 GANs")])]),t._v(" "),e("li",[e("p",[t._v("Sequence GANs")])]),t._v(" "),e("li",[e("p",[t._v("StarGAN\n顾名思义，就是星形网络结构，在 StarGAN 中，生成网络 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("G")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("G")])])])]),t._v(" 被实现成星形。如下图所示，左侧为普通的 Pix2Pix 模型要训练多对多模型时的做法，而右侧则是 StarGAN 的做法，可以看到，StarGAN 仅仅需要一个 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("G")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("G")])])])]),t._v(" 来学习所有领域对之间的转换\n"),e("img",{attrs:{src:a(290),alt:""}}),t._v("\n最终的效果如下\n"),e("img",{attrs:{src:a(291),alt:""}})])])]),t._v(" "),e("ol",{attrs:{start:"17"}},[e("li",[t._v("Spectral GAN")]),t._v(" "),e("li",[t._v("InfoGAN\n在 GAN 中，生成器用噪声 z 生成数据时，没有加任何的条件限制，很难用 z 的任何一个维度信息表示相关的语义特征。所以在数据生成过程中，无法控制什么样的噪声 z 可以生成什么样的数据，在很大程度上限制了 GAN 的使用。InfoGAN 可以认为是无监督的 CGAN，在噪声 z 上增加潜变量 c，使得生成模型生成的数据与浅变量 c 具有较高的互信息，其中 Info 就是代表互信息的含义。互信息定义为两个熵的差值，H(x) 是先验分布的熵，H(x|y) 代表后验分布的熵。如果 x，y 是相互独立的变量，那么互信息的值为 0，表示 x，y 没有关系；如果 x，y 有相关性，那么互信息大于 0。这样在已知 y 的情况下，可以推断出那些 x 的值出现高。这样 InfoGAN 的目标方程为：")])]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("min")]),e("mrow",[e("mi",[t._v("G")])],1)],1),e("msub",[e("mi",[t._v("max")]),e("mrow",[e("mi",[t._v("D")])],1)],1),e("mi",[t._v("V")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("_")]),e("mrow",[e("mi",[t._v("I")])],1),e("mo",[t._v("(")]),e("mi",[t._v("D")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("G")]),e("mo",[t._v(")")]),e("mo",[t._v("=")]),e("mi",[t._v("V")]),e("mo",[t._v("(")]),e("mi",[t._v("D")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("G")]),e("mo",[t._v(")")]),e("mo",[t._v("−")]),e("mi",[t._v("λ")]),e("mi",[t._v("I")]),e("mo",[t._v("(")]),e("mi",[t._v("c")]),e("mo",{attrs:{separator:"true"}},[t._v(";")]),e("mi",[t._v("G")]),e("mo",[t._v("(")]),e("mi",[t._v("z")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("c")]),e("mo",[t._v(")")]),e("mo",[t._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\min _ { G } \\max _ { D } V \\_ { I } ( D , G ) = V ( D , G ) - \\lambda I ( c ; G ( z , c ) )\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.494331em","vertical-align":"-0.7443310000000001em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.644331em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("G")])])])]),e("span",{staticStyle:{top:"2.7755575615628914e-17em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("min")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6443310000000001em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")])])])]),e("span",{staticStyle:{top:"1.3877787807814457e-16em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("max")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[t._v("V")]),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.02778em"}},[t._v("_")]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")])]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit"},[t._v("G")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[t._v("V")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit"},[t._v("G")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord mathit"},[t._v("λ")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("c")]),e("span",{staticClass:"mpunct"},[t._v(";")]),e("span",{staticClass:"mord mathit"},[t._v("G")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit"},[t._v("c")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mclose"},[t._v(")")])])])])])]),t._v(" "),e("ol",{attrs:{start:"21"}},[e("li",[t._v("CoupledGAN")]),t._v(" "),e("li",[t._v("VideoGAN")]),t._v(" "),e("li",[t._v("SeqGAN")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://openreview.net/pdf?id=B1QRgziT-",target:"_blank",rel:"noopener noreferrer"}},[t._v("SN-GAN 谱归一化 GAN"),e("OutboundLink")],1),t._v("\n提出新的归一化方法：谱归一化\n虽然 GAN 十分擅长于生成逼真的图像，但仅仅限于单一类型，比如一种专门生成人脸的 GAN，或者一种专门生成建筑物的 GAN，要用一个 GAN 生成 ImageNet 全部 1000 种类的图像是不可能的。\n但是，这篇 ICLR 论文做到了，SN-GAN 是第一个用一种 GAN 就覆盖 ImageNet 全部 1000 种类数据的 GAN 变体")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/NVlabs/stylegan",target:"_blank",rel:"noopener noreferrer"}},[t._v("StyleGAN"),e("OutboundLink")],1),t._v("\n被誉为 "),e("strong",[e("em",[t._v("GAN 2.0")])])]),t._v(" "),e("li",[e("a",{attrs:{href:""}},[t._v("SSGAN")]),t._v("\nSemi Supervised GAN 半监督 GAN\npaper: Improved Techniques for Training GANs\n"),e("a",{attrs:{href:"https://github.com/gitlimlab/SSGAN-Tensorflow",target:"_blank",rel:"noopener noreferrer"}},[t._v("tensorflow code"),e("OutboundLink")],1)])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://arxiv.org/abs/1801.02774",target:"_blank",rel:"noopener noreferrer"}},[t._v("对抗球"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("对微小扰动的脆弱，是数据流形上高维几何的自然表现。")]),t._v(" "),e("ol",{attrs:{start:"27"}},[e("li",[t._v("Dirac GAN")])]),t._v(" "),e("h1",{attrs:{id:"第四部分-应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第四部分-应用"}},[t._v("#")]),t._v(" 第四部分 应用")]),t._v(" "),e("p",[t._v("佳士得拍卖会上拍卖了一副由 AI 创作的肖像画——《 爱德蒙·贝拉米的肖像 》， 该画最终售价 43.25 万美元 (301 万元人民币)，远远超过了 7000 到 1 万美元的预计售价，同时也引发了人们对人工智能作画的热烈探讨")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"400px"},attrs:{src:"img-gan/2019-05-07-11-29-34.png"}})])]),t._v(" "),e("h2",{attrs:{id:"_4-0-工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-0-工具"}},[t._v("#")]),t._v(" 4.0 工具")]),t._v(" "),e("blockquote",[e("p",[t._v("不要怂，就是 GAN 😄")])]),t._v(" "),e("ul",[e("li",[t._v("tf-gan\n为了更容易地应用及实践 GAN 模型，谷歌开源了名为 "),e("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/gan",target:"_blank",rel:"noopener noreferrer"}},[t._v("TFGAN"),e("OutboundLink")],1),t._v(" 的 TensorFlow 库，可快速实践各种 GAN 模型。")])]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" tensorflow "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" tf\ntfgan "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contrib"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gan\n")])])]),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/eriklindernoren/Keras-GAN",target:"_blank",rel:"noopener noreferrer"}},[t._v("Keras"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://pytorch-cn.readthedocs.io/zh/latest/",target:"_blank",rel:"noopener noreferrer"}},[t._v("pytorch"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/tensorflow/cleverhans",target:"_blank",rel:"noopener noreferrer"}},[t._v("cleverhans"),e("OutboundLink")],1),t._v("\n聪明的汉斯")])]),t._v(" "),e("h2",{attrs:{id:"_4-1-数据生成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-数据生成"}},[t._v("#")]),t._v(" 4.1 数据生成")]),t._v(" "),e("blockquote",[e("p",[e("font",{attrs:{color:"red"}},[t._v("What I cannot create, I do not understand.")]),t._v(" >                    - Richard Feynman\n"),e("img",{attrs:{src:a(292),alt:""}})],1)]),t._v(" "),e("h3",{attrs:{id:"_4-1-1-生成图片"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-生成图片"}},[t._v("#")]),t._v(" 4.1.1 生成图片")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/robbiebarrat/art-DCGAN",target:"_blank",rel:"noopener noreferrer"}},[t._v("arg-DCGAN"),e("OutboundLink")],1),t._v("\nModified implementation of DCGAN focused on generative art")])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"600px"},attrs:{src:"img-gan/2019-05-08-16-51-36.png"}}),t._v(" "),e("figcaption",[t._v("Abstract Landscape GAN")])])]),t._v(" "),e("ul",[e("li",[t._v("涂鸦变风景 NVIDIA SPADE\n教你一步步来画一匹马")])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-gan/2019-05-13-09-34-23.png"}}),t._v(" "),e("figcaption",[t._v("画马的步骤")])])]),t._v("\n      首先，画两个圈；接着画 4 条腿、脸；然后画上毛发；最后再加几笔细节就大功告成了\n"),e("p",[t._v("GauGAN")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-gan/2019-05-13-09-44-12.png"}}),t._v(" "),e("figcaption",[t._v("保罗·高更（1848年6月7日－1903年5月8日）")])])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-gan/2019-05-13.gif"}})])]),t._v(" "),e("p",[t._v("你只管乱画，最后不好看算我输\nSemantic Image Synthesis with Spatially-Adaptive Normalization\n利用空间适应正规化进行语义图片合成（"),e("a",{attrs:{href:"https://nvlabs.github.io/SPADE/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CVPR 2019 论文"),e("OutboundLink")],1),t._v("）\n"),e("img",{attrs:{src:a(293),alt:""}})]),t._v(" "),e("p",[t._v("SPatially ADaptivE Normalization 其实和 Batch Normalization 类似\nsemantic maps\n生成器加了一层 SPADE")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://arxiv.org/abs/1903.02271",target:"_blank",rel:"noopener noreferrer"}},[t._v("High-Fidelity Image Generation With Fewer Labels"),e("OutboundLink")],1),t._v("\n跨模态\nCross Domain Image Generation through Latent Space Exploration with Adversarial Loss")])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://make.girls.moe/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MakeGirlsMoe"),e("OutboundLink")],1),t._v(" 在线生成二次元")])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/paubric/thisrepositorydoesnotexist",target:"_blank",rel:"noopener noreferrer"}},[t._v("This Repository Does Not Exis"),e("OutboundLink")],1),t._v("\nA curated list of awesome projects which use Machine Learning to generate synthetic content.\n例如人脸，猫，"),e("a",{attrs:{href:"http://botpoet.com/vote/desire-beautifully-lusts/",target:"_blank",rel:"noopener noreferrer"}},[t._v("诗歌"),e("OutboundLink")],1),t._v("，简历、假房源")])]),t._v(" "),e("h3",{attrs:{id:"_4-1-2-见字如面：从文本描述生成高质量的图片"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-见字如面：从文本描述生成高质量的图片"}},[t._v("#")]),t._v(" 4.1.2 见字如面：从文本描述生成高质量的图片")]),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://arxiv.org/pdf/1605.05396.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("Generative Adversarial Text to Image Synthesis"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[t._v("StackGAN: Stacked Generative Adversarial Networks\n第一阶段的对抗生成网络利用文本描述粗略勾画物体主要的形状和颜色，生成低分辨率的图片。第二阶段的对抗生成网络将第一阶段的结果和文本描述作为输入，生成细节丰富的高分辨率图片")]),t._v(" "),e("p",[t._v("以鸟类图片生成为例，和 baseline 对比的生成结果如下图所示：\n"),e("img",{attrs:{src:a(294),alt:""}}),t._v("\n第一阶段和第二阶段的对比如下图所示：\n"),e("img",{attrs:{src:a(295),alt:""}})])])]),t._v(" "),e("h3",{attrs:{id:"_4-1-3-语音／音乐生成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-3-语音／音乐生成"}},[t._v("#")]),t._v(" 4.1.3 语音／音乐生成")]),t._v(" "),e("h2",{attrs:{id:"_4-2-域转换-图片翻译"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-域转换-图片翻译"}},[t._v("#")]),t._v(" 4.2 域转换-图片翻译")]),t._v(" "),e("p",[t._v("给定来自两个不同域的训练数据，这些模型学习如何将图像从一个域转换到另一个域\n包括风格转换")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://blog.csdn.net/yH0VLDe8VG8ep9VGe/article/details/85004159",target:"_blank",rel:"noopener noreferrer"}},[t._v("这些假脸实在太逼真了！英伟达造出新一代 GAN，生成壁纸级高清大图毫无破绽"),e("OutboundLink")],1),t._v(" "),e("img",{attrs:{src:a(296),alt:""}})])]),t._v(" "),e("p",[t._v("StyleGAN 把一张图像，看做许多风格 (Styles) 的集合。")]),t._v(" "),e("p",[t._v("每种风格都会在一个不同的尺度 (Scale) 上控制图像的效果\n粗糙 (Coarse Styles) ：姿势、头发、脸型。\n中度 (Middle Styles) ：面部特征、眼睛。\n精细 (Fine Styles) ：配色。\n调节不同“风格”，就可以在不同尺度上调节人脸图片。")]),t._v(" "),e("p",[t._v("Reddit 上一位网友利用 StyleGAN 训练生成了 999 幅抽象派画作，下面是其中一副\n"),e("img",{attrs:{src:a(297),alt:""}})]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-gan/john-snow.gif"}}),t._v(" "),e("figcaption",[t._v("Jon Snow through the ages - generated by StyleGAN")])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Google Deep Dream\n"),e("a",{attrs:{href:"https://www.ostagram.me/static_pages/lenta?last_days=30&locale=en",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ostagram"),e("OutboundLink")],1),t._v(", 一款来自俄罗斯的应用，Prisma 的升级版\n"),e("img",{attrs:{src:a(298),alt:""}}),t._v(" "),e("img",{attrs:{src:a(299),alt:""}}),t._v(" "),e("img",{attrs:{src:a(300),alt:""}}),t._v(" "),e("img",{attrs:{src:a(301),alt:""}}),t._v(" "),e("img",{attrs:{src:a(302),alt:""}}),t._v(" "),e("img",{attrs:{src:a(303),alt:""}}),t._v(" "),e("img",{attrs:{src:a(304),alt:""}}),t._v(" "),e("img",{attrs:{src:a(305),alt:""}})])]),t._v(" "),e("li",[e("p",[t._v("man2woman/apple2orange\n"),e("a",{attrs:{href:"https://github.com/vanhuyz/CycleGAN-TensorFlow",target:"_blank",rel:"noopener noreferrer"}},[t._v("CycleGAN code "),e("OutboundLink")],1),t._v("\nman2woman 数据从 CelebA 数据集中整理得到")])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://arxiv.org/abs/1905.01354",target:"_blank",rel:"noopener noreferrer"}},[t._v("Controllable Artistic Text Style Transfer via Shape-Matching GAN"),e("OutboundLink")],1),t._v("\n艺术字风格转换\n"),e("img",{attrs:{src:a(306),alt:""}})])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/mnicnc404/CartoonGan-tensorflow",target:"_blank",rel:"noopener noreferrer"}},[t._v("CartoonGAN: Generative Adversarial Networks for Photo Cartoonization"),e("OutboundLink")],1),t._v("\n来自清华\n"),e("img",{attrs:{src:a(307),alt:""}})])])]),t._v(" "),e("p",[e("img",{attrs:{src:a(308),alt:""}})]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/albertpumarola/GANimation",target:"_blank",rel:"noopener noreferrer"}},[t._v("GANimation: Anatomically-aware Facial Animation from a Single Image"),e("OutboundLink")],1)])]),t._v(" "),e("p",[e("img",{attrs:{src:a(309),alt:""}})]),t._v(" "),e("ul",[e("li",[t._v("pix2pix\npaper: "),e("a",{attrs:{href:"https://phillipi.github.io/pix2pix/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Image-to-Image Translation with Conditional Adversarial Networks"),e("OutboundLink")],1),t._v(" "),e("img",{attrs:{src:a(310),alt:""}}),t._v(" "),e("a",{attrs:{href:"https://affinelayer.com/pixsrv/",target:"_blank",rel:"noopener noreferrer"}},[t._v("online Demo"),e("OutboundLink")],1),t._v(" for edges2cats, edges2shoes, edges2handbags, et.")]),t._v(" "),e("li",[t._v("ImageToImage\n是 CGAN 的一种，实现图像的风格转换。")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(311),alt:""}})]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://nvlabs.github.io/FUNIT/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("FUNIT: Few-Shot Unsupervised Image-to-Image Translation, from 英伟达"),e("OutboundLink")],1),t._v("\nTranslate images to unseen domains in the test time with few example images.")])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-gan/animal.gif"}}),t._v(" "),e("figcaption",[t._v("图片取自论文 ")])])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://arxiv.org/abs/1905.08233",target:"_blank",rel:"noopener noreferrer"}},[t._v("Few-Shot Adversarial Learning of Realistic Neural Talking Head Models"),e("OutboundLink")],1)])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"300px"},attrs:{src:"img-gan/monalisa.gif"}}),t._v(" "),e("figcaption",[t._v("话痨蒙娜丽莎 ")])])]),t._v(" "),e("ul",[e("li",[t._v("vid2vid\n"),e("a",{attrs:{href:"https://tcwang0509.github.io/vid2vid/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Video-to-Video Synthesis"),e("OutboundLink")],1),t._v("\n英伟达")])]),t._v(" "),e("table",[e("tr",[e("td",[e("center",[e("img",{staticStyle:{width:"400px"},attrs:{src:"img-gan/face_multiple.gif"}})])],1),t._v(" "),e("td",[e("center",[e("img",{staticStyle:{width:"400px"},attrs:{src:"img-gan/pose.gif"}})])],1)])]),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://arxiv.org/abs/1905.08233",target:"_blank",rel:"noopener noreferrer"}},[t._v("Few-Shot Adversarial Learning of Realistic Neural Talking Head Models"),e("OutboundLink")],1),t._v(" "),e("img",{attrs:{src:a(312),alt:""}})])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://arxiv.org/abs/1703.00848",target:"_blank",rel:"noopener noreferrer"}},[t._v('Ming-Yu Liu, Thomas Breuel, Jan Kautz, "Unsupervised Image-to-Image Translation Networks" NIPS 2017 Spotlight, arXiv:1703.00848 2017'),e("OutboundLink")],1),t._v("\n无监督的图片大到图片翻译，英伟达")]),t._v(" "),e("p",[t._v("based on Coupled GANs")])])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-gan/day2night.gif"}}),t._v(" "),e("figcaption",[t._v("白天转黑夜")])])]),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://github.com/deepfakes/faceswap",target:"_blank",rel:"noopener noreferrer"}},[t._v("faceswap"),e("OutboundLink")],1),t._v("\n识别和替换图片或视频中的人脸")]),t._v(" "),e("blockquote",[e("p",[t._v("Faceswap is not porn.")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/shaoanlu/faceswap-GAN",target:"_blank",rel:"noopener noreferrer"}},[t._v("faceswap-gan"),e("OutboundLink")],1)])])]),t._v(" "),e("table",[e("tr",[e("td",[e("center",[e("img",{attrs:{src:"img-gan/yangmi.gif"}}),t._v(" 杨幂 ")])],1),t._v(" "),e("td",[e("center",[e("img",{attrs:{src:"img-gan/wuyanzu.gif"}}),t._v("吴彦祖 ")])],1)])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("性别迁移\n"),e("a",{attrs:{href:"https://blog.evjang.com/2019/05/fun-with-snapchats-gender-swapping.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Snapchat's new gender-bending filter"),e("OutboundLink")],1),t._v(" "),e("img",{attrs:{src:a(313),alt:""}})])]),t._v(" "),e("li",[e("p",[t._v("人脸转正\n"),e("a",{attrs:{href:"https://arxiv.org/abs/1704.04086",target:"_blank",rel:"noopener noreferrer"}},[t._v("Beyond Face Rotation: Global and Local Perception GAN for Photorealistic and Identity Preserving Frontal View Synthesis"),e("OutboundLink")],1),t._v(" "),e("img",{attrs:{src:a(314),alt:""}}),t._v("\n采用双通道网络(Two Pathway Generator) : 一个是 local pathway,另一个是 global pathway.")])])]),t._v(" "),e("h2",{attrs:{id:"_4-4-图片超分辨率重建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-图片超分辨率重建"}},[t._v("#")]),t._v(" 4.4 图片超分辨率重建")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://arxiv.org/abs/1609.04802",target:"_blank",rel:"noopener noreferrer"}},[t._v("paper: Photo-Realistic Single Image Super-Resolution Using a Generative Adversarial Network, 2016"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("img",{attrs:{src:a(315),alt:""}})]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/youyuge34/PI-REC",target:"_blank",rel:"noopener noreferrer"}},[t._v(" PI-REC: Progressive Image Reconstruction Network With Edge and Color Domain"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("老照片着色 DeOldify\n"),e("img",{attrs:{src:a(316),alt:""}})]),t._v(" "),e("ul",[e("li",[t._v("Image Completion 图片补全\n"),e("img",{attrs:{src:a(317),alt:""}}),t._v(" "),e("a",{attrs:{href:"http://bamos.github.io/2016/08/09/deep-completion/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Image Completion with Deep Learning in TensorFlow, 2016"),e("OutboundLink")],1),t._v("\n代码见 "),e("a",{attrs:{href:"https://github.com/bamos/dcgan-completion.tensorflow",target:"_blank",rel:"noopener noreferrer"}},[t._v("github "),e("OutboundLink")],1),t._v("\nDCGAN 的应用\n"),e("img",{attrs:{src:a(318),alt:""}})]),t._v(" "),e("li",[t._v("去水印（inpaint）\n"),e("a",{attrs:{href:"https://arxiv.org/abs/1607.07539",target:"_blank",rel:"noopener noreferrer"}},[t._v("Semantic Image Inpainting with Deep Generative Models, 2016"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("3D 重建")]),t._v(" "),e("table",[e("tr",[e("td",[e("center",[e("img",{attrs:{src:"img-gan/wakeup.gif"}})])],1),t._v(" "),e("td",[e("center",[e("img",{attrs:{src:"img-gan/wakeup-wxr.gif"}})])],1),t._v(" "),e("td",[e("center",[e("img",{attrs:{src:"img-gan/wakeup-sketch.gif"}})])],1)])]),t._v(" "),e("p",[e("a",{attrs:{href:"http://3dgan.csail.mit.edu/",target:"_blank",rel:"noopener noreferrer"}},[t._v("3D-GAN: Learning a Probabilistic Latent Space of Object Shapes\nvia 3D Generative-Adversarial Modeling"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("img",{attrs:{src:a(319),alt:""}})]),t._v(" "),e("p",[e("a",{attrs:{href:""}},[t._v("Visual Object Networks: Image Generation with Disentangled 3D Representation")]),t._v("\n视觉对象网络（Visual Object Networks，VON）")]),t._v(" "),e("p",[e("img",{attrs:{src:a(320),alt:""}})]),t._v(" "),e("p",[t._v("视频下一帧预测")]),t._v(" "),e("p",[e("img",{attrs:{src:a(321),alt:""}})]),t._v(" "),e("p",[t._v("无监督表示学习\n"),e("a",{attrs:{href:"https://arxiv.org/abs/1511.06434",target:"_blank",rel:"noopener noreferrer"}},[t._v("unsupervised representation learning with deep convolutional generative adversarial networks, ICLR 2016"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("img",{attrs:{src:a(322),alt:""}})]),t._v(" "),e("h2",{attrs:{id:"nlp-领域"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nlp-领域"}},[t._v("#")]),t._v(" NLP 领域")]),t._v(" "),e("p",[t._v("直接把 GAN 应用到 NLP 领域（主要是生成序列），有如下问题：")]),t._v(" "),e("ol",[e("li",[t._v("图像是连续的，而文本是离散的，")]),t._v(" "),e("li",[t._v("对于序列生成问题，每生成一个单词，我们就需要判断这个序列是否合理，可是 GAN 里面的判别器是没法做到的。除非我们针对每一个 step 都设置一个判别器，这显然不合理。")])]),t._v(" "),e("p",[t._v("因此，一般都会引入强化学习中的策略梯度下降（Policy gredient descent）")]),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:""}},[t._v("Generating Text via Adversarial Training")])])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:""}},[t._v("SeqGAN: Sequence Generative Adversarial Nets with Policy Gradient")])])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:""}},[t._v("MaskGAN: Better Text Generation via Filling in the __")]),t._v("\n三位作者有两位算是大名鼎鼎：William Fedus、Ian Goodfellow、Andrew M. Dai\n引入了 actor-critic 架构")])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://arxiv.org/abs/1905.09922",target:"_blank",rel:"noopener noreferrer"}},[t._v("Training language GANs from Scratch, 2019"),e("OutboundLink")],1)])])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"200px"},attrs:{src:"img-gan/2019-05-14-22-51-29.png"}})])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.zhihu.com/question/60902505/answer/181516454",target:"_blank",rel:"noopener noreferrer"}},[t._v("Adversarial Generation of Natural Language 论文背后的论战"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("SentiGAN (Wang and Wan, IJCAI 2018)")]),t._v(" "),e("p",[t._v("AAAI2017-SeqGan")]),t._v(" "),e("p",[t._v("NIPS2017-RankGAN")]),t._v(" "),e("h2",{attrs:{id:"信息检索-搜索推荐领域"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#信息检索-搜索推荐领域"}},[t._v("#")]),t._v(" 信息检索/搜索推荐领域")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://arxiv.org/abs/1705.10513v1",target:"_blank",rel:"noopener noreferrer"}},[t._v("IRGAN: A Minimax Game for Unifying Generative and Discriminative Information Retrieval models"),e("OutboundLink")],1),t._v("\n以生成式检索模型作为生成器，输入 query，我们选取相关的 document，构成数据对，作为生成数据。\n以判别式检索模型作为判别器，用一个打分 score 来表示判别器的判别能力，判别器越能区分生成数据和真实数据（即输入生成数据时输出 0，输入真实数据时输出 1），则判别能力越强。\n根据生成器生成的固定数据和真实数据，训练判别器。然后固定判别器，训练生成器使得判别器的判别能力最小化（即输入生成数据时也输出 1）。这样完成一次博弈，迭代多次博弈不断训练。\n因为 IRGAN 生成的数据是离散的（需要对 documents 进行采样），所以需要使用"),e("strong",[t._v("基于策略梯度的强化学习来训练生成器")]),t._v("。")])]),t._v(" "),e("h2",{attrs:{id:"_4-5-和深度强化学习的结合"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-和深度强化学习的结合"}},[t._v("#")]),t._v(" 4.5 和深度强化学习的结合")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("生成对抗模仿学习（"),e("strong",[t._v("GAIL")]),t._v(", Generative Adversarial Imitation Learning）\n"),e("a",{attrs:{href:""}},[t._v("Generative Adversarial imitation learning, NIPS, 2016")])])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/61761901",target:"_blank",rel:"noopener noreferrer"}},[t._v("LearningToPaint"),e("OutboundLink")],1),t._v("\n让 AI 学会先画出大致轮廓，再填充细节\n"),e("img",{attrs:{src:a(323),alt:""}})])])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("iframe",{attrs:{height:"498",width:"510",src:"/Users/zhangxisheng/Documents/personal/grocery-store-of-lancezhange/docs/section6/img-gan/zyt.mp4",frameborder:"0",allowfullscreen:""}}),t._v(" "),e("figcaption",[t._v("依婷")])]),t._v(" "),e("p",[t._v("困难点：每一个笔画的动作空间很大，AI 要决策一个笔画的位置，形状，颜色，透明度，而每项参数都有非常多选择。如果我们强行将动作离散化，会损失控制的精度，同时还会面临组合爆炸的问题（每项参数选择数乘法原理）\n"),e("strong",[e("em",[t._v("深度确定策略梯度 (DDPG) 算法")])]),t._v("。\n简单来说，DDPG 运用了演员-评论家（Actor - Critic) 框架，是一种是策略梯度算法和值函数方法的混合算法，其中策略网络被称为 Actor，而价值网络被称为 Critic。在画画这个任务中，Actor 每次画一个笔画，而 Critic 来为 Actor 的这个笔画做一个评价，Actor 的目标是得到更好的评价，Critic 的目标是评价得更准确。DDPG 的优点是能够在连续的动作空间上作决策，也就是说，我们可以设计一个 k 维向量 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mo",[t._v("(")]),e("msub",[e("mi",[t._v("x")]),e("mn",[t._v("1")])],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("x")]),e("mn",[t._v("2")])],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("x")]),e("mi",[t._v("k")])],1),e("mo",[t._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(x_1, x_2, ..., x_k)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("1")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("2")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathrm"},[t._v(".")]),e("span",{staticClass:"mord mathrm"},[t._v(".")]),e("span",{staticClass:"mord mathrm"},[t._v(".")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(" ，其中每一维在 0 到 1 之间，来控制笔画的不同属性，比如 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mo",[t._v("(")]),e("msub",[e("mi",[t._v("x")]),e("mn",[t._v("1")])],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("x")]),e("mn",[t._v("2")])],1),e("mo",[t._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(x_1, x_2)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("1")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("2")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(" 控制笔画起点坐标， "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mo",[t._v("(")]),e("msub",[e("mi",[t._v("x")]),e("mn",[t._v("3")])],1),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("msub",[e("mi",[t._v("x")]),e("mn",[t._v("4")])],1),e("mo",[t._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(x_3, x_4)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("3")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("4")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(" 控制笔画终点坐标等。而且 DDPG 还能离线训练，即 AI 对环境的探索信息可以存储在一个缓冲区中，训练从其中采样，一个信息可以重复使用\nWGAN Loss 是一种比欧几里得距离更好的度量，使得最后画出来的图细节更丰富。\nActor 和 Critic 是输入缩小版本的 ResNet-18。Batch Normalization (BN) 可以加快 Actor 训练，而在 Critic 上效果不明显。Critic 使用带 TReLu 激活函数的 Weight Normalization (WN with TReLu)。渲染器用 Sub-pixel 来代替反卷积显著消除棋盘效应。GAN 的判别器网络用了类似 PatchGAN 的结构，加上 WN with TReLu。")]),t._v(" "),e("p",[t._v("还可以设计不同形状的笔画来得到十分有趣的结果，比如限制 AI 只能画圆，或者只能画三角形等\n类似还有 StrokeNet，Sketch-RNN 系列\n"),e("img",{attrs:{src:a(324),alt:""}}),t._v("\nQBC [^8]\n[^8]: Quadratic Bezier Curve: 贝塞尔曲线")]),t._v(" "),e("h2",{attrs:{id:"_4-4-依葫芦画瓢：模仿学习"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-依葫芦画瓢：模仿学习"}},[t._v("#")]),t._v(" 4.4 依葫芦画瓢：模仿学习")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://arxiv.org/abs/1606.03476",target:"_blank",rel:"noopener noreferrer"}},[t._v("Generative Adversarial Imitation Learning"),e("OutboundLink")],1)]),t._v(" "),e("aside",{staticClass:"caution"},[t._v("\nGAN 在 去除马赛克、去雾、图片隐写等其他领域也有非常多的应用，更多关于 GAN 的应用，参见\n"),e("a",{attrs:{href:"https://github.com/nashory/gans-awesome-applications",target:"目标",title:"说明"}},[e("strong",[t._v("github")])])]),t._v(" "),e("h1",{attrs:{id:"第五部分-机器学习模型对抗攻击专题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第五部分-机器学习模型对抗攻击专题"}},[t._v("#")]),t._v(" 第五部分 机器学习模型对抗攻击专题")]),t._v(" "),e("p",[t._v("聪明汉斯的故事\n"),e("img",{attrs:{src:a(325),alt:""}})]),t._v(" "),e("p",[t._v("汉斯并不是根据主人的问题来决定要敲多少下蹄子，而是通过观察提问者和现场观众的细微线索，比如身体姿势，面部表情等，来决定什么时候停止敲蹄子。汉斯没有学会如何做数学运算，它只是善于观察！")]),t._v(" "),e("p",[t._v("对抗样本指的是一个经过微小调整就可以让机器学习算法输出错误结果的输入样本。在图像识别中，可以理解为原来被一个卷积神经网络（CNN）分类为一个类（比如“熊猫”）的图片，经过非常细微甚至人眼无法察觉的改动后，突然被误分成另一个类（比如“长臂猿”）")]),t._v(" "),e("p",[t._v("对抗样本和 AI 安全(AI safety)紧密相关。")]),t._v(" "),e("ol",[e("li",[t._v("非定向对抗攻击赛：轻微修改原图像，使得未知分类器将修改后的图像错误分类\n"),e("img",{attrs:{src:a(326),alt:""}})]),t._v(" "),e("li",[t._v("定向对抗攻击赛： 轻微修改原图像，使得未知分类器将修改后的图像错误分类到指定的类")]),t._v(" "),e("li",[t._v("对抗防御： 生成基于机器学习的分类器，对对抗样本有强的防御力，也即能够正确地把对抗样本进行分类")])]),t._v(" "),e("h2",{attrs:{id:"ai-隐身术"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ai-隐身术"}},[t._v("#")]),t._v(" AI 隐身术")]),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://arxiv.org/abs/1904.08653",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fooling automated surveillance cameras: adversarial patches to attack person detection"),e("OutboundLink")],1),t._v("\n停车指示牌等，不像人一样具有较大的类中差异(intra-class variety)。因此，对人这一类别的识别攻击更具难度。\n"),e("img",{attrs:{src:a(327),alt:""}}),t._v("\n本文针对的是 YOLOv2, the YOLOv2 object detector outputs a grid of cells each containing a series of anchor points (five by default). Each anchor point contains the position of the bounding box, an object probability and a class score")]),t._v(" "),e("p",[t._v("甚至考虑到了生成 patch 的颜色是否可以打印")]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("L")]),e("mrow",[e("mi",[t._v("n")]),e("mi",[t._v("p")]),e("mi",[t._v("s")])],1)],1),e("mo",[t._v("=")]),e("msub",[e("mo",[t._v("∑")]),e("mrow",[e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[t._v("p")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("a")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("t")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("c")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("h")])],1)],1)],1),e("mo",[t._v("∈")]),e("mi",[t._v("p")])],1)],1),e("msub",[e("mi",[t._v("min")]),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[t._v("p")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("r")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("i")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("t")])],1)],1)],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("∣")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[t._v("p")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("a")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("t")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("c")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("h")])],1)],1)],1),e("mo",[t._v("−")]),e("msub",[e("mi",[t._v("c")]),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[t._v("p")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("r")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("i")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("t")])],1)],1)],1),e("mo",{attrs:{fence:"true"}},[t._v("∣")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L _ { n p s } = \\sum _ { p _ { \\mathrm { patch } } \\in p } \\min _ { \\mathrm { print } } \\left| p _ {  \\mathrm { patch } } - c _ { \\mathrm { print } } \\right|\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.050005em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.5030900000000003em","vertical-align":"-1.453085em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("L")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("n")]),e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mord mathit"},[t._v("s")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.150005em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15122857142857138em","margin-right":"0.07142857142857144em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("p")]),e("span",{staticClass:"mord mathrm"},[t._v("a")]),e("span",{staticClass:"mord mathrm"},[t._v("t")]),e("span",{staticClass:"mord mathrm"},[t._v("c")]),e("span",{staticClass:"mord mathrm"},[t._v("h")])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mrel"},[t._v("∈")]),e("span",{staticClass:"mord mathit"},[t._v("p")])])])]),e("span",{staticStyle:{top:"-0.000005000000000032756em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[t._v("∑")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.633502em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("p")]),e("span",{staticClass:"mord mathrm"},[t._v("r")]),e("span",{staticClass:"mord mathrm"},[t._v("i")]),e("span",{staticClass:"mord mathrm"},[t._v("n")]),e("span",{staticClass:"mord mathrm"},[t._v("t")])])])])]),e("span",{staticStyle:{top:"2.7755575615628914e-17em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"mop"},[t._v("min")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("p")]),e("span",{staticClass:"mord mathrm"},[t._v("a")]),e("span",{staticClass:"mord mathrm"},[t._v("t")]),e("span",{staticClass:"mord mathrm"},[t._v("c")]),e("span",{staticClass:"mord mathrm"},[t._v("h")])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("c")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("p")]),e("span",{staticClass:"mord mathrm"},[t._v("r")]),e("span",{staticClass:"mord mathrm"},[t._v("i")]),e("span",{staticClass:"mord mathrm"},[t._v("n")]),e("span",{staticClass:"mord mathrm"},[t._v("t")])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("∣")])])])])])])]),t._v(" "),e("p",[t._v("色彩变化流畅顺滑")]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("L")]),e("mrow",[e("mi",[t._v("t")]),e("mi",[t._v("v")])],1)],1),e("mo",[t._v("=")]),e("msub",[e("mo",[t._v("∑")]),e("mrow",[e("mi",[t._v("i")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("j")])],1)],1),e("msqrt",[e("mrow",[e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msup",[e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("i")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("j")])],1)],1),e("mo",[t._v("−")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("i")]),e("mo",[t._v("+")]),e("mn",[t._v("1")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("j")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mrow",[e("mn",[t._v("2")])],1)],1),e("mo",[t._v("+")]),e("msup",[e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("i")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("j")])],1)],1),e("mo",[t._v("−")]),e("msub",[e("mi",[t._v("p")]),e("mrow",[e("mi",[t._v("i")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("j")]),e("mo",[t._v("+")]),e("mn",[t._v("1")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1),e("mrow",[e("mn",[t._v("2")])],1)],1)],1)],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L _ { t v } = \\sum _ { i , j } \\sqrt { \\left( \\left( p _ { i , j } - p _ { i + 1 , j } \\right) ^ { 2 } + \\left( p _ { i , j } - p _ { i , j + 1 } \\right) ^ { 2 } \\right. }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.2838800000000004em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.6976570000000004em","vertical-align":"-1.413777em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("L")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("t")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.177669em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])])]),e("span",{staticStyle:{top:"-0.000005000000000032756em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[t._v("∑")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sqrt mord"},[e("span",{staticClass:"sqrt-sign",staticStyle:{top:"-0.09388000000000019em"}},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped"},[e("span",{staticClass:"delimsizing size2"},[t._v("√")])])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle cramped"},[e("span",{staticClass:"minner displaystyle textstyle cramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size1"},[t._v("(")])]),e("span",{staticClass:"minner"},[e("span",{staticClass:"minner displaystyle textstyle cramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord mathrm"},[t._v("1")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.364em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"minner"},[e("span",{staticClass:"minner displaystyle textstyle cramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mbin"},[t._v("−")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("i")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.364em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])]),e("span",{staticStyle:{top:"-1.2038800000000003em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped sqrt-line"})]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),e("p",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[t._v("L")]),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[t._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("b")]),e("mi",{attrs:{mathvariant:"normal"}},[t._v("j")])],1)],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L _ { \\mathrm { obj } }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.969438em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("L")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[t._v("o")]),e("span",{staticClass:"mord mathrm"},[t._v("b")]),e("span",{staticClass:"mord mathrm"},[t._v("j")])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" : The maximum objectness score in the image\n总的损失函数：")]),t._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("L")]),e("mo",[t._v("=")]),e("mi",[t._v("α")]),e("msub",[e("mi",[t._v("L")]),e("mrow",[e("mi",[t._v("n")]),e("mi",[t._v("p")]),e("mi",[t._v("s")])],1)],1),e("mo",[t._v("+")]),e("mi",[t._v("β")]),e("msub",[e("mi",[t._v("L")]),e("mrow",[e("mi",[t._v("t")]),e("mi",[t._v("v")])],1)],1),e("mo",[t._v("+")]),e("msub",[e("mi",[t._v("L")]),e("mrow",[e("mi",[t._v("o")]),e("mi",[t._v("b")]),e("mi",[t._v("j")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L = \\alpha L _ { n p s } + \\beta L _ { t v } + L _ { o b j }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.980548em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("L")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("L")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("n")]),e("span",{staticClass:"mord mathit"},[t._v("p")]),e("span",{staticClass:"mord mathit"},[t._v("s")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("L")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("t")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("L")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[t._v("o")]),e("span",{staticClass:"mord mathit"},[t._v("b")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:""}},[t._v("Delving into Transferable Adversarial Examples and Black-box Attacks")]),t._v("\n对抗样本可转移性与黑盒攻击深入研究")])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://arxiv.org/abs/1904.11042",target:"_blank",rel:"noopener noreferrer"}},[t._v("paper: Physical Adversarial Textures that Fool Visual Object Tracking , 2019"),e("OutboundLink")],1),t._v("\n作者来自滑铁卢大学和 Element AI [^2]\n没细看这篇\n[^2]:2016 年 10 月，Yoshua Bengio 等人在加拿大蒙特利尔创办，被称为加拿大版 YC")])])]),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"http://gradientscience.org/adv/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Adversarial Examples Are Not Bugs, They Are Feature"),e("OutboundLink")],1)]),t._v(" "),e("blockquote",[e("p",[t._v("dversarial vulnerability is a direct result of our models’ sensitivity to well-generalizing features in the data")])]),t._v(" "),e("p",[t._v("对抗攻击易受性不是方法的问题，而是数据的问题！对抗扰动真的和它们看上去的那样无意义吗？\n把图片中的特征分成两类：“稳健特征”(Robust Features)，指即使做了像素层面的修改也不会影响识别结果的特征（如耳朵、胡须），和 “非稳健特征”(Non-robust Features)，即会被像素修改而影响的特征（通常无法被人类识别）")])])]),t._v(" "),e("h2",{attrs:{id:"黑盒攻击"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#黑盒攻击"}},[t._v("#")]),t._v(" 黑盒攻击")]),t._v(" "),e("p",[t._v("真实世界的案例：生成 "),e("a",{attrs:{href:"https://clarifai.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Clarifai.com"),e("OutboundLink")],1),t._v(" 的对抗样本\n这个网址目前提供最先进的分类服务，其使用的模型、训练集和类标都是不可知的，所以这是一个黑盒攻击")]),t._v(" "),e("h2",{attrs:{id:"可迁移攻击"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#可迁移攻击"}},[t._v("#")]),t._v(" 可迁移攻击")]),t._v(" "),e("p",[t._v("adversarial transferability: the phenomenon that adversarial perturbations computed for one model often transfer to other, independently trained models.")]),t._v(" "),e("p",[t._v("通用扰动（universal perturbations）的存在")]),t._v(" "),e("h2",{attrs:{id:"textual-adversarial-attack-and-defense"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#textual-adversarial-attack-and-defense"}},[t._v("#")]),t._v(" Textual Adversarial Attack and Defense")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/thunlp/TAADpapers",target:"_blank",rel:"noopener noreferrer"}},[t._v("Must-read Papers on Textual Adversarial Attack and Defense"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"生成方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生成方法"}},[t._v("#")]),t._v(" 生成方法")]),t._v(" "),e("h3",{attrs:{id:"fast-gradient-sign-method（fgsm）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fast-gradient-sign-method（fgsm）"}},[t._v("#")]),t._v(" Fast Gradient Sign Method（FGSM）")]),t._v(" "),e("p",[t._v("这个算法在 Good Fellow 的论文 EXPLAINING AND HARNESSING ADVERSARIAL EXAMPLES 中提出")]),t._v(" "),e("h3",{attrs:{id:"eot-方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eot-方法"}},[t._v("#")]),t._v(" EOT 方法")]),t._v(" "),e("p",[t._v("Expectation Over Transformation")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.arxiv-vanity.com/papers/1905.03421/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Adversarial Image Translation: Unrestricted Adversarial Examples in Face Recognition Systems"),e("OutboundLink")],1),t._v("\n扰动不局限于微小的扰动（不再限制人眼看去无差别，而是限制人眼能正确区分）")])]),t._v(" "),e("h2",{attrs:{id:"比赛"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#比赛"}},[t._v("#")]),t._v(" 比赛")]),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://en.caad.geekpwn.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("对抗样本攻防赛 CAAD2018 (Competition on Adversarial Attacks and Defenses 2018)"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("冠军做到了使亚马逊 celebrity recognition 将 蒋昌建 人像照片识别为 阿诺德·施瓦辛格!")])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"http://2019.geekpwn.org/zh/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("CAAD 2019"),e("OutboundLink")],1),t._v("\n新增一个 语音对抗样本挑战赛，挑战目标是任何公开的语音转文字服务或产品，选手对比赛提供的正常声音文件（可能是人说话，鸟叫，火车汽笛等各种声音）做很小的修改，最终这些文件可以转成服务、产品识别成组委指定的文字内容，或者进行其他合理的对服务、产品的误导等。\n正式比赛将在 2019 年 10 月在上海。")])])]),t._v(" "),e("h1",{attrs:{id:"第六部分-附录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第六部分-附录"}},[t._v("#")]),t._v(" 第六部分 附录")]),t._v(" "),e("h2",{attrs:{id:"_6-1-深度学习知识点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-深度学习知识点"}},[t._v("#")]),t._v(" 6.1 深度学习知识点")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("Batch Norm\n批标准化")])]),t._v(" "),e("li",[e("p",[t._v("Virtual Batch Normalization (VBN)")])]),t._v(" "),e("li",[e("p",[t._v("Normalizing Flow\na powerful statistics tool for density estimation\n"),e("a",{attrs:{href:"https://blog.evjang.com/2018/01/nf1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("标准化流(Normalizing Flow)教程（一） by Eric jang"),e("OutboundLink")],1),t._v(" "),e("img",{attrs:{src:a(328),alt:""}})])]),t._v(" "),e("li",[e("p",[t._v("Invertible 1x1 conv")])]),t._v(" "),e("li",[e("p",[t._v("常用激活函数")]),t._v(" "),e("ol",[e("li",[t._v("Sigmoid")]),t._v(" "),e("li",[t._v("Relu"),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("r")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",[t._v("=")]),e("msup",[e("mi",[t._v("x")]),e("mrow",[e("mo",[t._v("+")])],1)],1),e("mo",[t._v("=")]),e("mi",[t._v("max")]),e("mo",[t._v("{")]),e("mn",[t._v("0")]),e("mo",{attrs:{separator:"true"}},[t._v(",")]),e("mi",[t._v("x")]),e("mo",[t._v("}")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("r ( x ) = x ^ { + } = \\max \\{ 0 , x \\}\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.821331em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.071331em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.41300000000000003em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord"},[t._v("+")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop"},[t._v("max")]),e("span",{staticClass:"mopen"},[t._v("{")]),e("span",{staticClass:"mord mathrm"},[t._v("0")]),e("span",{staticClass:"mpunct"},[t._v(",")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v("}")])])])])])])]),t._v(" "),e("li",[t._v("Softplus(平滑版的 Relu)"),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[t._v("ζ")]),e("mo",[t._v("(")]),e("mi",[t._v("x")]),e("mo",[t._v(")")]),e("mo",[t._v("=")]),e("mi",[t._v("log")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[t._v("(")]),e("mn",[t._v("1")]),e("mo",[t._v("+")]),e("msup",[e("mi",[t._v("e")]),e("mrow",[e("mi",[t._v("x")])],1)],1),e("mo",{attrs:{fence:"true"}},[t._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\zeta ( x ) = \\log \\left( 1 + e ^ { x } \\right)\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07378em"}},[t._v("ζ")]),e("span",{staticClass:"mopen"},[t._v("(")]),e("span",{staticClass:"mord mathit"},[t._v("x")]),e("span",{staticClass:"mclose"},[t._v(")")]),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mop"},[t._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[t._v("g")])]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),e("span",{staticClass:"mord mathrm"},[t._v("1")]),e("span",{staticClass:"mbin"},[t._v("+")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[t._v("e")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit"},[t._v("x")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])])])])])])])])])]),t._v(" "),e("li",[e("p",[t._v("卷积和反卷积\n"),e("img",{attrs:{src:a(329),alt:""}}),t._v(" "),e("img",{attrs:{src:a(330),alt:""}})])]),t._v(" "),e("li")]),t._v(" "),e("h2",{attrs:{id:"_6-2-关于生成模型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-关于生成模型"}},[t._v("#")]),t._v(" 6.2 关于生成模型")]),t._v(" "),e("p",[t._v("生成模型显然不是只有 GAN，除此之外还有")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("Variational autoencoders\nVAE inexplicitly optimizes the log-likelihood of the data by maximizing the evidence lower bound (ELBO).\n"),e("img",{attrs:{src:a(331),alt:""}})])]),t._v(" "),e("li",[e("p",[t._v("Flow-based generative models\nA flow-based generative model is constructed by a sequence of invertible transformations. Unlike other two, the model explicitly learns the data distribution p(x) and therefore the loss function is simply the negative log-likelihood\nOpenAI 的 "),e("a",{attrs:{href:""}},[t._v("Generative Flow with Invertible 1×1 Convolutions")]),t._v(" "),e("img",{attrs:{src:a(332),alt:""}})]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('  <div align="center">\n      <figure align=\'center\'>\n          <img src="img-gan/2019-05-14-16-43-57.png" style="width:500px" />\n          <figcaption>渐变</figcaption>\n      </figure>\n  </div>\n')])])])])]),t._v(" "),e("p",[e("img",{attrs:{src:a(333),alt:""}})]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("自回归模型（Auto-regressive")]),t._v(" "),e("li",[t._v("VAE-GAN")])]),t._v(" "),e("h2",{attrs:{id:"_6-3-一些必要的数学基础知识回顾"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-一些必要的数学基础知识回顾"}},[t._v("#")]),t._v(" 6.3 一些必要的数学基础知识回顾")]),t._v(" "),e("ol",[e("li",[t._v("方阵行列式为 0 则为奇异阵，不可逆")]),t._v(" "),e("li",[t._v("\\operatorname { det } ( A B ) = \\operatorname { det } ( A ) \\operatorname { det } ( B )")]),t._v(" "),e("li",[t._v("Change of Variable Theorem")]),t._v(" "),e("li")]),t._v(" "),e("h2",{attrs:{id:"_6-4-一些数据集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-一些数据集"}},[t._v("#")]),t._v(" 6.4 一些数据集")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/PokeAPI/sprites",target:"_blank",rel:"noopener noreferrer"}},[t._v("sprites 精灵"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:""}},[t._v("celebA")]),t._v("\n香港中文大学的开放数据，包含 10177 个名人身份的 202599 张图片，并且都做好了特征标记，对人脸相关的训练是非常好用的数据集")]),t._v(" "),e("li",[e("a",{attrs:{href:""}},[t._v("Inria")])])]),t._v(" "),e("h2",{attrs:{id:"_6-5-tensorflow-知识点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-tensorflow-知识点"}},[t._v("#")]),t._v(" 6.5 tensorflow 知识点")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("name_scope")])]),t._v(" "),e("li",[e("p",[t._v("variable_scope")])]),t._v(" "),e("li",[e("p",[t._v("get_variable() 除了 tf.Variable() 之外的变量创建方法。搜索变量名，没有就新建，有就直接用，并且不受 name_scope 的影响，而且在未指定 "),e("strong",[t._v("共享变量")]),t._v(" 时，如果重名会报错，tf.Variable()会自动检测有没有变量重名，如果有则自动引入别名机制处理。\n需要注意的是：创建一个新的 variable_scope 时不需要把 reuse 属性设置未 False，只需要在使用的时候设置为 True 就可以了;")]),t._v(" "),e("p",[t._v("name_scope 只能管住操作 Ops 的名字，而管不住变量 Variables 的名字")])]),t._v(" "),e("li",[e("p",[t._v("trainable_variables()")])]),t._v(" "),e("li",[e("p",[t._v("初始化")]),t._v(" "),e("ul",[e("li",[t._v("tf.random_normal_initializer(stddev=0.5)")]),t._v(" "),e("li",[t._v("tf.constant_initializer(0.0)")]),t._v(" "),e("li",[t._v("tf.global_variables_initializer().run()")]),t._v(" "),e("li",[t._v("tf.local_variables_initializer().run()")]),t._v(" "),e("li")])]),t._v(" "),e("li",[e("p",[t._v("优化器")]),t._v(" "),e("ul",[e("li",[t._v("tf.train.AdamOptimizer")]),t._v(" "),e("li")])])]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://arxiv.org/abs/1701.00160",target:"_blank",rel:"noopener noreferrer"}},[t._v("NIPS 2016 Tutorial: Generative Adversarial Networks, Ian Goodfellow"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.infoq.cn/article/how-to-use-tfgan-to-generate-adversarial-nets",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何应用 TFGAN 快速实践生成对抗网络？"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://www.lancezhange.com/2015/11/19/adversarial-samples/",target:"_blank",rel:"noopener noreferrer"}},[t._v("对抗样本和对抗网络"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.mtyun.com/doc/products/ai/dls/tensorflow-gan",target:"_blank",rel:"noopener noreferrer"}},[t._v("美团云-TensorFlow 生成对抗网络实战案例"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.arxiv-vanity.com/papers/1904.08994/",target:"_blank",rel:"noopener noreferrer"}},[t._v("From GAN to WGAN"),e("OutboundLink")],1),t._v("\n详细揭示从 GAN 到 WGAN 的数学逻辑")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/25071913",target:"_blank",rel:"noopener noreferrer"}},[t._v("令人拍案叫绝的 Wasserstein GAN"),e("OutboundLink")],1),t._v("\nby 商汤科技-郑华滨，解读深入浅出，强推！")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://vincentherrmann.github.io/blog/wasserstein/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Wasserstein GAN and the Kantorovich-Rubinstein Duality"),e("OutboundLink")],1),t._v("\n详解 KR 对偶")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.alexirpan.com/2017/02/22/wasserstein-gan.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Read-through: Wasserstein GAN"),e("OutboundLink")],1),t._v("\nWGAN 论文导读")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://lilianweng.github.io/lil-log/2017/08/20/from-GAN-to-WGAN.html#improved-gan-training",target:"_blank",rel:"noopener noreferrer"}},[t._v("From GAN to WGAN, 2017"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://www.cs.ucf.edu/~gqi/GANs.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("An Incomplete Map of the GAN models"),e("OutboundLink")],1),t._v("\n更宏观地对 GAN 进行分类")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://weibo.com/ttarticle/p/show?id=2309404176849692455630",target:"_blank",rel:"noopener noreferrer"}},[t._v("十种主流 GANs，我该如何选择？"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://blog.csdn.net/nemoyy/article/details/81052301",target:"_blank",rel:"noopener noreferrer"}},[t._v("对抗样本：知其然，知其所以然"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.arxiv-vanity.com/papers/1801.00553/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Threat of Adversarial Attacks on Deep Learning in Computer Vision: A Survey"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/yenchenlin/awesome-adversarial-machine-learning",target:"_blank",rel:"noopener noreferrer"}},[t._v("Awesome Adversarial Machine Learning"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.leiphone.com/news/201701/Kq6FvnjgbKK8Lh8N.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("深度学习新星：GAN 的基本原理、应用和走向"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.bilibili.com/video/av52414025",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ian Goodfellow ICLR 2019 talk"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://arxiv.org/abs/1807.04720",target:"_blank",rel:"noopener noreferrer"}},[t._v("The GAN Landscape: Losses, Architectures, Regularization, and Normalization"),e("OutboundLink")],1),t._v(" todo: read")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://arxiv.org/abs/1711.10337",target:"_blank",rel:"noopener noreferrer"}},[t._v("Are GANs Created Equal? A Large-Scale Study"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=i.exports}}]);