(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{274:function(t,a,s){t.exports=s.p+"assets/img/2019-12-24-11-28-33.d71149e1.png"},522:function(t,a,s){"use strict";s.r(a);var n=s(17),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"特征工程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#特征工程"}},[t._v("#")]),t._v(" 特征工程")]),t._v(" "),n("p",[t._v("在深度学习喧嚣的背景之下，经常能够听到对特征工程的批评，“问题相关，需要领域知识”。但是，至少就目前为止，很多业务场景下，特征工程仍然是能够获得较高收益的做法，因此，特征工程在机器学习中仍然有重要的地位。")]),t._v(" "),n("blockquote",[n("p",[t._v("数据和特征决定了上限，模型和算法只是在逼近这个上限")])]),t._v(" "),n("div",{attrs:{align:"center"}},[n("figure",{attrs:{align:"center"}},[n("img",{staticStyle:{width:"500px"},attrs:{src:"img-feature_enginerring/2019-05-27-20-56-32.png"}}),t._v(" "),n("figcaption",[t._v("毕加索 公牛")])])]),t._v(" "),n("h3",{attrs:{id:"特征选择"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#特征选择"}},[t._v("#")]),t._v(" 特征选择")]),t._v(" "),n("hr"),t._v(" "),n("ul",[n("li",[n("p",[t._v("BOW(bag of words)\n通常被翻译为词袋法，但其实它是一个通用的特征生成方法，并不局限在自然语言处理中。例如，图像识别")])]),t._v(" "),n("li",[n("p",[t._v("TF_IDF")])]),t._v(" "),n("li",[n("p",[t._v("WOE（Weight of Evidence）")])])]),t._v(" "),n("p",[t._v("分子： 该分组中正样本占所有正样本的比例\n分母： 该分组中负样本占所有负样本的比例\nwoe = 对数（分子除以分母）")]),t._v(" "),n("p",[t._v("woe 越大，该分组中存在正样本的可能性越大。实际上也等价于衡量的是： 当前分组中正负样本的比例和整体上正负样本比例之间的差异性。")]),t._v(" "),n("p",[t._v("但是，WOE 只考虑了两个比例的大小关系，没有考虑到该分组中的样本个数！")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" xverse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transformer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" WOE\nclf "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" WOE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nclf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nclf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("woe_df\n")])])]),n("p",[n("img",{attrs:{src:s(274),alt:""}})]),t._v(" "),n("ul",[n("li",[t._v("IV 值（Information Value）")])]),t._v(" "),n("p",[t._v("IV 值考虑了分组中样本占整体样本的比例，相当于 WOE 的加权求和。\n权重为 分子-分母。")]),t._v(" "),n("p",[t._v("这样，IV 值都是正的。")]),t._v(" "),n("p",[t._v("全部分段的 IV 值加起来，也可以作为整个特征的评价指标。")]),t._v(" "),n("ul",[n("li",[t._v("Voting Selector")])]),t._v(" "),n("p",[t._v("采用多种策略取选取特征，哪些特征被选择的多，哪些特征就重要。")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" xverse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ensemble "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" VotingSelector\nclf "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" VotingSelector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nclf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nclf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("feature_importances_\nclf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("feature_votes_\nclf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transform"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("一般用 IV 值来 指导离散特征分段")]),t._v(" "),n("h3",{attrs:{id:""}},[n("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),n("h3",{attrs:{id:"特征变换"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#特征变换"}},[t._v("#")]),t._v(" 特征变换")]),t._v(" "),n("hr"),t._v(" "),n("ul",[n("li",[t._v("标准化／无量纲化\n"),n("ul",[n("li",[t._v("作用\n"),n("ol",[n("li",[t._v("避免大数属性主导")]),t._v(" "),n("li",[t._v("避免计算中的数值困难（中间结果膨胀等）")])])])])]),t._v(" "),n("li",[t._v("缺失值填充")]),t._v(" "),n("li")]),t._v(" "),n("h4",{attrs:{id:"monotonic-binning"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#monotonic-binning"}},[t._v("#")]),t._v(" Monotonic Binning")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" xverse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transformer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" MonotonicBinning\nclf "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MonotonicBinning"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nclf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bins"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\noutput_bins "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" clf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bins "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#will be used later in this exerciseHere")]),t._v("\n\nclf "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MonotonicBinning"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("custom_binning"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("output_bins"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#output_bins wascreated earlier")]),t._v("\nout_X "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" clf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transform"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nout_X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h4",{attrs:{id:"-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[t._v("#")])])])}),[],!1,null,null,null);a.default=e.exports}}]);