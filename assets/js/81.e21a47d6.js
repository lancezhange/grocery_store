(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{486:function(t,s,a){"use strict";a.r(s);var e=a(17),i=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"数值计算-ignore-true"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数值计算-ignore-true"}},[t._v("#")]),t._v(" 数值计算 {ignore=true}")]),t._v(" "),a("p",[t._v("[TOC]")]),t._v(" "),a("h2",{attrs:{id:"数值计算的稳定性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数值计算的稳定性"}},[t._v("#")]),t._v(" 数值计算的稳定性")]),t._v(" "),a("p",[a("em",[t._v("underflow")]),t._v("\n: 当接近零的数字四舍五入为零时，发生下溢出。")]),t._v(" "),a("p",[a("em",[t._v("overflow")]),t._v("\n: 当数值非常大，超过了计算机的表示范围时，发生上溢出")]),t._v(" "),a("p",[t._v("例如，softmax 函数的溢出")]),t._v("\n\\operatorname { softmax } ( \\overrightarrow { \\mathbf { x } } ) = \\left( \\frac { \\exp \\left( x _ { 1 } \\right) } { \\sum _ { j = 1 } ^ { n } \\exp \\left( x _ { j } \\right) } , \\frac { \\exp \\left( x _ { 2 } \\right) } { \\sum _ { j = 1 } ^ { n } \\exp \\left( x _ { j } \\right) } , \\cdots , \\frac { \\exp \\left( x _ { n } \\right) } { \\sum _ { j = 1 } ^ { n } \\exp \\left( x _ { j } \\right) } \\right) ^ { T }\n\n"),a("p",[t._v("当所有的 "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("msub",[a("mi",[t._v("x")]),a("mi",[t._v("i")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x_i")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit"},[t._v("x")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord mathit"},[t._v("i")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 都等于常数 "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mi",[t._v("c")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("c")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"mord mathit"},[t._v("c")])])])]),t._v(" 时，softmax 函数的每个分量的理论值都为 $\\frac 1 n $")]),t._v(" "),a("ul",[a("li",[t._v("考虑"),a("em",[t._v("c")]),t._v("是一个非常大的负数（比如趋近负无穷），此时 "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mi",[t._v("e")]),a("mi",[t._v("x")]),a("mi",[t._v("p")]),a("mo",[t._v("(")]),a("mi",[t._v("c")]),a("mo",[t._v(")")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("exp(c)")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"mord mathit"},[t._v("e")]),a("span",{staticClass:"mord mathit"},[t._v("x")]),a("span",{staticClass:"mord mathit"},[t._v("p")]),a("span",{staticClass:"mopen"},[t._v("(")]),a("span",{staticClass:"mord mathit"},[t._v("c")]),a("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(" 下溢出。此时分母为零，结果未定义。")]),t._v(" "),a("li",[t._v("考虑 "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mi",[t._v("c")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("c")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"mord mathit"},[t._v("c")])])])]),t._v(" 是一个非常大的正数（比如趋近正无穷），此时 "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mi",[t._v("e")]),a("mi",[t._v("x")]),a("mi",[t._v("p")]),a("mo",[t._v("(")]),a("mi",[t._v("c")]),a("mo",[t._v(")")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("exp(c)")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"mord mathit"},[t._v("e")]),a("span",{staticClass:"mord mathit"},[t._v("x")]),a("span",{staticClass:"mord mathit"},[t._v("p")]),a("span",{staticClass:"mopen"},[t._v("(")]),a("span",{staticClass:"mord mathit"},[t._v("c")]),a("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(" 上溢出。结果未定义。")])]),t._v(" "),a("p",[t._v("为了解决 softmax 函数的数值稳定性问题，可证明，向量 \\overrightarrow x 减去其最大分量，其 softmax 值不变，从而")]),t._v(" "),a("ul",[a("li",[t._v("当 \\overrightarrow x 的分量较小时， 新的分量至少有一个为零，从而导致分母至少有一项为 1，从而解决了下溢出的问题。")]),t._v(" "),a("li",[t._v("当 \\overrightarrow x 的分量较大时， 相当于分子分母同时除以一个非常大的数，从而解决了上溢出。")])]),t._v(" "),a("p",[t._v("$\\log softmax $ 函数的溢出")]),t._v(" "),a("p",[t._v("softmax 名字的来源是 "),a("em",[t._v("hardmax")]),t._v("： 最大元素的位置填充 1，其它位置填充 0，softmax 填充的是 0 到 1 之间的数")]),t._v(" "),a("h3",{attrs:{id:"coditioning"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coditioning"}},[t._v("#")]),t._v(" Coditioning")]),t._v(" "),a("p",[t._v("Conditioning 刻画了一个函数的如下特性：当函数的输入发生了微小的变化时，函数的输出的变化有多大。")]),t._v(" "),a("p",[t._v("对于 Conditioning 较大的函数，在数值计算中可能有问题。因为函数输入的舍入误差可能导致函数输出的较大变化。")]),t._v(" "),a("p",[t._v("方阵的条件数就是最大的特征值除以最小的特征值。")]),t._v(" "),a("p",[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mtext",[a("mtext"),a("mi",{attrs:{mathvariant:"normal"}},[t._v("c")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("o")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("n")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("d")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("i")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("t")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("i")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("o")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("n")]),a("mtext"),a("mi",{attrs:{mathvariant:"normal"}},[t._v("n")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("u")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("m")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("b")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("e")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("r")]),a("mtext")],1),a("mo",[t._v("=")]),a("msub",[a("mi",[t._v("max")]),a("mrow",[a("mn",[t._v("1")]),a("mo",[t._v("≤")]),a("mi",[t._v("i")]),a("mo",{attrs:{separator:"true"}},[t._v(",")]),a("mi",[t._v("j")]),a("mo",[t._v("≤")]),a("mi",[t._v("n")]),a("mo",{attrs:{separator:"true"}},[t._v(",")]),a("mi",[t._v("i")]),a("mo",[t._v("≠")]),a("mi",[t._v("j")])],1)],1),a("mrow",[a("mo",{attrs:{fence:"true"}},[t._v("∣")]),a("mfrac",[a("mrow",[a("msub",[a("mi",[t._v("λ")]),a("mrow",[a("mi",[t._v("i")])],1)],1)],1),a("mrow",[a("msub",[a("mi",[t._v("λ")]),a("mrow",[a("mi",[t._v("j")])],1)],1)],1)],1),a("mo",{attrs:{fence:"true"}},[t._v("∣")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\text { condition number } = \\max _ { 1 \\leq i , j \\leq n , i \\neq j } \\left| \\frac { \\lambda _ { i } } { \\lambda _ { j } } \\right|\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"1.47398em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"2.446088em","vertical-align":"-0.972108em"}}),a("span",{staticClass:"base displaystyle textstyle uncramped"},[a("span",{staticClass:"text mord displaystyle textstyle uncramped"},[a("span",{staticClass:"mord mspace"}),a("span",{staticClass:"mord mathrm"},[t._v("c")]),a("span",{staticClass:"mord mathrm"},[t._v("o")]),a("span",{staticClass:"mord mathrm"},[t._v("n")]),a("span",{staticClass:"mord mathrm"},[t._v("d")]),a("span",{staticClass:"mord mathrm"},[t._v("i")]),a("span",{staticClass:"mord mathrm"},[t._v("t")]),a("span",{staticClass:"mord mathrm"},[t._v("i")]),a("span",{staticClass:"mord mathrm"},[t._v("o")]),a("span",{staticClass:"mord mathrm"},[t._v("n")]),a("span",{staticClass:"mord mspace"}),a("span",{staticClass:"mord mathrm"},[t._v("n")]),a("span",{staticClass:"mord mathrm"},[t._v("u")]),a("span",{staticClass:"mord mathrm"},[t._v("m")]),a("span",{staticClass:"mord mathrm"},[t._v("b")]),a("span",{staticClass:"mord mathrm"},[t._v("e")]),a("span",{staticClass:"mord mathrm"},[t._v("r")]),a("span",{staticClass:"mord mspace"})]),a("span",{staticClass:"mrel"},[t._v("=")]),a("span",{staticClass:"mop op-limits"},[a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.6672em","margin-left":"0em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord scriptstyle cramped"},[a("span",{staticClass:"mord mathrm"},[t._v("1")]),a("span",{staticClass:"mrel"},[t._v("≤")]),a("span",{staticClass:"mord mathit"},[t._v("i")]),a("span",{staticClass:"mpunct"},[t._v(",")]),a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),a("span",{staticClass:"mrel"},[t._v("≤")]),a("span",{staticClass:"mord mathit"},[t._v("n")]),a("span",{staticClass:"mpunct"},[t._v(",")]),a("span",{staticClass:"mord mathit"},[t._v("i")]),a("span",{staticClass:"mrel"},[t._v("≠")]),a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])])]),a("span",{staticStyle:{top:"2.7755575615628914e-17em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",[a("span",{staticClass:"mop"},[t._v("max")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),a("span",{staticClass:"minner displaystyle textstyle uncramped"},[a("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped"},[a("span",{staticClass:"delimsizing mult"},[a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.9500199999999999em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"delimsizinginner delim-size1"},[a("span",[t._v("∣")])])]),a("span",{staticStyle:{top:"0.3440199999999999em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"delimsizinginner delim-size1"},[a("span",[t._v("∣")])])]),a("span",{staticStyle:{top:"-0.2619800000000001em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"delimsizinginner delim-size1"},[a("span",[t._v("∣")])])]),a("span",{staticStyle:{top:"-0.8679800000000001em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"delimsizinginner delim-size1"},[a("span",[t._v("∣")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])]),a("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[a("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),a("span",{staticClass:"mfrac"},[a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.6859999999999999em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle textstyle cramped"},[a("span",{staticClass:"mord textstyle cramped"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit"},[t._v("λ")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord scriptstyle cramped"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),a("span",{staticStyle:{top:"-0.22999999999999998em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),a("span",{staticStyle:{top:"-0.677em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle textstyle uncramped"},[a("span",{staticClass:"mord textstyle uncramped"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit"},[t._v("λ")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord scriptstyle cramped"},[a("span",{staticClass:"mord mathit"},[t._v("i")])])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),a("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),a("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped"},[a("span",{staticClass:"delimsizing mult"},[a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.9500199999999999em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"delimsizinginner delim-size1"},[a("span",[t._v("∣")])])]),a("span",{staticStyle:{top:"0.3440199999999999em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"delimsizinginner delim-size1"},[a("span",[t._v("∣")])])]),a("span",{staticStyle:{top:"-0.2619800000000001em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"delimsizinginner delim-size1"},[a("span",[t._v("∣")])])]),a("span",{staticStyle:{top:"-0.8679800000000001em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"delimsizinginner delim-size1"},[a("span",[t._v("∣")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])])])]),t._v(" "),a("p",[t._v("当方阵的条件数很大时，矩阵的求逆将对误差特别敏感（即： 的一个很小的扰动，将导致其逆矩阵一个非常明显的变化）。\n条件数是矩阵本身的特性，它会放大那些包含矩阵求逆运算过程中的误差。")]),t._v(" "),a("h2",{attrs:{id:"优化方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优化方法"}},[t._v("#")]),t._v(" 优化方法")]),t._v(" "),a("p",[t._v("参见最优化章节")]),t._v(" "),a("h2",{attrs:{id:"fast-fourier-transforms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fast-fourier-transforms"}},[t._v("#")]),t._v(" Fast Fourier Transforms")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://vitalik.ca/general/2019/05/12/fft.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("v 神的介绍"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"discrete-fourier-transform"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#discrete-fourier-transform"}},[t._v("#")]),t._v(" discrete Fourier transform")]),t._v(" "),a("h2",{attrs:{id:"曲线拟合和多项式插值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#曲线拟合和多项式插值"}},[t._v("#")]),t._v(" 曲线拟合和多项式插值")]),t._v(" "),a("h3",{attrs:{id:"拉格朗日插值多项式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拉格朗日插值多项式"}},[t._v("#")]),t._v(" 拉格朗日插值多项式")]),t._v(" "),a("h3",{attrs:{id:"牛顿插值多项式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#牛顿插值多项式"}},[t._v("#")]),t._v(" 牛顿插值多项式")])])}),[],!1,null,null,null);s.default=i.exports}}]);