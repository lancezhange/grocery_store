(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{351:function(s,t,a){s.exports=a.p+"assets/img/2019-07-03-14-27-04.3b3062f4.png"},549:function(s,t,a){"use strict";a.r(t);var e=a(17),i=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"embeding-专题-ignore-true"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#embeding-专题-ignore-true"}},[s._v("#")]),s._v(" Embeding 专题 {ignore=true}")]),s._v(" "),e("p",[s._v("[TOC]")]),s._v(" "),e("p",[s._v("Embedding 早已有之（还记得本科上抽象代数的时候，听老师说早先的学者将嵌入读作 kan 入），自 Word2vec 一出，Embeding 更加流行，蔚然成风。")]),s._v(" "),e("blockquote",[e("p",[s._v("万物皆可 Embedding")])]),s._v(" "),e("p",[s._v("需要特别指出的是，Embedding 并不仅仅是词嵌入，还包括更广泛的特征嵌入等，因此，像 FM 和 MF 等都是学习 Embedding 的方法，在这个意义上，Embedding 与其说是一种方法，毋宁说是一种思想。")]),s._v(" "),e("h2",{attrs:{id:"lsa"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsa"}},[s._v("#")]),s._v(" LSA")]),s._v(" "),e("p",[s._v("潜在语义分析 latent semantic analysis:LSA 的基本假设是：如果两个词多次出现在同一篇文档中，则这两个词具有语义上的相似性。")]),s._v(" "),e("p",[s._v("对文档单词矩阵 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("D")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("D")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("D")])])])]),s._v(" 做 "),e("code",[s._v("SVD")]),s._v(" 分解：")]),s._v("\n\\mathbf { D } = \\mathbf { P } \\boldsymbol { \\Sigma } \\mathbf { Q } ^ { T } \n\n"),e("ol",[e("li",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("P")])],1),e("mo",[s._v("∈")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[s._v("R")])],1),e("mrow",[e("mi",[s._v("N")]),e("mo",[s._v("×")]),e("mi",[s._v("N")])],1)],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("Q")])],1),e("mo",[s._v("∈")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[s._v("R")])],1),e("mrow",[e("mi",[s._v("V")]),e("mo",[s._v("×")]),e("mi",[s._v("V")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathbf { P } \\in \\mathbb { R } ^ { N \\times N } , \\mathbf { Q } \\in \\mathbb { R } ^ { V \\times V }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.8413309999999999em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.035771em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("P")])]),e("span",{staticClass:"mrel"},[s._v("∈")]),e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbb"},[s._v("R")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[s._v("N")]),e("span",{staticClass:"mbin"},[s._v("×")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[s._v("N")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("Q")])]),e("span",{staticClass:"mrel"},[s._v("∈")]),e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbb"},[s._v("R")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")]),e("span",{staticClass:"mbin"},[s._v("×")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 为单位正交阵")]),s._v(" "),e("li",[s._v("\\boldsymbol { \\Sigma } \\in \\mathbb { R } ^ { N \\times V } 为广义对角矩阵。")])]),s._v(" "),e("p",[s._v("理解为： "),e("code",[s._v("文档-单词")]),s._v(" 矩阵 = "),e("code",[s._v("文档-主题")]),s._v(" 矩阵 x "),e("code",[s._v("主题强度")]),s._v(" x "),e("code",[s._v("主题-单词")]),s._v(" 矩阵。")]),s._v(" "),e("p",[s._v("将奇异值从大到小进行排列, 选择 top k 的奇异值来近似 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("D")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("D")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("D")])])])]),s._v("，即")]),s._v("\n\\mathbf { D } _ { k } = \\mathbf { P } _ { k } \\boldsymbol { \\Sigma } _ { k } \\mathbf { Q } _ { k } ^ { T }\n\n"),e("p",[s._v("任意两个主题之间的相似度为 0")]),s._v(" "),e("p",[s._v("LSA 虽然通过"),e("strong",[s._v("全局矩阵分解")]),s._v("降维获得了一定的语义关联，但是，由于词袋模型的局限性，无法捕捉词语之间的先后关系。")]),s._v(" "),e("h2",{attrs:{id:"word2vec"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#word2vec"}},[s._v("#")]),s._v(" Word2vec")]),s._v(" "),e("p",[s._v("词嵌入(word embeding)")]),s._v(" "),e("p",[s._v("CBOW (Continuous Bag-of-Word)\n: 连续词袋。以上下文词汇预测当前词: w_{t−1}和"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("t")]),e("mo",[s._v("+")]),e("mn",[s._v("1")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w_{t+1}")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.638891em","vertical-align":"-0.208331em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v("去预测 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mi",[s._v("t")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w_t")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])]),s._v(" "),e("p",[s._v("SkipGram\n: 以当前词预测其上下文词汇: "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mi",[s._v("t")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w_t")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 去预测 w_{t−1} 和 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("t")]),e("mo",[s._v("+")]),e("mn",[s._v("1")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w_{t+1}")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.638891em","vertical-align":"-0.208331em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v("。")]),s._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"600px"},attrs:{src:"img-nlp_word2vec_embedding/2019-05-22-11-37-59.png"}}),s._v(" "),e("figcaption")])]),s._v(" "),e("ul",[e("li",[s._v("CBOW\n输入是多个词！\n隐层的取法： 取平均")]),s._v(" "),e("li",[s._v("SkipGram\n输出是多个词！")])]),s._v(" "),e("p",[s._v("在 CBOW 中，同一个单词的表达（即输入向量 \\overrightarrow { \\mathbf { w } } _ { I }） 是相同的， 因为参数 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("W")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathbf W")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68611em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68611em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("W")])])])]),s._v(" 是共享的。输出向量随着上下文不同而不同。 而在 SkipGram 中正好相反，输入向量随着上下文不同而不同，但输出向量是相同的。")]),s._v(" "),e("p",[s._v("经验上讲 Skip-gram 的效果好一点。")]),s._v(" "),e("p",[s._v("word2vec 严格来说立连神经网络都算不上，因为其整个网络结构是线性的，没有激活函数。")]),s._v(" "),e("h3",{attrs:{id:"cbow"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cbow"}},[s._v("#")]),s._v(" CBOW")]),s._v(" "),e("h4",{attrs:{id:"一个单词上下文-one-word-context"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一个单词上下文-one-word-context"}},[s._v("#")]),s._v(" 一个单词上下文 One-word context")]),s._v(" "),e("p",[s._v("输入输出都只有一个词, 这是最简单的情形。输入是前一个单词，输出是后一个单词。")]),s._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-nlp_word2vec_embedding/2019-05-22-12-04-34.png"}}),s._v(" "),e("figcaption",[s._v("一个单词上下文的网络结构")])])]),s._v(" "),e("p",[s._v("其中，")]),s._v(" "),e("ul",[e("li",[s._v("输入层的单词 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mi",[s._v("I")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w_I")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 使用 "),e("code",[s._v("one-hot")]),s._v(" 来表示,")]),s._v(" "),e("li",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("N")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("N")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[s._v("N")])])])]),s._v(" 为隐层的大小，即隐向量 \\overrightarrow { \\mathbf { h } } \\in \\mathbb { R } ^ { N }")]),s._v(" "),e("li",[s._v("网络输出 \\overrightarrow { \\mathbf { y } } = \\left( y _ { 1 } , y _ { 2 } , \\cdots , y _ { V } \\right) ^ { T } \\in \\mathbb { R } ^ { V } 是输出单词为词汇表各单词的概率。")]),s._v(" "),e("li",[s._v("相邻层之间为全连接")]),s._v(" "),e("li",[s._v("对应的隐向量 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("h")])],1),e("mo",[s._v("=")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("W")])],1),e("mrow",[e("mi",[s._v("T")])],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1),e("mo",[s._v("=")]),e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("W")])],1),e("mrow",[e("mo",[s._v("(")]),e("mi",[s._v("k")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mo",[s._v("⋅")]),e("mo",[s._v(")")])],1),e("mrow",[e("mi",[s._v("T")])],1)],1),e("mo",[s._v(":")]),e("mo",[s._v("=")]),e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("I")])],1)],1)],1),e("mrow",[e("mi",[s._v("T")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathbf { h } = \\mathbf { W } ^ { T } \\mathbf { x } = \\mathbf { W } _ { ( k , \\cdot ) } ^ { T } : = \\mathbf { v } _ { w _ { I } } ^ { T }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.8413309999999999em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.338331em","vertical-align":"-0.49699999999999994em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("h")])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("W")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("W")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.32199999999999995em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord"},[s._v("⋅")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticStyle:{top:"-0.36299999999999993em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v(":")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[s._v("因此，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("h")])],1),e("mo",[s._v("=")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("W")])],1),e("mrow",[e("mi",[s._v("T")])],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathbf { h } = \\mathbf { W } ^ { T } \\mathbf { x }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.8413309999999999em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8413309999999999em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("h")])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("W")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])])])])]),s._v(" "),e("strong",[s._v("相当于拷贝了 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("W")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("W")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("W")])])])]),s._v(" 对应的第 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("i")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("i")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.65952em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),s._v(" 行(行向量转秩为列向量)")]),s._v(", 即，可以理解为是第 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("i")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("i")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.65952em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),s._v(" 个词的输入权重向量。")]),s._v(" "),e("aside",{staticClass:"caution"},[s._v("\n注意word2vec的隐层并没有激活函数，或者说只是一个简单的线性激活函数\n")]),s._v(" "),e("p",[s._v("输出向量")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")]),e("mi",[s._v("T")])],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("h")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("u _ { j } = \\mathbf { v } _ { w _ { j } } ^ { \\prime T } \\mathbf { h }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.8913309999999999em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.3405509999999998em","vertical-align":"-0.44922em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("h")])])])])])])]),s._v(" "),e("p",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msup",[e("mi",[s._v("W")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("W^{\\prime}")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.751892em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.751892em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("W")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 的第 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("i")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("i")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.65952em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),s._v(" 列称作单词 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("V")]),e("mi",[s._v("i")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("V_i")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.22222em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 的输出向量。")]),s._v(" "),e("p",[s._v("可以将 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msup",[e("mi",[s._v("W")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("W^{\\prime}")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.751892em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.751892em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("W")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 的每一列看做每个单词的方向向量，然后输出向量就是看压缩后的单词的向量在每个单词上的投影。")]),s._v(" "),e("p",[s._v("\\overrightarrow { \\mathbf { u } } 之后接入一层 softmax:")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("p")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("I")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("y")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("=")]),e("mfrac",[e("mrow",[e("mi",[s._v("exp")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("mrow",[e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("msup",[e("mi",[s._v("j")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("V")])],1)],1),e("mi",[s._v("exp")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("msup",[e("mi",[s._v("j")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("p \\left( w _ { j } | w _ { I } \\right) = y _ { j } = \\frac { \\exp \\left( u _ { j } \\right) } { \\sum _ { j ^ { \\prime } = 1 } ^ { V } \\exp \\left( u _ { j ^ { \\prime } } \\right) }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.427em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.595449em","vertical-align":"-1.1684489999999998em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("p")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.7323309999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mop"},[e("span",{staticClass:"op-symbol small-op mop",staticStyle:{top:"-0.0000050000000000050004em"}},[s._v("∑")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.30001em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.364em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mop"},[s._v("exp")]),e("span",{staticClass:"minner textstyle cramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mop"},[s._v("exp")]),e("span",{staticClass:"minner textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])])])]),s._v(" "),e("p",[s._v("化简得")]),s._v("\np \\left( w _ { j } | w _ { I } \\right) = \\frac { \\exp \\left( \\mathbf { v } _ { w _ { j } } ^ { \\prime } T _ { \\mathbf { v } _ { \\boldsymbol { W } _ { I } } } \\right) } { \\sum _ { j ^ { \\prime } = 1 } ^ { V } \\exp \\left( \\mathbf { v } _ { w _ { j ^ { \\prime } } } ^ { \\prime T } \\mathbf { v } _ { w _ { I } } \\right) }\n\n"),e("h5",{attrs:{id:"优化目标"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优化目标"}},[s._v("#")]),s._v(" 优化目标")]),s._v(" "),e("p",[s._v("假设给定一个单词 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("w")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("r")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("d")]),e("mtext")],1),e("mrow",[e("mi",[s._v("I")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\text { word } _ { I }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"text mord textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("w")]),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("r")]),e("span",{staticClass:"mord mathrm"},[s._v("d")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" （它称作上下文），观测到它的下一个单词为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("w")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("r")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("d")]),e("mtext")],1),e("mrow",[e("mi",[s._v("O")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\text { word } _ { O }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"text mord textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("w")]),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("r")]),e("span",{staticClass:"mord mathrm"},[s._v("d")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 。\n假设 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("w")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("r")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("d")]),e("mtext")],1),e("mrow",[e("mi",[s._v("O")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\text { word } _ { O }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"text mord textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("w")]),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("r")]),e("span",{staticClass:"mord mathrm"},[s._v("d")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 对应的网络输出编号为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msup",[e("mi",[s._v("j")]),e("mo",[s._v("∗")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("j^*")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.688696em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8831359999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord"},[s._v("∗")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" ，则网络的优化目标是：")]),s._v("\n\\begin{align}\n\\max _ { \\mathbf { W } , \\mathbf { W } ^ { \\prime } } p \\left( \\text { word } _ { O } | \\text { word } _ { I } \\right) & = \\max _ { \\mathbf { W } , \\mathbf { W } ^ { \\prime } } y _ { j ^ { * } } = \\max _ { \\mathbf { W } , \\mathbf { W } ^ { \\prime } } \\log \\frac { \\exp \\left( \\overrightarrow { \\mathbf { w } } _ { j ^ { * } } ^ { \\prime } \\cdot \\overrightarrow { \\mathbf { w } } _ { I } \\right) } { \\sum _ { i = 1 } ^ { V } \\exp \\left( \\overrightarrow { \\mathbf { w } } _ { i } ^ { \\prime } \\cdot \\overrightarrow { \\mathbf { w } } _ { I } \\right) } \\\\\\\n& =  \\max _ { \\mathbf { W } , \\mathbf { W } ^ { \\prime } } \\left[ \\overrightarrow { \\mathbf { w } } _ { j ^ { \\prime } } ^ { \\prime } \\cdot \\overrightarrow { \\mathbf { w } } _ { I } - \\log \\sum _ { i = 1 } ^ { V } \\exp \\left( \\overrightarrow { \\mathbf { w } } _ { i } ^ { \\prime } \\cdot \\overrightarrow { \\mathbf { w } } _ { I } \\right) \\right]\n\\end{align}\n\n"),e("p",[s._v("u_j = \\overrightarrow { \\mathbf { w } } _ { j } ^ { \\prime } \\cdot \\overrightarrow { \\mathbf { w } } _ { I }, 定义")]),s._v("\nE = - \\log p \\left( \\text { word } _ { O } | \\text { word } _ { I } \\right) = - \\left[ \\overrightarrow { \\mathbf { w } } _ { j ^ { * } } ^ { \\prime } \\cdot \\overrightarrow { \\mathbf { w } } _ { I } - \\log \\sum _ { i = 1 } ^ { V } \\exp \\left( \\overrightarrow { \\mathbf { w } } _ { i } ^ { \\prime } \\cdot \\overrightarrow { \\mathbf { w } } _ { I } \\right) \\right] \\\\\\\n= - \\left[ u _ { j ^ { * } } - \\log \\sum _ { i = 1 } ^ { V } \\exp \\left( u _ { i } \\right) \\right]\n\n"),e("h5",{attrs:{id:"参数更新"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参数更新"}},[s._v("#")]),s._v(" 参数更新")]),s._v(" "),e("p",[s._v("定义 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("t")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("=")]),e("mrow",[e("mi",{attrs:{mathvariant:"double-struck"}},[s._v("I")])],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("mi",[s._v("j")]),e("mo",[s._v("=")]),e("msup",[e("mi",[s._v("j")]),e("mrow",[e("mo",[s._v("∗")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("t _ { j } = \\mathbb { I } \\left( j = j ^ { * } \\right)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathbb"},[s._v("I")])]),e("span",{staticClass:"minner textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord"},[s._v("∗")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])])]),s._v(" "),e("p",[s._v("则")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mi",[s._v("E")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1)],1),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("y")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("−")]),e("msub",[e("mi",[s._v("t")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v(":")]),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("e")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\frac { \\partial E } { \\partial u _ { j } } = y _ { j } - t _ { j } : = e _ { j }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.37144em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.343548em","vertical-align":"-0.972108em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6859999999999999em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v(":")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("e")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[s._v("根据链式法则")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mi",[s._v("E")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msubsup",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("i")]),e("mi",[s._v("j")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1)],1),e("mo",[s._v("=")]),e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mi",[s._v("E")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1)],1),e("mo",[s._v("⋅")]),e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msubsup",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("i")]),e("mi",[s._v("j")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1)],1),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("e")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("⋅")]),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\frac { \\partial E } { \\partial w _ { i j } ^ { \\prime } } = \\frac { \\partial E } { \\partial u _ { j } } \\cdot \\frac { \\partial u _ { j } } { \\partial w _ { i j } ^ { \\prime } } = e _ { j } \\cdot h _ { i }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.37144em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.4704119999999996em","vertical-align":"-1.0989719999999998em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6859999999999999em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.2768639999999999em","margin-left":"-0.02691em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticStyle:{top:"-0.3448em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6859999999999999em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6859999999999999em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.2768639999999999em","margin-left":"-0.02691em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticStyle:{top:"-0.3448em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("e")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[s._v("因此，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msup",[e("mi",[s._v("W")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("W^{\\prime}")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.751892em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.751892em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("W")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v("的权重更新公式")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msubsup",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("i")]),e("mi",[s._v("j")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")]),e("mo",[s._v("(")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("w")]),e("mtext")],1),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("i")]),e("mi",[s._v("j")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")]),e("mo",[s._v("(")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("l")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("d")])],1),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("−")]),e("mi",[s._v("η")]),e("mo",[s._v("⋅")]),e("msub",[e("mi",[s._v("e")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("⋅")]),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w _ { i j } ^ { \\prime ( \\text { new } ) } = w _ { i j } ^ { \\prime ( \\text { old} ) } - \\eta \\cdot e _ { j } \\cdot h _ { i }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.0448em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.4577719999999998em","vertical-align":"-0.412972em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.276864em","margin-left":"-0.02691em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticStyle:{top:"-0.5198em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"text mord scriptstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("n")]),e("span",{staticClass:"mord mathrm"},[s._v("e")]),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("w")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.276864em","margin-left":"-0.02691em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticStyle:{top:"-0.5198em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"text mord scriptstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("l")]),e("span",{staticClass:"mord mathrm"},[s._v("d")])]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("η")]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("e")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("W")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("W")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("W")])])])]),s._v(" 的 权重更新公式的话，注意到")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mi",[s._v("E")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("j")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("V")])],1)],1),e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mi",[s._v("E")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1)],1),e("mo",[s._v("⋅")]),e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("j")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("V")])],1)],1),e("msub",[e("mi",[s._v("e")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("⋅")]),e("msubsup",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("i")]),e("mi",[s._v("j")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),e("mo",[s._v(":")]),e("mo",[s._v("=")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("E")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("i")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\frac { \\partial E } { \\partial h _ { i } } = \\sum _ { j = 1 } ^ { V } \\frac { \\partial E } { \\partial u _ { j } } \\cdot \\frac { \\partial u _ { j } } { \\partial h _ { i } } = \\sum _ { j = 1 } ^ { V } e _ { j } \\cdot w _ { i j } ^ { \\prime } : = \\mathrm { EH } _ { i }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.8283360000000006em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"3.2421130000000007em","vertical-align":"-1.4137769999999998em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000254801em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000005em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6859999999999999em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000254801em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000005em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("e")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.24700000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticStyle:{top:"-0.41300000000000003em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v(":")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("E")]),e("span",{staticClass:"mord mathrm"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[s._v("且")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("k")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("V")])],1)],1),e("msub",[e("mi",[s._v("x")]),e("mrow",[e("mi",[s._v("k")])],1)],1),e("mo",[s._v("⋅")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("k")]),e("mi",[s._v("i")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("h _ { i } = \\sum _ { k = 1 } ^ { V } x _ { k } \\cdot w _ { k i }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.8283360000000002em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"3.1304490000000005em","vertical-align":"-1.302113em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.202113em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000032756em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.250005em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[s._v("因此")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mi",[s._v("E")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("k")]),e("mi",[s._v("i")])],1)],1)],1)],1),e("mo",[s._v("=")]),e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mi",[s._v("E")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1)],1),e("mo",[s._v("⋅")]),e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("k")]),e("mi",[s._v("i")])],1)],1)],1)],1),e("mo",[s._v("=")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("E")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",[s._v("⋅")]),e("msub",[e("mi",[s._v("x")]),e("mrow",[e("mi",[s._v("k")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\frac { \\partial E } { \\partial w _ { k i } } = \\frac { \\partial E } { \\partial h _ { i } } \\cdot \\frac { \\partial h _ { i } } { \\partial w _ { k i } } = \\mathrm { EH } _ { i } \\cdot x _ { k }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.37144em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.20744em","vertical-align":"-0.8360000000000001em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("E")]),e("span",{staticClass:"mord mathrm"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[s._v("等价于")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mi",[s._v("E")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("W")])],1)],1)],1),e("mo",[s._v("=")]),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1),e("mo",[s._v("⊗")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("E")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("H")])],1),e("mo",[s._v("=")]),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("x")])],1),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("E")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("T")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\frac { \\partial E } { \\partial \\mathbf { W } } = \\mathbf { x } \\otimes \\mathrm { EH } = \\mathbf { x } \\mathrm { EH } ^ { T }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.37144em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.05744em","vertical-align":"-0.686em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("W")])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])]),e("span",{staticClass:"mbin"},[s._v("⊗")]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("E")]),e("span",{staticClass:"mord mathrm"},[s._v("H")])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("x")])]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("E")]),e("span",{staticClass:"mord mathrm"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[s._v("因此，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("W")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("W")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("W")])])])]),s._v(" 的参数更新公式为")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("I")])],1)],1)],1),e("mrow",[e("mo",[s._v("(")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("w")]),e("mtext")],1),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("I")])],1)],1)],1),e("mrow",[e("mo",[s._v("(")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("l")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("d")]),e("mtext")],1),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("−")]),e("mi",[s._v("η")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("E")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("T")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathbf { v } _ { w _ { I } } ^ { ( \\text { new } ) } = \\mathbf { v } _ { w _ { I } } ^ { ( \\text { old } ) } - \\eta \\mathrm { EH } ^ { T }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.9379999999999998em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.2899999999999998em","vertical-align":"-0.352em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.41299999999999987em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"text mord scriptstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("n")]),e("span",{staticClass:"mord mathrm"},[s._v("e")]),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("w")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.41299999999999987em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"text mord scriptstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("l")]),e("span",{staticClass:"mord mathrm"},[s._v("d")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("η")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("E")]),e("span",{staticClass:"mord mathrm"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("h4",{attrs:{id:"多个单词上下文-multi-word-context"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#多个单词上下文-multi-word-context"}},[s._v("#")]),s._v(" 多个单词上下文 Multi-word context")]),s._v(" "),e("div",[e("figure",[e("img",{staticStyle:{width:"500px"},attrs:{src:a(351)}}),s._v(" "),e("figcaption",{attrs:{align:"center"}},[s._v("多个单词上下文的网络结构")])])]),s._v(" "),e("p",[s._v("隐向量为所有输入单词映射结果的均值：")]),s._v("\n\\overrightarrow { \\mathbf { h } } = \\frac { 1 } { C } \\mathbf { W } ^ { T } \\left( \\overrightarrow { \\mathbf { x } } _ { 1 } + \\overrightarrow { \\mathbf { x } } _ { 2 } + \\cdots + \\overrightarrow { \\mathbf { x } } _ { C } \\right) = \\frac { 1 } { C } \\left( \\overrightarrow { \\mathbf { w } } _ { I _ { 1 } } + \\overrightarrow { \\mathbf { w } } _ { I _ { 2 } } + \\cdots + \\overrightarrow { \\mathbf { w } } _ { I _ { C } } \\right)\n\n"),e("p",[s._v("损失函数其实和单个上下文的是一样的，唯一不同的是"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("h")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("h")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("h")])])])]),s._v("; 因此，从隐层到输出层的权重 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msup",[e("mi",[s._v("W")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("W^{\\prime}")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.751892em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.751892em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("W")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 的参数更新公式是不变的：")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")]),e("mo",[s._v("(")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("w")]),e("mtext")],1),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")]),e("mo",[s._v("(")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("l")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("d")]),e("mtext")],1),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("−")]),e("mi",[s._v("η")]),e("mo",[s._v("⋅")]),e("msub",[e("mi",[s._v("e")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("⋅")]),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("h")])],1),e("mspace",{attrs:{width:"2em"}}),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("f")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("r")]),e("mtext")],1),e("mi",[s._v("j")]),e("mo",[s._v("=")]),e("mn",[s._v("1")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mn",[s._v("2")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mo",[s._v("⋯")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("V")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathbf { v } _ { w _ { j } } ^ { \\prime  ( \\text { new } )} = \\mathbf { v } _ { w _ { j } } ^ { \\prime  ( \\text { old } )} - \\eta \\cdot e _ { j } \\cdot \\mathbf { h } \\qquad \\text { for } j = 1,2 , \\cdots , V\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.938em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.38722em","vertical-align":"-0.44922em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.4129999999999999em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"text mord scriptstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("n")]),e("span",{staticClass:"mord mathrm"},[s._v("e")]),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("w")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.4129999999999999em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"text mord scriptstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("l")]),e("span",{staticClass:"mord mathrm"},[s._v("d")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("η")]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("e")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("h")])]),e("span",{staticClass:"mord mspace qquad"}),e("span",{staticClass:"text mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.07778em"}},[s._v("f")]),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("r")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathrm"},[s._v("2")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"minner"},[s._v("⋯")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])])])]),s._v(" "),e("p",[s._v("输入到隐层的权重 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("W")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("W")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("W")])])])]),s._v("的参数更新公式则稍有不同")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("I")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("c")])],1)],1)],1),e("mrow",[e("mo",[s._v("(")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("w")])],1),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("I")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("c")])],1)],1)],1),e("mrow",[e("mo",[s._v("(")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("l")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("d")]),e("mtext")],1),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("−")]),e("mfrac",[e("mrow",[e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("C")])],1)],1),e("mo",[s._v("⋅")]),e("mi",[s._v("η")]),e("mo",[s._v("⋅")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("E")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("T")])],1)],1),e("mspace",{attrs:{width:"2em"}}),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("f")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("r")]),e("mtext")],1),e("mi",[s._v("c")]),e("mo",[s._v("=")]),e("mn",[s._v("1")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mn",[s._v("2")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mo",[s._v("⋯")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("C")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathbf { v } _ { w _ { I , c } } ^ { ( \\mathrm { new } ) } = \\mathbf { v } _ { w _ { I , c } } ^ { ( \\text { old } ) } - \\frac { 1 } { C } \\cdot \\eta \\cdot \\mathrm { EH } ^ { T } \\qquad \\text { for } c = 1,2 , \\cdots , C\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.32144em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.00744em","vertical-align":"-0.686em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit"},[s._v("c")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.4129999999999999em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("n")]),e("span",{staticClass:"mord mathrm"},[s._v("e")]),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("w")])]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit"},[s._v("c")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.4129999999999999em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"text mord scriptstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("l")]),e("span",{staticClass:"mord mathrm"},[s._v("d")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("η")]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("E")]),e("span",{staticClass:"mord mathrm"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord mspace qquad"}),e("span",{staticClass:"text mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.07778em"}},[s._v("f")]),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("r")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathrm"},[s._v("2")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"minner"},[s._v("⋯")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")])])])])])]),s._v(" "),e("h3",{attrs:{id:"skipgram"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#skipgram"}},[s._v("#")]),s._v(" SkipGram")]),s._v(" "),e("div",[e("figure",[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-nlp_word2vec_embedding/2019-07-03-14-33-04.png"}}),s._v(" "),e("figcaption",{attrs:{align:"center"}},[s._v("SkipGram 模型网络结构")])])]),s._v(" "),e("p",[s._v("从输入到隐层这块和 CBOW 是一样的，隐向量还是相当于将输入-隐藏权重矩阵的对应行向量拷贝过来。")]),s._v(" "),e("p",[s._v("而输出部分就不同了，需要输出"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("C")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("C")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")])])])]),s._v("个多项分布")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("p")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("j")])],1)],1),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("O")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("c")])],1)],1),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("I")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("y")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("j")])],1)],1),e("mo",[s._v("=")]),e("mfrac",[e("mrow",[e("mi",[s._v("exp")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("j")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("mrow",[e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("msup",[e("mi",[s._v("j")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("V")])],1)],1),e("mi",[s._v("exp")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("msup",[e("mi",[s._v("j")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("p \\left( w _ { c , j } = w _ { O , c } | w _ { I } \\right) = y _ { c , j } = \\frac { \\exp \\left( u _ { c , j } \\right) } { \\sum _ { j ^ { \\prime } = 1 } ^ { V } \\exp \\left( u _ { j ^ { \\prime } } \\right) }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.427em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.595449em","vertical-align":"-1.1684489999999998em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("p")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit"},[s._v("c")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.7323309999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mop"},[e("span",{staticClass:"op-symbol small-op mop",staticStyle:{top:"-0.0000050000000000050004em"}},[s._v("∑")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.30001em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.364em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mop"},[s._v("exp")]),e("span",{staticClass:"minner textstyle cramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mop"},[s._v("exp")]),e("span",{staticClass:"minner textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])])])]),s._v(" "),e("p",[s._v("好在从隐层到输出层的权重是共享的，因此有")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("j")])],1)],1),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")]),e("mi",[s._v("T")])],1)],1),e("mo",[s._v("⋅")]),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("h")])],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("f")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("r")]),e("mtext")],1),e("mi",[s._v("c")]),e("mo",[s._v("=")]),e("mn",[s._v("1")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mn",[s._v("2")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mo",[s._v("⋯")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("C")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("u _ { c , j } = u _ { j } = \\mathbf { v } _ { w _ { j } } ^ { \\prime T } \\cdot \\mathbf { h } , \\text { for } c = 1,2 , \\cdots , C\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.8913309999999999em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.3405509999999998em","vertical-align":"-0.44922em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("h")])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"text mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.07778em"}},[s._v("f")]),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("r")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathrm"},[s._v("2")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"minner"},[s._v("⋯")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")])])])])])]),s._v(" "),e("p",[s._v("损失函数")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mtable",[e("mtr",[e("mtd",[e("mrow",[e("mi",[s._v("E")])],1)],1),e("mtd",[e("mrow",[e("mrow"),e("mo",[s._v("=")]),e("mo",[s._v("−")]),e("mi",[s._v("log")]),e("mi",[s._v("p")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("O")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mn",[s._v("1")])],1)],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("O")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mn",[s._v("2")])],1)],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mo",[s._v("⋯")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("O")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("C")])],1)],1),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("I")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1)],1)],1),e("mtr",[e("mtd",[e("mrow",[e("mtext")],1)],1),e("mtd",[e("mrow",[e("mrow"),e("mo",[s._v("=")]),e("mo",[s._v("−")]),e("mi",[s._v("log")]),e("msubsup",[e("mo",[s._v("∏")]),e("mrow",[e("mi",[s._v("c")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("C")])],1)],1),e("mfrac",[e("mrow",[e("mi",[s._v("exp")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("msubsup",[e("mi",[s._v("j")]),e("mrow",[e("mi",[s._v("c")])],1),e("mrow",[e("mo",[s._v("∗")])],1)],1)],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("mrow",[e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("msup",[e("mi",[s._v("j")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("V")])],1)],1),e("mi",[s._v("exp")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("msup",[e("mi",[s._v("j")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1)],1)],1)],1)],1),e("mtr",[e("mtd",[e("mrow",[e("mtext")],1)],1),e("mtd",[e("mrow",[e("mrow"),e("mo",[s._v("=")]),e("mo",[s._v("−")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("c")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("C")])],1)],1),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("msubsup",[e("mi",[s._v("j")]),e("mrow",[e("mi",[s._v("c")])],1),e("mrow",[e("mo",[s._v("∗")])],1)],1)],1)],1),e("mo",[s._v("+")]),e("mi",[s._v("C")]),e("mo",[s._v("⋅")]),e("mi",[s._v("log")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("msup",[e("mi",[s._v("j")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("V")])],1)],1),e("mi",[s._v("exp")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("msup",[e("mi",[s._v("j")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1)],1)],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\begin{aligned} E & = - \\log p \\left( w _ { O , 1 } , w _ { O , 2 } , \\cdots , w _ { O , C } | w _ { I } \\right) \\\\\\ & = - \\log \\prod _ { c = 1 } ^ { C } \\frac { \\exp \\left( u _ { c , j _ { c } ^ { * } } \\right) } { \\sum _ { j ^ { \\prime } = 1 } ^ { V } \\exp \\left( u _ { j ^ { \\prime } } \\right) } \\\\\\ & = - \\sum _ { c = 1 } ^ { C } u _ { j _ { c } ^ { * } } + C \\cdot \\log \\sum _ { j ^ { \\prime } = 1 } ^ { V } \\exp \\left( u _ { j ^ { \\prime } } \\right) \\end{aligned}\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"4.027989em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"7.555978000000001em","vertical-align":"-3.5279890000000016em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mtable"},[e("span",{staticClass:"col-align-r"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-3.187989em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])]),e("span",{staticStyle:{top:"-0.9996529999999992em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"})])]),e("span",{staticStyle:{top:"2.0957960000000018em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"})])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"col-align-l"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-3.187989em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"}),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[s._v("−")]),e("span",{staticClass:"mop"},[s._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),e("span",{staticClass:"mord mathit"},[s._v("p")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"minner"},[s._v("⋯")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])]),e("span",{staticStyle:{top:"-0.9996529999999992em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"}),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[s._v("−")]),e("span",{staticClass:"mop"},[s._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1671129999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∏")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.7323309999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mop"},[e("span",{staticClass:"op-symbol small-op mop",staticStyle:{top:"-0.0000050000000000050004em"}},[s._v("∑")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.30001em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.364em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mop"},[s._v("exp")]),e("span",{staticClass:"minner textstyle cramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.7400100000000001em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mop"},[s._v("exp")]),e("span",{staticClass:"minner textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size1"},[s._v("(")])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.14999999999999997em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-left":"-0.05724em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")])])])]),e("span",{staticStyle:{top:"-0.28900000000000003em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord"},[s._v("∗")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size1"},[s._v(")")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])]),e("span",{staticStyle:{top:"2.0957960000000018em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord displaystyle textstyle uncramped"}),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[s._v("−")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1671129999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.14999999999999997em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-left":"-0.05724em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")])])])]),e("span",{staticStyle:{top:"-0.28900000000000003em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord"},[s._v("∗")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mop"},[s._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.196085em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000032756em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.250005em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mop"},[s._v("exp")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.289em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"1em"}},[s._v("​")])]),s._v("​")])])])])])])])])])]),s._v(" "),e("p",[s._v("求导")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mi",[s._v("E")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("j")])],1)],1)],1)],1),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("y")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("j")])],1)],1),e("mo",[s._v("−")]),e("msub",[e("mi",[s._v("t")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("j")])],1)],1),e("mo",[s._v(":")]),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("e")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("j")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\frac { \\partial E } { \\partial u _ { c , j } } = y _ { c , j } - t _ { c , j } : = e _ { c , j }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.37144em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.343548em","vertical-align":"-0.972108em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6859999999999999em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("t")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v(":")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("e")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[s._v("记 \\mathrm { EI } = \\left\\\\{ \\mathrm { EI } _ { 1 } , \\cdots , \\mathrm { EI } _ { V } \\right\\\\} , 其中 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("E")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("I")])],1),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("c")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("C")])],1)],1),e("msub",[e("mi",[s._v("e")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("j")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathrm { EI } _ { j } = \\sum _ { c = 1 } ^ { C } e _ { c , j }")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.8423309999999999em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.142341em","vertical-align":"-0.30001em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("E")]),e("span",{staticClass:"mord mathrm"},[s._v("I")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop"},[e("span",{staticClass:"op-symbol small-op mop",staticStyle:{top:"-0.0000050000000000050004em"}},[s._v("∑")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.30001em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.364em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("e")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])]),s._v(" "),e("p",[s._v("则 关于隐层到输出层权重矩阵 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msup",[e("mi",[s._v("W")]),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("W^{\\prime}")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.751892em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.751892em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("W")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 的求导")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mi",[s._v("E")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msubsup",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("i")]),e("mi",[s._v("j")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("c")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("C")])],1)],1),e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("mi",[s._v("E")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("j")])],1)],1)],1)],1),e("mo",[s._v("⋅")]),e("mfrac",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msub",[e("mi",[s._v("u")]),e("mrow",[e("mi",[s._v("c")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("j")])],1)],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("∂")]),e("msubsup",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("i")]),e("mi",[s._v("j")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1)],1),e("mo",[s._v("=")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("E")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("I")])],1),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("⋅")]),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\frac { \\partial E } { \\partial w _ { i j } ^ { \\prime } } = \\sum _ { c = 1 } ^ { C } \\frac { \\partial E } { \\partial u _ { c , j } } \\cdot \\frac { \\partial u _ { c , j } } { \\partial w _ { i j } ^ { \\prime } } = \\mathrm { EI } _ { j } \\cdot h _ { i }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.8283360000000002em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"3.0954490000000003em","vertical-align":"-1.267113em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6859999999999999em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.2768639999999999em","margin-left":"-0.02691em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticStyle:{top:"-0.3448em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1671129999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6859999999999999em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.6859999999999999em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.2768639999999999em","margin-left":"-0.02691em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticStyle:{top:"-0.3448em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.05556em"}},[s._v("∂")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("c")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("E")]),e("span",{staticClass:"mord mathrm"},[s._v("I")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[s._v("因此，参数更新公式为")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msubsup",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("i")]),e("mi",[s._v("j")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")]),e("mo",[s._v("(")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("w")]),e("mtext")],1),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("i")]),e("mi",[s._v("j")])],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("(")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("l")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("d")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v(")")]),e("mtext")],1)],1)],1),e("mo",[s._v("−")]),e("mi",[s._v("η")]),e("mo",[s._v("⋅")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("E")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("I")])],1),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("⋅")]),e("msub",[e("mi",[s._v("h")]),e("mrow",[e("mi",[s._v("i")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w _ { i j } ^ { \\prime  ( \\text { new } )} = w _ { i j } ^ { \\prime  \\text { (old) }} - \\eta \\cdot \\mathrm { EI } _ { j } \\cdot h _ { i }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.0448em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.4577719999999998em","vertical-align":"-0.412972em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.276864em","margin-left":"-0.02691em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticStyle:{top:"-0.5198em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"text mord scriptstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("n")]),e("span",{staticClass:"mord mathrm"},[s._v("e")]),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("w")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.276864em","margin-left":"-0.02691em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticStyle:{top:"-0.5198em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")]),e("span",{staticClass:"text mord scriptstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("(")]),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("l")]),e("span",{staticClass:"mord mathrm"},[s._v("d")]),e("span",{staticClass:"mord mathrm"},[s._v(")")]),e("span",{staticClass:"mord mspace"})])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("η")]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("E")]),e("span",{staticClass:"mord mathrm"},[s._v("I")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit"},[s._v("h")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("p",[s._v("而输入到隐层的权重矩阵参数更新公式不变")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("I")])],1)],1)],1),e("mrow",[e("mo",[s._v("(")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("w")]),e("mtext")],1),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("=")]),e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("I")])],1)],1)],1),e("mrow",[e("mo",[s._v("(")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("l")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("d")]),e("mtext")],1),e("mo",[s._v(")")])],1)],1),e("mo",[s._v("−")]),e("mi",[s._v("η")]),e("mo",[s._v("⋅")]),e("msup",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("E")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("H")])],1),e("mrow",[e("mi",[s._v("T")])],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathbf { v } _ { w _ { I } } ^ { ( \\text { new } ) } = \\mathbf { v } _ { w _ { I } } ^ { ( \\text { old } ) } - \\eta \\cdot \\mathrm { EH } ^ { T }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.9379999999999998em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.2899999999999998em","vertical-align":"-0.352em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.41299999999999987em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"text mord scriptstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("n")]),e("span",{staticClass:"mord mathrm"},[s._v("e")]),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("w")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[s._v("I")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.41299999999999987em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"text mord scriptstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("o")]),e("span",{staticClass:"mord mathrm"},[s._v("l")]),e("span",{staticClass:"mord mathrm"},[s._v("d")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("η")]),e("span",{staticClass:"mbin"},[s._v("⋅")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("E")]),e("span",{staticClass:"mord mathrm"},[s._v("H")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),e("h3",{attrs:{id:"计算效率优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计算效率优化"}},[s._v("#")]),s._v(" 计算效率优化")]),s._v(" "),e("p",[s._v("如上，每个单词其实有输入向量和输出向量两个向量表示。输入向量的学习是比较容易的，而学习输出向量的代价却十分昂贵。")]),s._v(" "),e("p",[s._v("复杂度很大的根本原因是 softmax 的分母上的 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mo",[s._v("∑")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\sum")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1.00001em","vertical-align":"-0.25001em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"op-symbol small-op mop",staticStyle:{top:"-0.0000050000000000050004em"}},[s._v("∑")])])])]),s._v("， 可以通过 "),e("code",[s._v("分层 softmax")]),s._v(" 来高效计算进行优化。另外，可以通过负采样来缩减输出单元的数量。")]),s._v(" "),e("p",[s._v("优化的主要思想是：限制输出单元的数量。")]),s._v(" "),e("h4",{attrs:{id:"hierarchical-softmax"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hierarchical-softmax"}},[s._v("#")]),s._v(" Hierarchical Softmax")]),s._v(" "),e("p",[e("code",[s._v("Hierarchical softmax(分层 softmax)")]),s._v(" 是一种高效计算 softmax 的方法, 因为它将词汇编码为哈夫曼树.\n每个词不再有输出向量表示。取而代之，对每个内部节点有一个向量表示(作为每个节点逻辑回归的参数向量，内部节点共有 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("V")]),e("mo",[s._v("−")]),e("mn",[s._v("1")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("V-1")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),s._v("个，因此，参数量几乎没有减少)。根节点的词向量对应我们的投影后的词向量。")]),s._v(" "),e("p",[s._v("由于每个词都有一个霍夫曼编码，因此对目标词，我们知道每一步向右还是向左，将这些步的概率乘起来，就是目标词作为输出词的预测概率。（在不用 Hierarchical Softmax 时，我们计算目标词的输出概率时，要计算其他所有词的概率作为分母，所有其他词的概率计算仅仅是为了计算分母！现在则不需要了，直接连乘得到目标词的输出概率。）")]),s._v(" "),e("p",[s._v("由于是二叉树，之前计算量为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("V")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("V")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])]),s._v(" ,现在变成了 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("l")]),e("mi",[s._v("o")]),e("mi",[s._v("g")]),e("mn",[s._v("2")]),e("mi",[s._v("V")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("log2V")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),e("span",{staticClass:"mord mathit"},[s._v("o")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),e("span",{staticClass:"mord mathrm"},[s._v("2")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])]),s._v(" "),e("img",{attrs:{src:"img-nlp_word2vec_embedding/2019-07-07-20-16-03.png",alt:""}})]),s._v("\np \\left( w = w _ { O } \\right) = \\prod _ { j = 1 } ^ { L ( w ) - 1 } \\sigma \\left( \\mathbb { I } n ( w , j + 1 ) = \\operatorname { ch } ( n ( w , j ) ) \\mathbb{I} \\cdot \\mathbf { v } _ { n ( w , j ) } ^ { \\prime } T _ { \\mathbf { h } } \\right)\n\n"),e("p",[s._v("其中，\\operatorname { ch } ( n ) 是单元 n 的左节点，且")]),s._v("\n\\mathbb { I } x \\| = \\left\\\\{ \\begin{array} { l l } { 1 } & { \\text { if } x \\text { is true; } } \\\\\\ { - 1 } & { \\text { otherwise } } \\end{array} \\right.\n\n"),e("p",[s._v("霍夫曼树的结构是基于贪心的思想，"),e("strong",[s._v("对训练频率很大的词很有效，但是对词频很低的词很不友好，因为路径太深")])]),s._v(" "),e("h4",{attrs:{id:"negative-sampling"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#negative-sampling"}},[s._v("#")]),s._v(" Negative Sampling")]),s._v(" "),e("p",[s._v("在参数的每一轮更新中，实际上只需要用到一部分单词的输出概率；大部分单词的输出概率为 0 。")]),s._v(" "),e("p",[s._v("例如")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("P")]),e("mrow",[e("mi",[s._v("n")])],1)],1),e("mo",[s._v("(")]),e("mi",[s._v("w")]),e("mo",[s._v(")")]),e("mo",[s._v("=")]),e("mfrac",[e("mrow",[e("mi",[s._v("f")]),e("mi",[s._v("r")]),e("mi",[s._v("e")]),e("mi",[s._v("q")]),e("mo",[s._v("(")]),e("mi",[s._v("w")]),e("msup",[e("mo",[s._v(")")]),e("mrow",[e("mn",[s._v("3")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("/")]),e("mn",[s._v("4")])],1)],1)],1),e("mrow",[e("msub",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("w")]),e("mo",[s._v("≠")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("O")])],1)],1)],1)],1),e("mi",[s._v("f")]),e("mi",[s._v("r")]),e("mi",[s._v("e")]),e("mi",[s._v("q")]),e("mo",[s._v("(")]),e("mi",[s._v("w")]),e("msup",[e("mo",[s._v(")")]),e("mrow",[e("mn",[s._v("3")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("/")]),e("mn",[s._v("4")])],1)],1)],1)],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("P _ { n } ( w ) = \\frac { f r e q ( w ) ^ { 3 / 4 } } { \\sum _ { w \\neq w _ { O } } f r e q ( w ) ^ { 3 / 4 } }\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.565em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.7195099999999996em","vertical-align":"-1.15451em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("P")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("n")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.704em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mop"},[e("span",{staticClass:"op-symbol small-op mop",staticStyle:{top:"-0.0000050000000000050004em"}},[s._v("∑")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.30001em","margin-right":"0.05em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"mrel"},[s._v("≠")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),e("span",{staticClass:"mord mathit"},[s._v("e")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("q")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"mclose"},[e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.289em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("3")]),e("span",{staticClass:"mord mathrm"},[s._v("/")]),e("span",{staticClass:"mord mathrm"},[s._v("4")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),e("span",{staticClass:"mord mathit"},[s._v("e")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("q")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"mclose"},[e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("3")]),e("span",{staticClass:"mord mathrm"},[s._v("/")]),e("span",{staticClass:"mord mathrm"},[s._v("4")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])])])]),s._v(" "),e("p",[s._v("背后的物理意义为：单词在语料库中出现的概率越大，则越可能被挑中.")]),s._v(" "),e("p",[s._v("目标函数简化为")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("E")]),e("mo",[s._v("=")]),e("mo",[s._v("−")]),e("mi",[s._v("log")]),e("mi",[s._v("σ")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("O")])],1)],1)],1),e("mrow",[e("msup",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")]),e("mrow",[e("mi",[s._v("T")])],1)],1)],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("h")])],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("−")]),e("msub",[e("mo",[s._v("∑")]),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mo",[s._v("∈")]),e("msub",[e("mrow",[e("mi",{attrs:{mathvariant:"script"}},[s._v("W")])],1),e("mrow",[e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("g")])],1)],1)],1)],1)],1),e("mi",[s._v("log")]),e("mi",[s._v("σ")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("mo",[s._v("−")]),e("msubsup",[e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("v")])],1),e("mrow",[e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("j")])],1)],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"normal"}},[s._v("′")]),e("mi",[s._v("T")])],1)],1),e("mrow",[e("mi",{attrs:{mathvariant:"bold"}},[s._v("h")])],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("E = -\\log \\sigma \\left( \\mathbf { v } _ { w _ { O } } ^ { \\prime  ^ { T }} \\mathbf { h } \\right) - \\sum _ { w _ { j } \\in \\mathcal { W } _ { \\mathrm { neg } } } \\log \\sigma \\left( - \\mathbf { v } _ { w _ { j } } ^ { \\prime T } \\mathbf { h } \\right)\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.15em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"2.646556em","vertical-align":"-1.496556em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[s._v("−")]),e("span",{staticClass:"mop"},[s._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("σ")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[s._v("(")])]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.4129999999999999em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathrm"},[s._v("′")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"-0.363em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle uncramped"},[e("span",{staticClass:"mord scriptscriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("h")])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[s._v(")")])])]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1943359999999998em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("∈")]),e("span",{},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathcal",staticStyle:{"margin-right":"0.08222em"}},[s._v("W")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("n")]),e("span",{staticClass:"mord mathrm"},[s._v("e")]),e("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.000005000000000032756em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mop"},[s._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("σ")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[s._v("(")])]),e("span",{staticClass:"mord"},[s._v("−")]),e("span",{},[e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("v")])]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.247em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[e("span",{staticClass:"mord scriptscriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),e("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("′")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mathbf"},[s._v("h")])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[e("span",{staticClass:"delimsizing size2"},[s._v(")")])])])])])])])]),s._v(" "),e("h4",{attrs:{id:"其他细节"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他细节"}},[s._v("#")]),s._v(" 其他细节")]),s._v(" "),e("ol",[e("li",[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("σ")]),e("mo",[s._v("(")]),e("mi",[s._v("x")]),e("mo",[s._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\sigma (x)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("σ")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("x")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v(" 的近似计算")]),s._v(" "),e("li")]),s._v(" "),e("h3",{attrs:{id:"glove"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#glove"}},[s._v("#")]),s._v(" Glove")]),s._v(" "),e("p",[s._v("Global Vectors for Word Representation， 是一个"),e("strong",[s._v("基于全局词频统计")]),s._v("（count-based & overall statistics）的词表征（word representation）工具.")]),s._v(" "),e("p",[s._v("结合了 LSA 算法和 Word2Vec 算法的优点，既考虑了全局统计信息，又利用了局部上下文。")]),s._v(" "),e("p",[e("a",{attrs:{href:"http://www-nlp.stanford.edu/projects/glove/glove.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("GloVe"),e("OutboundLink")],1),s._v("(GLobal Vector for word representation)")]),s._v(" "),e("p",[e("a",{attrs:{href:"http://www.foldl.me/2014/glove-python/",target:"_blank",rel:"noopener noreferrer"}},[s._v("A GloVe implementation in python"),e("OutboundLink")],1),s._v("\n首先扫描预料，建立词语共生矩阵，后续就用该共生矩阵替代原预料。")]),s._v(" "),e("p",[s._v("W2V 的缺点，W2V 中所用的 softmax 比起普通 softmax 有何区别，为什么能减少计算量")]),s._v(" "),e("h3",{attrs:{id:"fasttext"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fasttext"}},[s._v("#")]),s._v(" fastText")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("结构与 CBOW 类似，但学习目标是人工标注的分类结果")])]),s._v(" "),e("li",[e("p",[s._v("采用 hierarchical softmax 对输出的分类标签建立哈夫曼树，样本中标签多的类别被分配短的搜寻路径；")])]),s._v(" "),e("li",[e("p",[s._v("引入 N-gram，考虑词序特征")])]),s._v(" "),e("li",[e("p",[s._v("引入 subword 来处理长词，处理未登陆词问题")])])]),s._v(" "),e("h2",{attrs:{id:"doc2vec"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#doc2vec"}},[s._v("#")]),s._v(" Doc2Vec")]),s._v(" "),e("p",[s._v("Distributed Representations of Sentences and Documents\n其实是 paragraph vector, 或称 sentence embeddings")]),s._v(" "),e("p",[s._v("每个段落拥有自己的段落向量. 对于每次训练，这里选择联结(concatenate)的方式，将 Word2Vec 中的输入词向量与输入词向量所属的段落向量联结，拼接成一个大向量。")]),s._v(" "),e("h3",{attrs:{id:"pv-dm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pv-dm"}},[s._v("#")]),s._v(" PV-DM")]),s._v(" "),e("p",[s._v("把句子向量也看做一个单词加入。它的作用相当于是上下文的记忆单元或者是这个段落的主题")]),s._v(" "),e("h3",{attrs:{id:"pv-dbow"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pv-dbow"}},[s._v("#")]),s._v(" PV-DBOW")]),s._v(" "),e("p",[s._v("Distributed Bag of Words version of Paragraph Vector()")]),s._v(" "),e("h2",{attrs:{id:"item2vec"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#item2vec"}},[s._v("#")]),s._v(" Item2Vec")]),s._v(" "),e("p",[e("a",{attrs:{href:""}},[s._v("Item2Vec-Neural Item Embedding for Collaborative Filtering (Microsoft 2016)")]),s._v("\n微软将 word2vec 应用于推荐领域的一篇实用性很强的文章")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mfrac",[e("mrow",[e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("K")])],1)],1),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("i")]),e("mo",[s._v("=")]),e("mn",[s._v("1")])],1),e("mrow",[e("mi",[s._v("K")])],1)],1),e("msubsup",[e("mo",[s._v("∑")]),e("mrow",[e("mi",[s._v("j")]),e("mo",[s._v("≠")]),e("mi",[s._v("i")])],1),e("mrow",[e("mi",[s._v("K")])],1)],1),e("mi",[s._v("log")]),e("mi",[s._v("p")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("j")])],1)],1),e("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),e("msub",[e("mi",[s._v("w")]),e("mrow",[e("mi",[s._v("i")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\frac { 1 } { K } \\sum _ { i = 1 } ^ { K } \\sum _ { j \\neq i } ^ { K } \\log p \\left( w _ { j } | w _ { i } \\right)\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"1.8283360000000006em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"3.2960410000000007em","vertical-align":"-1.4677049999999998em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),e("span",{staticClass:"mfrac"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.686em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle cramped"},[e("span",{staticClass:"mord textstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("K")])])])]),e("span",{staticStyle:{top:"-0.22999999999999998em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),e("span",{staticStyle:{top:"-0.677em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle textstyle uncramped"},[e("span",{staticClass:"mord textstyle uncramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticStyle:{top:"-0.000005000000000143778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("K")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mop op-limits"},[e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"1.2172049999999996em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),e("span",{staticClass:"mrel"},[s._v("≠")]),e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticStyle:{top:"-0.000005000000000254801em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",[e("span",{staticClass:"op-symbol large-op mop"},[s._v("∑")])])]),e("span",{staticStyle:{top:"-1.2500050000000005em","margin-left":"0em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[e("span",{staticClass:"mord scriptstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[s._v("K")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mop"},[s._v("lo"),e("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),e("span",{staticClass:"mord mathit"},[s._v("p")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mord mathrm"},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit"},[s._v("i")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])])])])])])]),s._v(" "),e("p",[s._v("KDD 2018 best paper "),e("a",{attrs:{href:""}},[s._v("Real-time Personalization using Embeddings for Search Ranking at Airbnb")]),s._v(" 也介绍了 Airbnb 的 embedding 最佳实践")]),s._v(" "),e("p",[s._v("具体到 embedding 上，文章通过两种方式生成了两种不同的 embedding 分别 capture 用户的 short term 和 long term 的兴趣。")]),s._v(" "),e("ul",[e("li",[s._v("一是通过 click session 数据生成 listing 的 embedding，生成这个 embedding 的目的是为了进行 listing 的相似推荐，以及对用户进行 session 内的实时个性化推荐。")]),s._v(" "),e("li",[s._v("二是通过 booking session 生成 user-type 和 listing-type 的 embedding，目的是捕捉不同 user-type 的 long term 喜好。由于 booking signal 过于稀疏，Airbnb 对同属性的 user 和 listing 进行了聚合，形成了 user-type 和 listing-type 这两个 embedding 的对象。")])]),s._v(" "),e("h2",{attrs:{id:"离散特征嵌入"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#离散特征嵌入"}},[s._v("#")]),s._v(" 离散特征嵌入")]),s._v(" "),e("p",[s._v("这里一般针对的是高维、稀疏、多 Field、离散特征。")]),s._v(" "),e("p",[s._v("用神经网络做 Embedding 的一般做法： 网络的输入层是实体 ID（categorical 特征）的 one-hot 编码向量。与输入层相连的一层就是 Embedding 层，两层之间通过全连接的方式相连。Embedding 层的神经元个数即 Embeeding 向量的维数（𝑚）。输入层与 Embedding 层的链接对应的权重矩阵 𝑀(𝑛×𝑚)，即对应 𝑛 个输入实体的 m 维 embedding 向量。由于 one-hot 向量同一时刻只会有一个元素值为 1，其他值都是 0，因此对于当前样本，只有与值为 1 的输入节点相连的边上的权重会被更新，即不同 ID 的实体所在的样本训练过程中只会影响与该实体对应的 embedding 表示。假设某实体 ID 的 one-hot 向量中下标为 𝑖 的值为 1，则该实体的 embedding 向量为权重矩阵 𝑀 的第 𝑖 行。")]),s._v(" "),e("div",{attrs:{align:"center"}},[e("figure",{attrs:{align:"center"}},[e("img",{staticStyle:{width:"300px"},attrs:{src:"/img-nlp_word2vec_embedding/2019-06-14-14-19-33.png"}})])]),s._v(" "),e("h2",{attrs:{id:"graph-embedding"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#graph-embedding"}},[s._v("#")]),s._v(" Graph Embedding")]),s._v(" "),e("p",[s._v("在面对图结构的时候，传统的序列 embedding 方法就显得力不从心了。在这样的背景下，对图结构中间的节点进行表达的 graph embedding 成为了新的研究方向，并逐渐在深度学习推荐系统领域流行起来。")]),s._v(" "),e("p",[s._v("word2vec 和 item2vec 全都是在序列（句子或者物品列表）的基础上，而在互联网场景下，数据对象之间更多呈现的是图结构。典型的场景是由用户行为数据生成的物品全局关系图，以及加入更多属性的物品组成的知识图谱.")]),s._v(" "),e("p",[s._v("图比序列好的一点，就是图上可以得到序列，并且能生成一些并不存在的序列，即一定程度的泛化，并且图可以记录边的权重，节点有属性额外信息。")]),s._v(" "),e("div",[e("figure",[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-nlp_word2vec_embedding/2019-05-28-09-18-20.png"}}),s._v(" "),e("figcaption",[s._v("由用户行为序列生成的物品全局关系图 (引自阿里论文)")])])]),s._v(" "),e("div",[e("figure",[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-nlp_word2vec_embedding/2019-05-28-09-19-14.png"}}),s._v(" "),e("figcaption",[s._v("由属性、实体、各类知识组成的知识图谱")])])]),s._v(" "),e("h3",{attrs:{id:"经典的-graph-embedding-方法——deepwalk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#经典的-graph-embedding-方法——deepwalk"}},[s._v("#")]),s._v(" 经典的 Graph Embedding 方法——DeepWalk")]),s._v(" "),e("p",[s._v("早期影响力较大的 graph embedding 方法是 2014 年提出的 DeepWalk，它的主要思想是在由物品组成的图结构(由用户行为序列构建)上进行随机游走，产生大量物品序列，然后将这些物品序列作为训练样本输入 word2vec 进行训练，得到物品的 embedding")]),s._v(" "),e("p",[e("img",{attrs:{src:"img-nlp_word2vec_embedding/2019-05-28-09-24-26.png",alt:""}})]),s._v(" "),e("p",[s._v("核心显然在第三步：如何随机游走？ 也就是，如何定义随机游走的转移概率？\n简单的当然是加权一下按比例分配了")]),s._v("\nP \\left( v _ { j } | v _ { i } \\right) = \\left\\\\{ \\begin{array} { l l } { \\frac { \\mathrm { M } _ { i j } } { \\sum _ { j \\in N _ { + } \\left( v _ { i } \\right) } \\mathrm { M } _ { i j } } , } & { v _ { j } \\in N _ { + } \\left( v _ { i } \\right) } \\\\\\ { 0 , } & { e _ { i j } \\notin \\varepsilon } \\end{array} \\right.\n\n"),e("p",[s._v("显然，DeepWalk 遍历节点的方式，本质还是属于 "),e("code",[s._v("DFS")])]),s._v(" "),e("h3",{attrs:{id:"_2015-line"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2015-line"}},[s._v("#")]),s._v(" 2015-LINE")]),s._v(" "),e("p",[s._v("Large-scale Information Network Embedding (MSRA 2015)")]),s._v(" "),e("h4",{attrs:{id:"相似度"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#相似度"}},[s._v("#")]),s._v(" 相似度")]),s._v(" "),e("p",[s._v("一阶相似度： 直接相连则相似度为边权，否则为 0")]),s._v(" "),e("h3",{attrs:{id:"deepwalk-的进一步改进——node2vec"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deepwalk-的进一步改进——node2vec"}},[s._v("#")]),s._v(" DeepWalk 的进一步改进——Node2vec")]),s._v(" "),e("p",[s._v("2016 年，斯坦福大学在 DeepWalk 的基础上更进一步，通过调整随机游走权重的方法使 graph embedding 的结果在网络的 "),e("strong",[s._v("同质性")]),s._v("（homophily）和"),e("strong",[s._v("结构性")]),s._v("（structural equivalence）中进行权衡。")]),s._v(" "),e("p",[s._v("Scalable Feature Learning for Networks (Stanford 2016)")]),s._v(" "),e("p",[s._v("同质性\n: 距离相近节点的 embedding 应该尽量近似，因此倾向于深度优先搜索 DFS")]),s._v(" "),e("p",[s._v("结构性\n: 结构上相似的节点的 embedding 应该尽量接，因此倾向于宽度优先搜索 BFS （跳的更远一点，去发现相同的结构）")]),s._v(" "),e("div",[e("figure",[e("img",{staticStyle:{width:"500px"},attrs:{src:"img-nlp_word2vec_embedding/2019-05-28-09-39-57.png"}}),s._v(" "),e("figcaption",[s._v("node2vec 实验结果")])])]),s._v(" "),e("h3",{attrs:{id:"_2016-sdne"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2016-sdne"}},[s._v("#")]),s._v(" 2016-SDNE")]),s._v(" "),e("p",[s._v("Structural Deep Network Embedding\n和 node2vec 并列的工作，均发表在 2016 年的 KDD 会议中。")]),s._v(" "),e("h3",{attrs:{id:"_2017-structure2vec"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2017-structure2vec"}},[s._v("#")]),s._v(" 2017-Structure2vec")]),s._v(" "),e("p",[s._v("参考 "),e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/56733145",target:"_blank",rel:"noopener noreferrer"}},[s._v("Struc2Vec：算法原理，实现和应用"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("不同于那些领域相似假设的方法，认为"),e("em",[s._v("两个不是近邻的顶点也可能拥有很高的相似性")]),s._v(".\n重点关注结构相似性， 因此从空间结构相似性的角度定义顶点相似度。")]),s._v(" "),e("p",[s._v("直观来看，具有相同度数的顶点是结构相似的，若各自邻接顶点仍然具有相同度数，那么他们的相似度就更高。")]),s._v(" "),e("h4",{attrs:{id:"顶点对距离定义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#顶点对距离定义"}},[s._v("#")]),s._v(" 顶点对距离定义")]),s._v(" "),e("p",[s._v("令 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("R")]),e("mrow",[e("mi",[s._v("k")])],1)],1),e("mo",[s._v("(")]),e("mi",[s._v("u")]),e("mo",[s._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("R _ { k } ( u )")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.00773em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v(" 表示到顶点 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("u")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("u")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("u")])])])]),s._v(" 距离为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("k")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("k")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),s._v(" 的顶点集合 (特别的，"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("R")]),e("mn",[s._v("1")])],1),e("mo",[s._v("(")]),e("mi",[s._v("u")]),e("mo",[s._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("R_1(u)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.00773em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v(" 表示"),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("u")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("u")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("u")])])])]),s._v(" 的 直接相邻近邻集合。")]),s._v(" "),e("p",[s._v("令 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("s")]),e("mo",[s._v("(")]),e("mi",[s._v("S")]),e("mo",[s._v(")")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("s(S)")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("s")]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("S")]),e("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v(" 表示顶点集合 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("S")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("S")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[s._v("S")])])])]),s._v(" 的有序度序列。")]),s._v(" "),e("p",[s._v("如下定义顶点 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("u")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("u")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit"},[s._v("u")])])])]),s._v(" 和 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("v")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("v")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("v")])])])]),s._v(" 之间距离为 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("k")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("k")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),s._v("（这里的距离 k 实际上是指距离小于等于 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("k")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("k")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),s._v(" 的节点集合）的环路上的结构距离")]),s._v(" "),e("p",[e("span",{staticClass:"katex-display"},[e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("k")])],1)],1),e("mo",[s._v("(")]),e("mi",[s._v("u")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("v")]),e("mo",[s._v(")")]),e("mo",[s._v("=")]),e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mi",[s._v("k")]),e("mo",[s._v("−")]),e("mn",[s._v("1")])],1)],1),e("mo",[s._v("(")]),e("mi",[s._v("u")]),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("v")]),e("mo",[s._v(")")]),e("mo",[s._v("+")]),e("mi",[s._v("g")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("mi",[s._v("s")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("R")]),e("mrow",[e("mi",[s._v("k")])],1)],1),e("mo",[s._v("(")]),e("mi",[s._v("u")]),e("mo",[s._v(")")]),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("s")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("R")]),e("mrow",[e("mi",[s._v("k")])],1)],1),e("mo",[s._v("(")]),e("mi",[s._v("v")]),e("mo",[s._v(")")]),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mi",[s._v("k")]),e("mo",[s._v("≥")]),e("mn",[s._v("0")]),e("mtext",[e("mtext"),e("mi",{attrs:{mathvariant:"normal"}},[s._v("a")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("n")]),e("mi",{attrs:{mathvariant:"normal"}},[s._v("d")]),e("mtext")],1),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("∣")]),e("msub",[e("mi",[s._v("R")]),e("mrow",[e("mi",[s._v("k")])],1)],1),e("mo",[s._v("(")]),e("mi",[s._v("u")]),e("mo",[s._v(")")]),e("mo",{attrs:{fence:"true"}},[s._v("∣")])],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("∣")]),e("msub",[e("mi",[s._v("R")]),e("mrow",[e("mi",[s._v("k")])],1)],1),e("mo",[s._v("(")]),e("mi",[s._v("v")]),e("mo",[s._v(")")]),e("mo",{attrs:{fence:"true"}},[s._v("∣")])],1),e("mo",[s._v(">")]),e("mn",[s._v("0")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("f _ { k } ( u , v ) = f _ { k - 1 } ( u , v ) + g \\left( s \\left( R _ { k } ( u ) \\right) , s \\left( R _ { k } ( v ) \\right) \\right) , k \\geq 0 \\text { and } \\left| R _ { k } ( u ) \\right| , \\left| R _ { k } ( v ) \\right| > 0\n")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base displaystyle textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("v")]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mbin"},[s._v("−")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("v")]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"mbin"},[s._v("+")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("s")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.00773em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit"},[s._v("s")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.00773em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("v")]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")]),e("span",{staticClass:"mrel"},[s._v("≥")]),e("span",{staticClass:"mord mathrm"},[s._v("0")]),e("span",{staticClass:"text mord displaystyle textstyle uncramped"},[e("span",{staticClass:"mord mspace"}),e("span",{staticClass:"mord mathrm"},[s._v("a")]),e("span",{staticClass:"mord mathrm"},[s._v("n")]),e("span",{staticClass:"mord mathrm"},[s._v("d")]),e("span",{staticClass:"mord mspace"})]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.00773em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit"},[s._v("u")]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("∣")])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"minner displaystyle textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("∣")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.00773em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[s._v("k")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mopen"},[s._v("(")]),e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("v")]),e("span",{staticClass:"mclose"},[s._v(")")]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("∣")])]),e("span",{staticClass:"mrel"},[s._v(">")]),e("span",{staticClass:"mord mathrm"},[s._v("0")])])])])])]),s._v(" "),e("p",[s._v("其中 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("mi",[s._v("g")]),e("mrow",[e("mo",{attrs:{fence:"true"}},[s._v("(")]),e("msub",[e("mi",[s._v("D")]),e("mrow",[e("mn",[s._v("1")])],1)],1),e("mo",{attrs:{separator:"true"}},[s._v(",")]),e("msub",[e("mi",[s._v("D")]),e("mrow",[e("mn",[s._v("2")])],1)],1),e("mo",{attrs:{fence:"true"}},[s._v(")")])],1),e("mo",[s._v("≥")]),e("mn",[s._v("0")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("g \\left( D _ { 1 } , D _ { 2 } \\right) \\geq 0")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),e("span",{staticClass:"minner textstyle uncramped"},[e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v("(")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("D")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mpunct"},[s._v(",")]),e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("D")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s._v(")")])]),e("span",{staticClass:"mrel"},[s._v("≥")]),e("span",{staticClass:"mord mathrm"},[s._v("0")])])])]),s._v(" 是衡量有序度序列 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("D")]),e("mn",[s._v("1")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("D_1")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("D")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("1")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 和 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("D")]),e("mn",[s._v("2")])],1)],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("D_2")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("D")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord mathrm"},[s._v("2")])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 的距离的函数，且 "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",[e("semantics",[e("mrow",[e("msub",[e("mi",[s._v("f")]),e("mrow",[e("mo",[s._v("−")]),e("mn",[s._v("1")])],1)],1),e("mo",[s._v("=")]),e("mn",[s._v("0")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("f_{-1} = 0")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),e("span",{staticClass:"strut bottom",staticStyle:{height:"0.902771em","vertical-align":"-0.208331em"}}),e("span",{staticClass:"base textstyle uncramped"},[e("span",{staticClass:"mord"},[e("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),e("span",{staticClass:"vlist"},[e("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.10764em"}},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),e("span",{staticClass:"reset-textstyle scriptstyle cramped"},[e("span",{staticClass:"mord scriptstyle cramped"},[e("span",{staticClass:"mord"},[s._v("−")]),e("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),e("span",{staticClass:"baseline-fix"},[e("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[e("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),e("span",{staticClass:"mrel"},[s._v("=")]),e("span",{staticClass:"mord mathrm"},[s._v("0")])])])])]),s._v(" "),e("p",[s._v("由于两个序列的长度可能不同，并且可能含有重复元素，因此文章采用了 "),e("code",[s._v("Dynamic Time Warping(DTW)")]),s._v(" 来衡量两个有序度序列。")]),s._v(" "),e("h4",{attrs:{id:"构建层次带权图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#构建层次带权图"}},[s._v("#")]),s._v(" 构建层次带权图")]),s._v(" "),e("h4",{attrs:{id:"采样获取顶点序列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#采样获取顶点序列"}},[s._v("#")]),s._v(" 采样获取顶点序列")]),s._v(" "),e("h3",{attrs:{id:"阿里的-graph-embedding-方法-eges"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#阿里的-graph-embedding-方法-eges"}},[s._v("#")]),s._v(" 阿里的 Graph Embedding 方法 EGES")]),s._v(" "),e("p",[s._v("2018 年阿里公布了其在淘宝应用的 Embedding 方法 EGES（Enhanced Graph Embedding with Side Information），其基本思想是在 DeepWalk 生成的 graph embedding 基础上引入附加信息，以重点解决冷启动和长尾商品的问题。")]),s._v(" "),e("p",[s._v("生成 Graph embedding 的第一步是生成物品关系图，通过用户行为序列可以生成物品相关图，利用相同属性、相同类别等信息，也可以通过这些相似性建立物品之间的边，从而生成基于内容的 knowledge graph。而基于 knowledge graph 生成的物品向量可以被称为补充信息（side information）embedding 向量，当然，根据补充信息类别的不同，可以有多个 side information embedding 向量。")]),s._v(" "),e("p",[s._v("那么如何融合一个物品的多个 embedding 向量，使之形成物品最后的 embedding 呢？最简单的方法是在深度神经网络中加入 average pooling 层将不同 embedding 平均起来，阿里在此基础上进行了加强，对每个 embedding 加上了权重")]),s._v(" "),e("h2",{attrs:{id:"动态词向量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动态词向量"}},[s._v("#")]),s._v(" 动态词向量")]),s._v(" "),e("p",[s._v("之前的词向量均是静态的词向量，无法解决一次多义等问题。")]),s._v(" "),e("h3",{attrs:{id:"elmo-gpt-bert"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#elmo-gpt-bert"}},[s._v("#")]),s._v(" ELMO-GPT-Bert")]),s._v(" "),e("p",[s._v("elmo 采用 LSTM 进行特征提取, 而 GPT 和 bert 均采用 Transformer[^1] 进行特征提取。\n[^1]: Transformer : 参见 attension 专题")]),s._v(" "),e("p",[s._v("GPT 采用单向语言模型，elmo 和 bert 采用双向语言模型。但是 elmo 实际上是两个单向语言模型（方向相反）的拼接，这种融合特征的能力比 bert 一体化融合特征方式弱。")]),s._v(" "),e("p",[s._v("GPT 和 bert 都采用 Transformer，Transformer 是 encoder-decoder 结构，GPT 的单向语言模型采用 decoder 部分，decoder 的部分见到的都是不完整的句子；bert 的双向语言模型则采用 encoder 部分，采用了完整句子。")]),s._v(" "),e("h4",{attrs:{id:"elmo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#elmo"}},[s._v("#")]),s._v(" ELMO")]),s._v(" "),e("p",[s._v("Embedding from Language Models")]),s._v(" "),e("p",[s._v("出自论文 "),e("code",[s._v("Deep contextualized word representation")]),s._v(", 关键词： 场景化")]),s._v(" "),e("p",[s._v("主要思路： 根据当前上下文对 Word Embedding 动态调整")]),s._v(" "),e("p",[s._v("双层双向 LSTM， 得到 3 个 embedding, 下游使用的时候对权重进行整合。")]),s._v(" "),e("h4",{attrs:{id:"gpt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gpt"}},[s._v("#")]),s._v(" GPT")]),s._v(" "),e("p",[s._v("GPT 是“Generative Pre-Training”的简称")]),s._v(" "),e("h4",{attrs:{id:"gpt2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gpt2"}},[s._v("#")]),s._v(" GPT2")]),s._v(" "),e("p",[s._v("模型强大到 OpenAI 都不敢公布完整模型！")]),s._v(" "),e("p",[s._v("GPT-2 参数达到了 15 亿个，使用了包含 800 万个网页的数据集来训练，共有 40GB")]),s._v(" "),e("h4",{attrs:{id:"bert"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bert"}},[s._v("#")]),s._v(" Bert")]),s._v(" "),e("p",[s._v("来自谷歌")]),s._v(" "),e("p",[s._v("Bidirectional Encoder Representation from Transformers，bert 的核心是双向 Transformer Encoder")]),s._v(" "),e("p",[s._v("BERT Transformer 使用双向 self-attention，而 GPT Transformer 使用受限制的 self-attention，其中每个 token 只能处理其左侧的上下文。双向 Transformer 通常被称为“Transformer encoder”，而左侧上下文被称为“Transformer decoder”，decoder 是不能获要预测的信息的。")]),s._v(" "),e("p",[s._v("为了训练一个深度双向表示（deep bidirectional representation），研究团队采用了一种简单的方法，即随机屏蔽（masking）部分输入 token，然后只预测那些被屏蔽的 token。论文将这个过程称为“masked LM”(MLM)。")]),s._v(" "),e("h5",{attrs:{id:"bert-应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bert-应用"}},[s._v("#")]),s._v(" Bert 应用")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("谷歌"),e("a",{attrs:{href:"https://github.com/google-research/bert#pre-trained-models",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方代码"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/hanxiao/bert-as-service",target:"_blank",rel:"noopener noreferrer"}},[s._v("Bert-As-Service"),e("OutboundLink")],1),s._v("\n利用 ZeroMQ (分布式消息) 实现的句子编码服务，其中，句子长度可变。\n"),e("code",[s._v("pip install -U bert-serving-server bert-serving-client")]),s._v("\n下载中文模型（364M，解压后 412M）\n起服务 "),e("code",[s._v("bert-serving-start -model_dir /Users/zhangxisheng/Documents/models/chinese_L-12_H-768_A-12 -num_worker=1")])])])]),s._v(" "),e("h3",{attrs:{id:"xlnet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xlnet"}},[s._v("#")]),s._v(" XLNet")]),s._v(" "),e("p",[s._v("通过 "),e("code",[s._v("permutation loss")]),s._v(" 的方式避免了 BERT 里面 "),e("code",[s._v("[MASK]")]),s._v(" 带来的上下文的损失，却又能兼顾左右的信息")]),s._v(" "),e("p",[s._v("attention mask")]),s._v(" "),e("h2",{attrs:{id:"其他"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),e("h3",{attrs:{id:"time-embedding"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#time-embedding"}},[s._v("#")]),s._v(" Time Embedding")]),s._v(" "),e("p",[s._v("万物皆可嵌入，连时间也行。")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://www.arxiv-vanity.com/papers/1907.05321/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Time2Vec: Learning a Vector Representation of Time"),e("OutboundLink")],1)]),s._v(" "),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"http://licstar.net/archives/328",target:"_blank",rel:"noopener noreferrer"}},[s._v("Deep Learning in NLP （一）词向量和语言模型"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:""}},[s._v("Word2vec Parameter Learning Explained (UMich 2016)")]),s._v("\nby Xin Rong")])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/64200072",target:"_blank",rel:"noopener noreferrer"}},[s._v("深度学习中不得不学的 Graph Embedding 方法"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("ul",[e("li",[e("a",{attrs:{href:""}},[s._v("Learning Word Representations by Jointly Modeling Syntagmatic and Paradigmatic Relations ")])])])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"http://arxiv.org/abs/1412.6623",target:"_blank",rel:"noopener noreferrer"}},[s._v("Word Representations via Gaussian Embedding by by Luke Vilnis, et al., 2014"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"http://www.cs.cmu.edu/~lingwang/papers/emnlp2015-2.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("Not All Contexts Are Created Equal: Better Word Representations with Variable Attention"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/cemoody/lda2vec",target:"_blank",rel:"noopener noreferrer"}},[s._v("lda2vec"),e("OutboundLink")],1),s._v(" by Chris Moody")])]),s._v(" "),e("li",[e("p",[s._v("[利用 n 元笔画信息作中文词嵌入](file:///Users/zhangxisheng/Downloads/cw2vec.pdf)\n例如，木材 和 森林 是关系比较近的，但如果只考虑单字，则无关联，这是不应该的。\n充分利用汉子丰富的内在特征")]),s._v(" "),e("p",[s._v("智，如果被分为 矢，口，日，则不相关，但是如果氛围 知，日，则相关性就高了。\n具体的做法： 将笔画分为 5 类，")])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://arxiv.org/abs/1905.03329",target:"_blank",rel:"noopener noreferrer"}},[s._v("Learning Embeddings into Entropic Wasserstein Spaces"),e("OutboundLink")],1)])])]),s._v(" "),e("ul",[e("li",[e("p",[e("em",[e("a",{attrs:{href:"http://arxiv.org/abs/1507.05523",target:"_blank",rel:"noopener noreferrer"}},[s._v("How to Generate a good Word Embeding?"),e("OutboundLink")],1)])]),s._v(" "),e("p",[s._v("作者本人还写了一篇"),e("a",{attrs:{href:"http://licstar.net/archives/620",target:"_blank",rel:"noopener noreferrer"}},[s._v("博客"),e("OutboundLink")],1),s._v("作为论文导读")])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"http://arxiv.org/abs/1506.05703",target:"_blank",rel:"noopener noreferrer"}},[s._v('"The Sum of Its Parts": Joint Learning of Word and Phrase Representations with Autoencoders by Rémi Lebret, 2015'),e("OutboundLink")],1)])])])])}),[],!1,null,null,null);t.default=i.exports}}]);